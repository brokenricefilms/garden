/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source visit the plugins github repository
*/

/*
License obsidian-tasks:
MIT License

Copyright (c) 2021 Martin Schenck and Clare Macrae

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
*/

/*
License rrule (included library):
rrule.js: Library for working with recurrence rules for calendar dates.
=======================================================================

Copyright 2010, Jakub Roztocil <jakub@roztocil.name> and Lars Schöning

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

    1. Redistributions of source code must retain the above copyright notice,
       this list of conditions and the following disclaimer.

    2. Redistributions in binary form must reproduce the above copyright
       notice, this list of conditions and the following disclaimer in the
       documentation and/or other materials provided with the distribution.

    3. Neither the name of The author nor the names of its contributors may
       be used to endorse or promote products derived from this software
       without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE AUTHOR AND CONTRIBUTORS BE LIABLE FOR
ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.



./rrule.js and ./test/tests.js is based on python-dateutil. LICENCE:

python-dateutil - Extensions to the standard Python datetime module.
====================================================================

Copyright (c) 2003-2011 - Gustavo Niemeyer <gustavo@niemeyer.net>
Copyright (c) 2012 - Tomi Pieviläinen <tomi.pievilainen@iki.fi>

All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

    * Redistributions of source code must retain the above copyright notice,
      this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright notice,
      this list of conditions and the following disclaimer in the documentation
      and/or other materials provided with the distribution.
    * Neither the name of the copyright holder nor the names of its
      contributors may be used to endorse or promote products derived from
      this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

/*
License chrono-node (included library):
The MIT License

Copyright (c) 2014, Wanasit Tanakitrungruang

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/

"use strict";var Mk=Object.create;var Hi=Object.defineProperty,Rk=Object.defineProperties,xk=Object.getOwnPropertyDescriptor,Pk=Object.getOwnPropertyDescriptors,Ak=Object.getOwnPropertyNames,sm=Object.getOwnPropertySymbols,Nk=Object.getPrototypeOf,am=Object.prototype.hasOwnProperty,Ck=Object.prototype.propertyIsEnumerable;var im=(r,e,t)=>e in r?Hi(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ae=(r,e)=>{for(var t in e||(e={}))am.call(e,t)&&im(r,t,e[t]);if(sm)for(var t of sm(e))Ck.call(e,t)&&im(r,t,e[t]);return r},tr=(r,e)=>Rk(r,Pk(e));var S=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Ik=(r,e)=>{for(var t in e)Hi(r,t,{get:e[t],enumerable:!0})},om=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Ak(e))!am.call(r,s)&&s!==t&&Hi(r,s,{get:()=>e[s],enumerable:!(n=xk(e,s))||n.enumerable});return r};var Cn=(r,e,t)=>(t=r!=null?Mk(Nk(r)):{},om(e||!r||!r.__esModule?Hi(t,"default",{value:r,enumerable:!0}):t,r)),Fk=r=>om(Hi({},"__esModule",{value:!0}),r);var Q=(r,e,t)=>new Promise((n,s)=>{var a=c=>{try{l(t.next(c))}catch(f){s(f)}},o=c=>{try{l(t.throw(c))}catch(f){s(f)}},l=c=>c.done?n(c.value):Promise.resolve(c.value).then(a,o);l((t=t.apply(r,e)).next())});var Ie=S(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.matchAnyPattern=In.extractTerms=In.repeatedTimeunitPattern=void 0;function Wk(r,e){let t=e.replace(/\((?!\?)/g,"(?:");return`${r}${t}\\s{0,5}(?:,?\\s{0,5}${t}){0,10}`}In.repeatedTimeunitPattern=Wk;function um(r){let e;return r instanceof Array?e=[...r]:r instanceof Map?e=Array.from(r.keys()):e=Object.keys(r),e}In.extractTerms=um;function qk(r){return`(?:${um(r).sort((t,n)=>n.length-t.length).join("|").replace(/\./g,"\\.")})`}In.matchAnyPattern=qk});var Re=S((Wl,ql)=>{(function(r,e){typeof Wl=="object"&&typeof ql!="undefined"?ql.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis!="undefined"?globalThis:r||self).dayjs=e()})(Wl,function(){"use strict";var r=1e3,e=6e4,t=36e5,n="millisecond",s="second",a="minute",o="hour",l="day",c="week",f="month",p="quarter",g="year",T="date",O="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,I={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},$=function(V,q,P){var J=String(V);return!J||J.length>=q?V:""+Array(q+1-J.length).join(P)+V},H={s:$,z:function(V){var q=-V.utcOffset(),P=Math.abs(q),J=Math.floor(P/60),Y=P%60;return(q<=0?"+":"-")+$(J,2,"0")+":"+$(Y,2,"0")},m:function V(q,P){if(q.date()<P.date())return-V(P,q);var J=12*(P.year()-q.year())+(P.month()-q.month()),Y=q.clone().add(J,f),oe=P-Y<0,y=q.clone().add(J+(oe?-1:1),f);return+(-(J+(P-Y)/(oe?Y-y:y-Y))||0)},a:function(V){return V<0?Math.ceil(V)||0:Math.floor(V)},p:function(V){return{M:f,y:g,w:c,d:l,D:T,h:o,m:a,s,ms:n,Q:p}[V]||String(V||"").toLowerCase().replace(/s$/,"")},u:function(V){return V===void 0}},W="en",ke={};ke[W]=I;var Te=function(V){return V instanceof Ft},be=function(V,q,P){var J;if(!V)return W;if(typeof V=="string")ke[V]&&(J=V),q&&(ke[V]=q,J=V);else{var Y=V.name;ke[Y]=V,J=Y}return!P&&J&&(W=J),J||!P&&W},ee=function(V,q){if(Te(V))return V.clone();var P=typeof q=="object"?q:{};return P.date=V,P.args=arguments,new Ft(P)},ne=H;ne.l=be,ne.i=Te,ne.w=function(V,q){return ee(V,{locale:q.$L,utc:q.$u,x:q.$x,$offset:q.$offset})};var Ft=function(){function V(P){this.$L=be(P.locale,null,!0),this.parse(P)}var q=V.prototype;return q.parse=function(P){this.$d=function(J){var Y=J.date,oe=J.utc;if(Y===null)return new Date(NaN);if(ne.u(Y))return new Date;if(Y instanceof Date)return new Date(Y);if(typeof Y=="string"&&!/Z$/i.test(Y)){var y=Y.match(b);if(y){var _=y[2]-1||0,w=(y[7]||"0").substring(0,3);return oe?new Date(Date.UTC(y[1],_,y[3]||1,y[4]||0,y[5]||0,y[6]||0,w)):new Date(y[1],_,y[3]||1,y[4]||0,y[5]||0,y[6]||0,w)}}return new Date(Y)}(P),this.$x=P.x||{},this.init()},q.init=function(){var P=this.$d;this.$y=P.getFullYear(),this.$M=P.getMonth(),this.$D=P.getDate(),this.$W=P.getDay(),this.$H=P.getHours(),this.$m=P.getMinutes(),this.$s=P.getSeconds(),this.$ms=P.getMilliseconds()},q.$utils=function(){return ne},q.isValid=function(){return this.$d.toString()!==O},q.isSame=function(P,J){var Y=ee(P);return this.startOf(J)<=Y&&Y<=this.endOf(J)},q.isAfter=function(P,J){return ee(P)<this.startOf(J)},q.isBefore=function(P,J){return this.endOf(J)<ee(P)},q.$g=function(P,J,Y){return ne.u(P)?this[J]:this.set(Y,P)},q.unix=function(){return Math.floor(this.valueOf()/1e3)},q.valueOf=function(){return this.$d.getTime()},q.startOf=function(P,J){var Y=this,oe=!!ne.u(J)||J,y=ne.p(P),_=function(N,j){var Ee=ne.w(Y.$u?Date.UTC(Y.$y,j,N):new Date(Y.$y,j,N),Y);return oe?Ee:Ee.endOf(l)},w=function(N,j){return ne.w(Y.toDate()[N].apply(Y.toDate("s"),(oe?[0,0,0,0]:[23,59,59,999]).slice(j)),Y)},k=this.$W,D=this.$M,M=this.$D,E="set"+(this.$u?"UTC":"");switch(y){case g:return oe?_(1,0):_(31,11);case f:return oe?_(1,D):_(0,D+1);case c:var C=this.$locale().weekStart||0,A=(k<C?k+7:k)-C;return _(oe?M-A:M+(6-A),D);case l:case T:return w(E+"Hours",0);case o:return w(E+"Minutes",1);case a:return w(E+"Seconds",2);case s:return w(E+"Milliseconds",3);default:return this.clone()}},q.endOf=function(P){return this.startOf(P,!1)},q.$set=function(P,J){var Y,oe=ne.p(P),y="set"+(this.$u?"UTC":""),_=(Y={},Y[l]=y+"Date",Y[T]=y+"Date",Y[f]=y+"Month",Y[g]=y+"FullYear",Y[o]=y+"Hours",Y[a]=y+"Minutes",Y[s]=y+"Seconds",Y[n]=y+"Milliseconds",Y)[oe],w=oe===l?this.$D+(J-this.$W):J;if(oe===f||oe===g){var k=this.clone().set(T,1);k.$d[_](w),k.init(),this.$d=k.set(T,Math.min(this.$D,k.daysInMonth())).$d}else _&&this.$d[_](w);return this.init(),this},q.set=function(P,J){return this.clone().$set(P,J)},q.get=function(P){return this[ne.p(P)]()},q.add=function(P,J){var Y,oe=this;P=Number(P);var y=ne.p(J),_=function(D){var M=ee(oe);return ne.w(M.date(M.date()+Math.round(D*P)),oe)};if(y===f)return this.set(f,this.$M+P);if(y===g)return this.set(g,this.$y+P);if(y===l)return _(1);if(y===c)return _(7);var w=(Y={},Y[a]=e,Y[o]=t,Y[s]=r,Y)[y]||1,k=this.$d.getTime()+P*w;return ne.w(k,this)},q.subtract=function(P,J){return this.add(-1*P,J)},q.format=function(P){var J=this,Y=this.$locale();if(!this.isValid())return Y.invalidDate||O;var oe=P||"YYYY-MM-DDTHH:mm:ssZ",y=ne.z(this),_=this.$H,w=this.$m,k=this.$M,D=Y.weekdays,M=Y.months,E=function(j,Ee,pe,le){return j&&(j[Ee]||j(J,oe))||pe[Ee].substr(0,le)},C=function(j){return ne.s(_%12||12,j,"0")},A=Y.meridiem||function(j,Ee,pe){var le=j<12?"AM":"PM";return pe?le.toLowerCase():le},N={YY:String(this.$y).slice(-2),YYYY:this.$y,M:k+1,MM:ne.s(k+1,2,"0"),MMM:E(Y.monthsShort,k,M,3),MMMM:E(M,k),D:this.$D,DD:ne.s(this.$D,2,"0"),d:String(this.$W),dd:E(Y.weekdaysMin,this.$W,D,2),ddd:E(Y.weekdaysShort,this.$W,D,3),dddd:D[this.$W],H:String(_),HH:ne.s(_,2,"0"),h:C(1),hh:C(2),a:A(_,w,!0),A:A(_,w,!1),m:String(w),mm:ne.s(w,2,"0"),s:String(this.$s),ss:ne.s(this.$s,2,"0"),SSS:ne.s(this.$ms,3,"0"),Z:y};return oe.replace(x,function(j,Ee){return Ee||N[j]||y.replace(":","")})},q.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},q.diff=function(P,J,Y){var oe,y=ne.p(J),_=ee(P),w=(_.utcOffset()-this.utcOffset())*e,k=this-_,D=ne.m(this,_);return D=(oe={},oe[g]=D/12,oe[f]=D,oe[p]=D/3,oe[c]=(k-w)/6048e5,oe[l]=(k-w)/864e5,oe[o]=k/t,oe[a]=k/e,oe[s]=k/r,oe)[y]||k,Y?D:ne.a(D)},q.daysInMonth=function(){return this.endOf(f).$D},q.$locale=function(){return ke[this.$L]},q.locale=function(P,J){if(!P)return this.$L;var Y=this.clone(),oe=be(P,J,!0);return oe&&(Y.$L=oe),Y},q.clone=function(){return ne.w(this.$d,this)},q.toDate=function(){return new Date(this.valueOf())},q.toJSON=function(){return this.isValid()?this.toISOString():null},q.toISOString=function(){return this.$d.toISOString()},q.toString=function(){return this.$d.toUTCString()},V}(),gt=Ft.prototype;return ee.prototype=gt,[["$ms",n],["$s",s],["$m",a],["$H",o],["$W",l],["$M",f],["$y",g],["$D",T]].forEach(function(V){gt[V[1]]=function(q){return this.$g(q,V[0],V[1])}}),ee.extend=function(V,q){return V.$i||(V(q,Ft,ee),V.$i=!0),ee},ee.locale=be,ee.isDayjs=Te,ee.unix=function(V){return ee(1e3*V)},ee.en=ke[W],ee.Ls=ke,ee.p={},ee})});var Pt=S(Fn=>{"use strict";var jk=Fn&&Fn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.findYearClosestToRef=Fn.findMostLikelyADYear=void 0;var $k=jk(Re());function Gk(r){return r<100&&(r>50?r=r+1900:r=r+2e3),r}Fn.findMostLikelyADYear=Gk;function Hk(r,e,t){let n=$k.default(r),s=n;s=s.month(t-1),s=s.date(e),s=s.year(n.year());let a=s.add(1,"y"),o=s.add(-1,"y");return Math.abs(a.diff(n))<Math.abs(s.diff(n))?s=a:Math.abs(o.diff(n))<Math.abs(s.diff(n))&&(s=o),s.year()}Fn.findYearClosestToRef=Hk});var At=S(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.parseTimeUnits=ye.TIME_UNITS_PATTERN=ye.parseYear=ye.YEAR_PATTERN=ye.parseOrdinalNumberPattern=ye.ORDINAL_NUMBER_PATTERN=ye.parseNumberPattern=ye.NUMBER_PATTERN=ye.TIME_UNIT_DICTIONARY=ye.ORDINAL_WORD_DICTIONARY=ye.INTEGER_WORD_DICTIONARY=ye.MONTH_DICTIONARY=ye.FULL_MONTH_NAME_DICTIONARY=ye.WEEKDAY_DICTIONARY=void 0;var Ao=Ie(),Bk=Pt();ye.WEEKDAY_DICTIONARY={sunday:0,sun:0,"sun.":0,monday:1,mon:1,"mon.":1,tuesday:2,tue:2,"tue.":2,wednesday:3,wed:3,"wed.":3,thursday:4,thurs:4,"thurs.":4,thur:4,"thur.":4,thu:4,"thu.":4,friday:5,fri:5,"fri.":5,saturday:6,sat:6,"sat.":6};ye.FULL_MONTH_NAME_DICTIONARY={january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12};ye.MONTH_DICTIONARY=Object.assign(Object.assign({},ye.FULL_MONTH_NAME_DICTIONARY),{jan:1,"jan.":1,feb:2,"feb.":2,mar:3,"mar.":3,apr:4,"apr.":4,jun:6,"jun.":6,jul:7,"jul.":7,aug:8,"aug.":8,sep:9,"sep.":9,sept:9,"sept.":9,oct:10,"oct.":10,nov:11,"nov.":11,dec:12,"dec.":12});ye.INTEGER_WORD_DICTIONARY={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12};ye.ORDINAL_WORD_DICTIONARY={first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12,thirteenth:13,fourteenth:14,fifteenth:15,sixteenth:16,seventeenth:17,eighteenth:18,nineteenth:19,twentieth:20,"twenty first":21,"twenty-first":21,"twenty second":22,"twenty-second":22,"twenty third":23,"twenty-third":23,"twenty fourth":24,"twenty-fourth":24,"twenty fifth":25,"twenty-fifth":25,"twenty sixth":26,"twenty-sixth":26,"twenty seventh":27,"twenty-seventh":27,"twenty eighth":28,"twenty-eighth":28,"twenty ninth":29,"twenty-ninth":29,thirtieth:30,"thirty first":31,"thirty-first":31};ye.TIME_UNIT_DICTIONARY={sec:"second",second:"second",seconds:"second",min:"minute",mins:"minute",minute:"minute",minutes:"minute",h:"hour",hr:"hour",hrs:"hour",hour:"hour",hours:"hour",day:"d",days:"d",week:"week",weeks:"week",month:"month",months:"month",qtr:"quarter",quarter:"quarter",quarters:"quarter",y:"year",yr:"year",year:"year",years:"year"};ye.NUMBER_PATTERN=`(?:${Ao.matchAnyPattern(ye.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|half(?:\\s{0,2}an?)?|an?\\b(?:\\s{0,2}few)?|few|several|a?\\s{0,2}couple\\s{0,2}(?:of)?)`;function cm(r){let e=r.toLowerCase();return ye.INTEGER_WORD_DICTIONARY[e]!==void 0?ye.INTEGER_WORD_DICTIONARY[e]:e==="a"||e==="an"?1:e.match(/few/)?3:e.match(/half/)?.5:e.match(/couple/)?2:e.match(/several/)?7:parseFloat(e)}ye.parseNumberPattern=cm;ye.ORDINAL_NUMBER_PATTERN=`(?:${Ao.matchAnyPattern(ye.ORDINAL_WORD_DICTIONARY)}|[0-9]{1,2}(?:st|nd|rd|th)?)`;function zk(r){let e=r.toLowerCase();return ye.ORDINAL_WORD_DICTIONARY[e]!==void 0?ye.ORDINAL_WORD_DICTIONARY[e]:(e=e.replace(/(?:st|nd|rd|th)$/i,""),parseInt(e))}ye.parseOrdinalNumberPattern=zk;ye.YEAR_PATTERN="(?:[1-9][0-9]{0,3}\\s{0,2}(?:BE|AD|BC|BCE|CE)|[1-2][0-9]{3}|[5-9][0-9])";function Vk(r){if(/BE/i.test(r))return r=r.replace(/BE/i,""),parseInt(r)-543;if(/BCE?/i.test(r))return r=r.replace(/BCE?/i,""),-parseInt(r);if(/(AD|CE)/i.test(r))return r=r.replace(/(AD|CE)/i,""),parseInt(r);let e=parseInt(r);return Bk.findMostLikelyADYear(e)}ye.parseYear=Vk;var dm=`(${ye.NUMBER_PATTERN})\\s{0,3}(${Ao.matchAnyPattern(ye.TIME_UNIT_DICTIONARY)})`,lm=new RegExp(dm,"i");ye.TIME_UNITS_PATTERN=Ao.repeatedTimeunitPattern("(?:(?:about|around)\\s{0,3})?",dm);function Kk(r){let e={},t=r,n=lm.exec(t);for(;n;)Zk(e,n),t=t.substring(n[0].length).trim(),n=lm.exec(t);return e}ye.parseTimeUnits=Kk;function Zk(r,e){let t=cm(e[1]),n=ye.TIME_UNIT_DICTIONARY[e[2].toLowerCase()];r[n]=t}});var fm=S((jl,$l)=>{(function(r,e){typeof jl=="object"&&typeof $l!="undefined"?$l.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis!="undefined"?globalThis:r||self).dayjs_plugin_quarterOfYear=e()})(jl,function(){"use strict";var r="month",e="quarter";return function(t,n){var s=n.prototype;s.quarter=function(l){return this.$utils().u(l)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(l-1))};var a=s.add;s.add=function(l,c){return l=Number(l),this.$utils().p(c)===e?this.add(3*l,r):a.bind(this)(l,c)};var o=s.startOf;s.startOf=function(l,c){var f=this.$utils(),p=!!f.u(c)||c;if(f.p(l)===e){var g=this.quarter()-1;return p?this.month(3*g).startOf(r).startOf("day"):this.month(3*g+2).endOf(r).endOf("day")}return o.bind(this)(l,c)}}})});var yr=S(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.implySimilarTime=Wr.assignSimilarTime=Wr.assignSimilarDate=Wr.assignTheNextDay=void 0;var hm=mt();function Xk(r,e){e=e.add(1,"day"),pm(r,e),mm(r,e)}Wr.assignTheNextDay=Xk;function pm(r,e){r.assign("day",e.date()),r.assign("month",e.month()+1),r.assign("year",e.year())}Wr.assignSimilarDate=pm;function Qk(r,e){r.assign("hour",e.hour()),r.assign("minute",e.minute()),r.assign("second",e.second()),r.assign("millisecond",e.millisecond()),r.get("hour")<12?r.assign("meridiem",hm.Meridiem.AM):r.assign("meridiem",hm.Meridiem.PM)}Wr.assignSimilarTime=Qk;function mm(r,e){r.imply("hour",e.hour()),r.imply("minute",e.minute()),r.imply("second",e.second()),r.imply("millisecond",e.millisecond())}Wr.implySimilarTime=mm});var ym=S(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.toTimezoneOffset=os.TIMEZONE_ABBR_MAP=void 0;os.TIMEZONE_ABBR_MAP={ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:60,CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CVT:-60,CXT:420,ChST:600,DAVT:420,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:-300,FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:330,JST:540,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,LHDT:660,LHST:630,LINT:840,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:180,MST:-420,MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,OMSST:420,OMST:420,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:-480,PWT:540,PYST:-180,PYT:-240,RET:240,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-210,VLAST:660,VLAT:660,VUT:660,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360};function Jk(r){var e;return r==null?null:typeof r=="number"?r:(e=os.TIMEZONE_ABBR_MAP[r])!==null&&e!==void 0?e:null}os.toTimezoneOffset=Jk});var rt=S(qr=>{"use strict";var gm=qr&&qr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(qr,"__esModule",{value:!0});qr.ParsingResult=qr.ParsingComponents=qr.ReferenceWithTimezone=void 0;var eE=gm(fm()),No=gm(Re()),Gl=yr(),tE=ym();No.default.extend(eE.default);var Hl=class{constructor(e){var t;e=e!=null?e:new Date,e instanceof Date?this.instant=e:(this.instant=(t=e.instant)!==null&&t!==void 0?t:new Date,this.timezoneOffset=tE.toTimezoneOffset(e.timezone))}};qr.ReferenceWithTimezone=Hl;var us=class{constructor(e,t){if(this.reference=e,this.knownValues={},this.impliedValues={},t)for(let s in t)this.knownValues[s]=t[s];let n=No.default(e.instant);this.imply("day",n.date()),this.imply("month",n.month()+1),this.imply("year",n.year()),this.imply("hour",12),this.imply("minute",0),this.imply("second",0),this.imply("millisecond",0)}get(e){return e in this.knownValues?this.knownValues[e]:e in this.impliedValues?this.impliedValues[e]:null}isCertain(e){return e in this.knownValues}getCertainComponents(){return Object.keys(this.knownValues)}imply(e,t){return e in this.knownValues?this:(this.impliedValues[e]=t,this)}assign(e,t){return this.knownValues[e]=t,delete this.impliedValues[e],this}delete(e){delete this.knownValues[e],delete this.impliedValues[e]}clone(){let e=new us(this.reference);e.knownValues={},e.impliedValues={};for(let t in this.knownValues)e.knownValues[t]=this.knownValues[t];for(let t in this.impliedValues)e.impliedValues[t]=this.impliedValues[t];return e}isOnlyDate(){return!this.isCertain("hour")&&!this.isCertain("minute")&&!this.isCertain("second")}isOnlyTime(){return!this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isOnlyWeekdayComponent(){return this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isOnlyDayMonthComponent(){return this.isCertain("day")&&this.isCertain("month")&&!this.isCertain("year")}isValidDate(){let e=this.dateWithoutTimezoneAdjustment();return!(e.getFullYear()!==this.get("year")||e.getMonth()!==this.get("month")-1||e.getDate()!==this.get("day")||this.get("hour")!=null&&e.getHours()!=this.get("hour")||this.get("minute")!=null&&e.getMinutes()!=this.get("minute"))}toString(){return`[ParsingComponents {knownValues: ${JSON.stringify(this.knownValues)}, impliedValues: ${JSON.stringify(this.impliedValues)}}, reference: ${JSON.stringify(this.reference)}]`}dayjs(){return No.default(this.date())}date(){let e=this.dateWithoutTimezoneAdjustment();return new Date(e.getTime()+this.getSystemTimezoneAdjustmentMinute(e)*6e4)}dateWithoutTimezoneAdjustment(){let e=new Date(this.get("year"),this.get("month")-1,this.get("day"),this.get("hour"),this.get("minute"),this.get("second"),this.get("millisecond"));return e.setFullYear(this.get("year")),e}getSystemTimezoneAdjustmentMinute(e){var t,n;(!e||e.getTime()<0)&&(e=new Date);let s=-e.getTimezoneOffset(),a=(n=(t=this.get("timezoneOffset"))!==null&&t!==void 0?t:this.reference.timezoneOffset)!==null&&n!==void 0?n:s;return s-a}static createRelativeFromReference(e,t){let n=No.default(e.instant);for(let a in t)n=n.add(t[a],a);let s=new us(e);return t.hour||t.minute||t.second?(Gl.assignSimilarTime(s,n),Gl.assignSimilarDate(s,n),e.timezoneOffset!==null&&s.assign("timezoneOffset",-e.instant.getTimezoneOffset())):(Gl.implySimilarTime(s,n),e.timezoneOffset!==null&&s.imply("timezoneOffset",-e.instant.getTimezoneOffset()),t.d?(s.assign("day",n.date()),s.assign("month",n.month()+1),s.assign("year",n.year())):(t.week&&s.imply("weekday",n.day()),s.imply("day",n.date()),t.month?(s.assign("month",n.month()+1),s.assign("year",n.year())):(s.imply("month",n.month()+1),t.year?s.assign("year",n.year()):s.imply("year",n.year())))),s}};qr.ParsingComponents=us;var Bi=class{constructor(e,t,n,s,a){this.reference=e,this.refDate=e.instant,this.index=t,this.text=n,this.start=s||new us(e),this.end=a}clone(){let e=new Bi(this.reference,this.index,this.text);return e.start=this.start?this.start.clone():null,e.end=this.end?this.end.clone():null,e}date(){return this.start.date()}toString(){return`[ParsingResult {index: ${this.index}, text: '${this.text}', ...}]`}};qr.ParsingResult=Bi});var Z=S(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});Co.AbstractParserWithWordBoundaryChecking=void 0;var Bl=class{constructor(){this.cachedInnerPattern=null,this.cachedPattern=null}patternLeftBoundary(){return"(\\W|^)"}pattern(e){let t=this.innerPattern(e);return t==this.cachedInnerPattern?this.cachedPattern:(this.cachedPattern=new RegExp(`${this.patternLeftBoundary()}${t.source}`,t.flags),this.cachedInnerPattern=t,this.cachedPattern)}extract(e,t){var n;let s=(n=t[1])!==null&&n!==void 0?n:"";t.index=t.index+s.length,t[0]=t[0].substring(s.length);for(let a=2;a<t.length;a++)t[a-1]=t[a];return this.innerExtract(e,t)}};Co.AbstractParserWithWordBoundaryChecking=Bl});var _m=S(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});var Vl=At(),rE=rt(),nE=Z(),sE=new RegExp(`(?:within|in|for)\\s*(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${Vl.TIME_UNITS_PATTERN})(?=\\W|$)`,"i"),iE=new RegExp(`(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${Vl.TIME_UNITS_PATTERN})(?=\\W|$)`,"i"),zl=class extends nE.AbstractParserWithWordBoundaryChecking{innerPattern(e){return e.option.forwardDate?iE:sE}innerExtract(e,t){let n=Vl.parseTimeUnits(t[1]);return rE.ParsingComponents.createRelativeFromReference(e.reference,n)}};Kl.default=zl});var Em=S(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});var aE=Pt(),wm=At(),km=At(),Io=At(),oE=Ie(),uE=Z(),lE=new RegExp(`(?:on\\s{0,3})?(${Io.ORDINAL_NUMBER_PATTERN})(?:\\s{0,3}(?:to|\\-|\\\u2013|until|through|till)?\\s{0,3}(${Io.ORDINAL_NUMBER_PATTERN}))?(?:-|/|\\s{0,3}(?:of)?\\s{0,3})(${oE.matchAnyPattern(wm.MONTH_DICTIONARY)})(?:(?:-|/|,?\\s{0,3})(${km.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),Tm=1,bm=2,cE=3,vm=4,Zl=class extends uE.AbstractParserWithWordBoundaryChecking{innerPattern(){return lE}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=wm.MONTH_DICTIONARY[t[cE].toLowerCase()],a=Io.parseOrdinalNumberPattern(t[Tm]);if(a>31)return t.index=t.index+t[Tm].length,null;if(n.start.assign("month",s),n.start.assign("day",a),t[vm]){let o=km.parseYear(t[vm]);n.start.assign("year",o)}else{let o=aE.findYearClosestToRef(e.refDate,a,s);n.start.imply("year",o)}if(t[bm]){let o=Io.parseOrdinalNumberPattern(t[bm]);n.end=n.start.clone(),n.end.assign("day",o)}return n}};Xl.default=Zl});var Rm=S(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});var dE=Pt(),Om=At(),Fo=At(),Mm=At(),fE=Ie(),hE=Z(),pE=new RegExp(`(${fE.matchAnyPattern(Om.MONTH_DICTIONARY)})(?:-|/|\\s*,?\\s*)(${Fo.ORDINAL_NUMBER_PATTERN})(?!\\s*(?:am|pm))\\s*(?:(?:to|\\-)\\s*(${Fo.ORDINAL_NUMBER_PATTERN})\\s*)?(?:(?:-|/|\\s*,?\\s*)(${Mm.YEAR_PATTERN}))?(?=\\W|$)(?!\\:\\d)`,"i"),mE=1,yE=2,Dm=3,Sm=4,Ql=class extends hE.AbstractParserWithWordBoundaryChecking{innerPattern(){return pE}innerExtract(e,t){let n=Om.MONTH_DICTIONARY[t[mE].toLowerCase()],s=Fo.parseOrdinalNumberPattern(t[yE]);if(s>31)return null;let a=e.createParsingComponents({day:s,month:n});if(t[Sm]){let c=Mm.parseYear(t[Sm]);a.assign("year",c)}else{let c=dE.findYearClosestToRef(e.refDate,s,n);a.imply("year",c)}if(!t[Dm])return a;let o=Fo.parseOrdinalNumberPattern(t[Dm]),l=e.createParsingResult(t.index,t[0]);return l.start=a,l.end=a.clone(),l.end.assign("day",o),l}};Jl.default=Ql});var Am=S(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});var ec=At(),gE=Pt(),_E=Ie(),Pm=At(),TE=Z(),bE=new RegExp(`((?:in)\\s*)?(${_E.matchAnyPattern(ec.MONTH_DICTIONARY)})\\s*(?:[,-]?\\s*(${Pm.YEAR_PATTERN})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,"i"),vE=1,wE=2,xm=3,tc=class extends TE.AbstractParserWithWordBoundaryChecking{innerPattern(){return bE}innerExtract(e,t){let n=t[wE].toLowerCase();if(t[0].length<=3&&!ec.FULL_MONTH_NAME_DICTIONARY[n])return null;let s=e.createParsingResult(t.index+(t[vE]||"").length,t.index+t[0].length);s.start.imply("day",1);let a=ec.MONTH_DICTIONARY[n];if(s.start.assign("month",a),t[xm]){let o=Pm.parseYear(t[xm]);s.start.assign("year",o)}else{let o=gE.findYearClosestToRef(e.refDate,1,a);s.start.imply("year",o)}return s}};rc.default=tc});var Im=S(sc=>{"use strict";Object.defineProperty(sc,"__esModule",{value:!0});var Cm=At(),kE=Ie(),EE=Z(),DE=new RegExp(`([0-9]{4})[\\.\\/\\s](?:(${kE.matchAnyPattern(Cm.MONTH_DICTIONARY)})|([0-9]{1,2}))[\\.\\/\\s]([0-9]{1,2})(?=\\W|$)`,"i"),SE=1,OE=2,Nm=3,ME=4,nc=class extends EE.AbstractParserWithWordBoundaryChecking{innerPattern(){return DE}innerExtract(e,t){let n=t[Nm]?parseInt(t[Nm]):Cm.MONTH_DICTIONARY[t[OE].toLowerCase()];if(n<1||n>12)return null;let s=parseInt(t[SE]);return{day:parseInt(t[ME]),month:n,year:s}}};sc.default=nc});var Fm=S(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});var RE=Z(),xE=new RegExp("([0-9]|0[1-9]|1[012])/([0-9]{4})","i"),PE=1,AE=2,ic=class extends RE.AbstractParserWithWordBoundaryChecking{innerPattern(){return xE}innerExtract(e,t){let n=parseInt(t[AE]),s=parseInt(t[PE]);return e.createParsingComponents().imply("day",1).assign("month",s).assign("year",n)}};ac.default=ic});var ls=S(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});Uo.AbstractTimeExpressionParser=void 0;var Gt=mt();function NE(r,e,t,n){return new RegExp(`${r}${e}(\\d{1,4})(?:(?:\\.|:|\uFF1A)(\\d{1,2})(?:(?::|\uFF1A)(\\d{2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${t}`,n)}function CE(r,e){return new RegExp(`^(${r})(\\d{1,4})(?:(?:\\.|\\:|\\\uFF1A)(\\d{1,2})(?:(?:\\.|\\:|\\\uFF1A)(\\d{1,2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${e}`,"i")}var Lm=2,zs=3,Lo=4,Yo=5,zi=6,oc=class{constructor(e=!1){this.cachedPrimaryPrefix=null,this.cachedPrimarySuffix=null,this.cachedPrimaryTimePattern=null,this.cachedFollowingPhase=null,this.cachedFollowingSuffix=null,this.cachedFollowingTimePatten=null,this.strictMode=e}patternFlags(){return"i"}primaryPatternLeftBoundary(){return"(^|\\s|T|\\b)"}primarySuffix(){return"(?=\\W|$)"}followingSuffix(){return"(?=\\W|$)"}pattern(e){return this.getPrimaryTimePatternThroughCache()}extract(e,t){let n=this.extractPrimaryTimeComponents(e,t);if(!n)return t.index+=t[0].length,null;let s=t.index+t[1].length,a=t[0].substring(t[1].length),o=e.createParsingResult(s,a,n);t.index+=t[0].length;let l=e.text.substring(t.index),f=this.getFollowingTimePatternThroughCache().exec(l);return a.match(/^\d{3,4}/)&&f&&f[0].match(/^\s*([+-])\s*\d{2,4}$/)?null:!f||f[0].match(/^\s*([+-])\s*\d{3,4}$/)?this.checkAndReturnWithoutFollowingPattern(o):(o.end=this.extractFollowingTimeComponents(e,f,o),o.end&&(o.text+=f[0]),this.checkAndReturnWithFollowingPattern(o))}extractPrimaryTimeComponents(e,t,n=!1){let s=e.createParsingComponents(),a=0,o=null,l=parseInt(t[Lm]);if(l>100){if(this.strictMode||t[zs]!=null)return null;a=l%100,l=Math.floor(l/100)}if(l>24)return null;if(t[zs]!=null){if(t[zs].length==1&&!t[zi])return null;a=parseInt(t[zs])}if(a>=60)return null;if(l>12&&(o=Gt.Meridiem.PM),t[zi]!=null){if(l>12)return null;let c=t[zi][0].toLowerCase();c=="a"&&(o=Gt.Meridiem.AM,l==12&&(l=0)),c=="p"&&(o=Gt.Meridiem.PM,l!=12&&(l+=12))}if(s.assign("hour",l),s.assign("minute",a),o!==null?s.assign("meridiem",o):l<12?s.imply("meridiem",Gt.Meridiem.AM):s.imply("meridiem",Gt.Meridiem.PM),t[Yo]!=null){let c=parseInt(t[Yo].substring(0,3));if(c>=1e3)return null;s.assign("millisecond",c)}if(t[Lo]!=null){let c=parseInt(t[Lo]);if(c>=60)return null;s.assign("second",c)}return s}extractFollowingTimeComponents(e,t,n){let s=e.createParsingComponents();if(t[Yo]!=null){let c=parseInt(t[Yo].substring(0,3));if(c>=1e3)return null;s.assign("millisecond",c)}if(t[Lo]!=null){let c=parseInt(t[Lo]);if(c>=60)return null;s.assign("second",c)}let a=parseInt(t[Lm]),o=0,l=-1;if(t[zs]!=null?o=parseInt(t[zs]):a>100&&(o=a%100,a=Math.floor(a/100)),o>=60||a>24)return null;if(a>=12&&(l=Gt.Meridiem.PM),t[zi]!=null){if(a>12)return null;let c=t[zi][0].toLowerCase();c=="a"&&(l=Gt.Meridiem.AM,a==12&&(a=0,s.isCertain("day")||s.imply("day",s.get("day")+1))),c=="p"&&(l=Gt.Meridiem.PM,a!=12&&(a+=12)),n.start.isCertain("meridiem")||(l==Gt.Meridiem.AM?(n.start.imply("meridiem",Gt.Meridiem.AM),n.start.get("hour")==12&&n.start.assign("hour",0)):(n.start.imply("meridiem",Gt.Meridiem.PM),n.start.get("hour")!=12&&n.start.assign("hour",n.start.get("hour")+12)))}return s.assign("hour",a),s.assign("minute",o),l>=0?s.assign("meridiem",l):n.start.isCertain("meridiem")&&n.start.get("hour")>12?n.start.get("hour")-12>a?s.imply("meridiem",Gt.Meridiem.AM):a<=12&&(s.assign("hour",a+12),s.assign("meridiem",Gt.Meridiem.PM)):a>12?s.imply("meridiem",Gt.Meridiem.PM):a<=12&&s.imply("meridiem",Gt.Meridiem.AM),s.date().getTime()<n.start.date().getTime()&&s.imply("day",s.get("day")+1),s}checkAndReturnWithoutFollowingPattern(e){if(e.text.match(/^\d$/)||e.text.match(/^\d\d\d+$/)||e.text.match(/\d[apAP]$/))return null;let t=e.text.match(/[^\d:.](\d[\d.]+)$/);if(t){let n=t[1];if(this.strictMode||n.includes(".")&&!n.match(/\d(\.\d{2})+$/)||parseInt(n)>24)return null}return e}checkAndReturnWithFollowingPattern(e){if(e.text.match(/^\d+-\d+$/))return null;let t=e.text.match(/[^\d:.](\d[\d.]+)\s*-\s*(\d[\d.]+)$/);if(t){if(this.strictMode)return null;let n=t[1],s=t[2];if(s.includes(".")&&!s.match(/\d(\.\d{2})+$/))return null;let a=parseInt(s),o=parseInt(n);if(a>24||o>24)return null}return e}getPrimaryTimePatternThroughCache(){let e=this.primaryPrefix(),t=this.primarySuffix();return this.cachedPrimaryPrefix===e&&this.cachedPrimarySuffix===t?this.cachedPrimaryTimePattern:(this.cachedPrimaryTimePattern=NE(this.primaryPatternLeftBoundary(),e,t,this.patternFlags()),this.cachedPrimaryPrefix=e,this.cachedPrimarySuffix=t,this.cachedPrimaryTimePattern)}getFollowingTimePatternThroughCache(){let e=this.followingPhase(),t=this.followingSuffix();return this.cachedFollowingPhase===e&&this.cachedFollowingSuffix===t?this.cachedFollowingTimePatten:(this.cachedFollowingTimePatten=CE(e,t),this.cachedFollowingPhase=e,this.cachedFollowingSuffix=t,this.cachedFollowingTimePatten)}};Uo.AbstractTimeExpressionParser=oc});var Ym=S(lc=>{"use strict";Object.defineProperty(lc,"__esModule",{value:!0});var Wo=mt(),IE=ls(),uc=class extends IE.AbstractTimeExpressionParser{constructor(e){super(e)}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|to|\\?)\\s*"}primaryPrefix(){return"(?:(?:at|from)\\s*)??"}primarySuffix(){return"(?:\\s*(?:o\\W*clock|at\\s*night|in\\s*the\\s*(?:morning|afternoon)))?(?!/)(?=\\W|$)"}extractPrimaryTimeComponents(e,t){let n=super.extractPrimaryTimeComponents(e,t);if(n){if(t[0].endsWith("night")){let s=n.get("hour");s>=6&&s<12?(n.assign("hour",n.get("hour")+12),n.assign("meridiem",Wo.Meridiem.PM)):s<6&&n.assign("meridiem",Wo.Meridiem.AM)}if(t[0].endsWith("afternoon")){n.assign("meridiem",Wo.Meridiem.PM);let s=n.get("hour");s>=0&&s<=6&&n.assign("hour",n.get("hour")+12)}t[0].endsWith("morning")&&(n.assign("meridiem",Wo.Meridiem.AM),n.get("hour")<12&&n.assign("hour",n.get("hour")))}return n}};lc.default=uc});var gr=S(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.addImpliedTimeUnits=Vs.reverseTimeUnits=void 0;function FE(r){let e={};for(let t in r)e[t]=-r[t];return e}Vs.reverseTimeUnits=FE;function LE(r,e){let t=r.clone(),n=r.dayjs();for(let s in e)n=n.add(e[s],s);return("day"in e||"d"in e||"week"in e||"month"in e||"year"in e)&&(t.imply("day",n.date()),t.imply("month",n.month()+1),t.imply("year",n.year())),("second"in e||"minute"in e||"hour"in e)&&(t.imply("second",n.second()),t.imply("minute",n.minute()),t.imply("hour",n.hour())),t}Vs.addImpliedTimeUnits=LE});var Um=S(fc=>{"use strict";Object.defineProperty(fc,"__esModule",{value:!0});var dc=At(),YE=rt(),UE=Z(),WE=gr(),qE=new RegExp(`(${dc.TIME_UNITS_PATTERN})\\s{0,5}(?:ago|before|earlier)(?=(?:\\W|$))`,"i"),jE=new RegExp(`(${dc.TIME_UNITS_PATTERN})\\s{0,5}ago(?=(?:\\W|$))`,"i"),cc=class extends UE.AbstractParserWithWordBoundaryChecking{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?jE:qE}innerExtract(e,t){let n=dc.parseTimeUnits(t[1]),s=WE.reverseTimeUnits(n);return YE.ParsingComponents.createRelativeFromReference(e.reference,s)}};fc.default=cc});var Wm=S(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});var pc=At(),$E=rt(),GE=Z(),HE=new RegExp(`(${pc.TIME_UNITS_PATTERN})\\s{0,5}(?:later|after|from now|henceforth|forward|out)(?=(?:\\W|$))`,"i"),BE=new RegExp("("+pc.TIME_UNITS_PATTERN+")(later|from now)(?=(?:\\W|$))","i"),zE=1,hc=class extends GE.AbstractParserWithWordBoundaryChecking{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?BE:HE}innerExtract(e,t){let n=pc.parseTimeUnits(t[zE]);return $E.ParsingComponents.createRelativeFromReference(e.reference,n)}};mc.default=hc});var Zs=S(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});Ks.MergingRefiner=Ks.Filter=void 0;var yc=class{refine(e,t){return t.filter(n=>this.isValid(e,n))}};Ks.Filter=yc;var gc=class{refine(e,t){if(t.length<2)return t;let n=[],s=t[0],a=null;for(let o=1;o<t.length;o++){a=t[o];let l=e.text.substring(s.index+s.text.length,a.index);if(!this.shouldMergeResults(l,s,a,e))n.push(s),s=a;else{let c=s,f=a,p=this.mergeResults(l,c,f,e);e.debug(()=>{console.log(`${this.constructor.name} merged ${c} and ${f} into ${p}`)}),s=p}}return s!=null&&n.push(s),n}};Ks.MergingRefiner=gc});var jr=S(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});var VE=Zs(),_c=class extends VE.MergingRefiner{shouldMergeResults(e,t,n){return!t.end&&!n.end&&e.match(this.patternBetween())!=null}mergeResults(e,t,n){if(!t.start.isOnlyWeekdayComponent()&&!n.start.isOnlyWeekdayComponent()&&(n.start.getCertainComponents().forEach(a=>{t.start.isCertain(a)||t.start.assign(a,n.start.get(a))}),t.start.getCertainComponents().forEach(a=>{n.start.isCertain(a)||n.start.assign(a,t.start.get(a))})),t.start.date().getTime()>n.start.date().getTime()){let a=t.start.dayjs(),o=n.start.dayjs();t.start.isOnlyWeekdayComponent()&&a.add(-7,"days").isBefore(o)?(a=a.add(-7,"days"),t.start.imply("day",a.date()),t.start.imply("month",a.month()+1),t.start.imply("year",a.year())):n.start.isOnlyWeekdayComponent()&&o.add(7,"days").isAfter(a)?(o=o.add(7,"days"),n.start.imply("day",o.date()),n.start.imply("month",o.month()+1),n.start.imply("year",o.year())):[n,t]=[t,n]}let s=t.clone();return s.start=t.start,s.end=n.start,s.index=Math.min(t.index,n.index),t.index<n.index?s.text=t.text+e+n.text:s.text=n.text+e+t.text,s}};Tc.default=_c});var qm=S(Vi=>{"use strict";var KE=Vi&&Vi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vi,"__esModule",{value:!0});var ZE=KE(jr()),bc=class extends ZE.default{patternBetween(){return/^\s*(to|-)\s*$/i}};Vi.default=bc});var jm=S(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.mergeDateTimeComponent=Xs.mergeDateTimeResult=void 0;var XE=mt();function QE(r,e){let t=r.clone(),n=r.start,s=e.start;if(t.start=vc(n,s),r.end!=null||e.end!=null){let a=r.end==null?r.start:r.end,o=e.end==null?e.start:e.end,l=vc(a,o);r.end==null&&l.date().getTime()<t.start.date().getTime()&&(l.isCertain("day")?l.assign("day",l.get("day")+1):l.imply("day",l.get("day")+1)),t.end=l}return t}Xs.mergeDateTimeResult=QE;function vc(r,e){let t=r.clone();return e.isCertain("hour")?(t.assign("hour",e.get("hour")),t.assign("minute",e.get("minute")),e.isCertain("second")?(t.assign("second",e.get("second")),e.isCertain("millisecond")?t.assign("millisecond",e.get("millisecond")):t.imply("millisecond",e.get("millisecond"))):(t.imply("second",e.get("second")),t.imply("millisecond",e.get("millisecond")))):(t.imply("hour",e.get("hour")),t.imply("minute",e.get("minute")),t.imply("second",e.get("second")),t.imply("millisecond",e.get("millisecond"))),e.isCertain("timezoneOffset")&&t.assign("timezoneOffset",e.get("timezoneOffset")),e.isCertain("meridiem")?t.assign("meridiem",e.get("meridiem")):e.get("meridiem")!=null&&t.get("meridiem")==null&&t.imply("meridiem",e.get("meridiem")),t.get("meridiem")==XE.Meridiem.PM&&t.get("hour")<12&&(e.isCertain("hour")?t.assign("hour",t.get("hour")+12):t.imply("hour",t.get("hour")+12)),t}Xs.mergeDateTimeComponent=vc});var on=S(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});var JE=Zs(),$m=jm(),wc=class extends JE.MergingRefiner{shouldMergeResults(e,t,n){return(t.start.isOnlyDate()&&n.start.isOnlyTime()||n.start.isOnlyDate()&&t.start.isOnlyTime())&&e.match(this.patternBetween())!=null}mergeResults(e,t,n){let s=t.start.isOnlyDate()?$m.mergeDateTimeResult(t,n):$m.mergeDateTimeResult(n,t);return s.index=t.index,s.text=t.text+e+n.text,s}};kc.default=wc});var Gm=S(Ki=>{"use strict";var eD=Ki&&Ki.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ki,"__esModule",{value:!0});var tD=eD(on()),Ec=class extends tD.default{patternBetween(){return new RegExp("^\\s*(T|at|after|before|on|of|,|-)?\\s*$")}};Ki.default=Ec});var Hm=S(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});var rD=new RegExp("^\\s*,?\\s*\\(?([A-Z]{2,4})\\)?(?=\\W|$)","i"),nD={ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:60,CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CVT:-60,CXT:420,ChST:600,DAVT:420,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:-300,FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:330,JST:540,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,LHDT:660,LHST:630,LINT:840,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:240,MST:-420,MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,OMSST:420,OMST:420,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:-480,PWT:540,PYST:-180,PYT:-240,RET:240,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-210,VLAST:660,VLAT:660,VUT:660,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360},Dc=class{constructor(e){this.timezone=Object.assign(Object.assign({},nD),e)}refine(e,t){var n;let s=(n=e.option.timezones)!==null&&n!==void 0?n:{};return t.forEach(a=>{var o,l;let c=e.text.substring(a.index+a.text.length),f=rD.exec(c);if(!f)return;let p=f[1].toUpperCase(),g=(l=(o=s[p])!==null&&o!==void 0?o:this.timezone[p])!==null&&l!==void 0?l:null;if(g===null)return;e.debug(()=>{console.log(`Extracting timezone: '${p}' into: ${g} for: ${a.start}`)});let T=a.start.get("timezoneOffset");T!==null&&g!=T&&(a.start.isCertain("timezoneOffset")||p!=f[1])||a.start.isOnlyDate()&&p!=f[1]||(a.text+=f[0],a.start.isCertain("timezoneOffset")||a.start.assign("timezoneOffset",g),a.end!=null&&!a.end.isCertain("timezoneOffset")&&a.end.assign("timezoneOffset",g))}),t}};Sc.default=Dc});var qo=S(Mc=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});var sD=new RegExp("^\\s*(?:\\(?(?:GMT|UTC)\\s?)?([+-])(\\d{1,2})(?::?(\\d{2}))?\\)?","i"),iD=1,aD=2,oD=3,Oc=class{refine(e,t){return t.forEach(function(n){if(n.start.isCertain("timezoneOffset"))return;let s=e.text.substring(n.index+n.text.length),a=sD.exec(s);if(!a)return;e.debug(()=>{console.log(`Extracting timezone: '${a[0]}' into : ${n}`)});let o=parseInt(a[aD]),l=parseInt(a[oD]||"0"),c=o*60+l;c>14*60||(a[iD]==="-"&&(c=-c),n.end!=null&&n.end.assign("timezoneOffset",c),n.start.assign("timezoneOffset",c),n.text+=a[0])}),t}};Mc.default=Oc});var Bm=S(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});var Rc=class{refine(e,t){if(t.length<2)return t;let n=[],s=t[0];for(let a=1;a<t.length;a++){let o=t[a];o.index<s.index+s.text.length?o.text.length>s.text.length&&(s=o):(n.push(s),s=o)}return s!=null&&n.push(s),n}};xc.default=Rc});var zm=S(Zi=>{"use strict";var uD=Zi&&Zi.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Zi,"__esModule",{value:!0});var lD=uD(Re()),Pc=class{refine(e,t){return e.option.forwardDate&&t.forEach(function(n){let s=lD.default(e.refDate);if(n.start.isOnlyDayMonthComponent()&&s.isAfter(n.start.dayjs()))for(let a=0;a<3&&s.isAfter(n.start.dayjs());a++)n.start.imply("year",n.start.get("year")+1),e.debug(()=>{console.log(`Forward yearly adjusted for ${n} (${n.start})`)}),n.end&&!n.end.isCertain("year")&&(n.end.imply("year",n.end.get("year")+1),e.debug(()=>{console.log(`Forward yearly adjusted for ${n} (${n.end})`)}));n.start.isOnlyWeekdayComponent()&&s.isAfter(n.start.dayjs())&&(s.day()>=n.start.get("weekday")?s=s.day(n.start.get("weekday")+7):s=s.day(n.start.get("weekday")),n.start.imply("day",s.date()),n.start.imply("month",s.month()+1),n.start.imply("year",s.year()),e.debug(()=>{console.log(`Forward weekly adjusted for ${n} (${n.start})`)}),n.end&&n.end.isOnlyWeekdayComponent()&&(s.day()>n.end.get("weekday")?s=s.day(n.end.get("weekday")+7):s=s.day(n.end.get("weekday")),n.end.imply("day",s.date()),n.end.imply("month",s.month()+1),n.end.imply("year",s.year()),e.debug(()=>{console.log(`Forward weekly adjusted for ${n} (${n.end})`)})))}),t}};Zi.default=Pc});var Vm=S(Nc=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});var cD=Zs(),Ac=class extends cD.Filter{constructor(e){super(),this.strictMode=e}isValid(e,t){return t.text.replace(" ","").match(/^\d*(\.\d*)?$/)?(e.debug(()=>{console.log(`Removing unlikely result '${t.text}'`)}),!1):t.start.isValidDate()?t.end&&!t.end.isValidDate()?(e.debug(()=>{console.log(`Removing invalid result: ${t} (${t.end})`)}),!1):this.strictMode?this.isStrictModeValid(e,t):!0:(e.debug(()=>{console.log(`Removing invalid result: ${t} (${t.start})`)}),!1)}isStrictModeValid(e,t){return t.start.isOnlyWeekdayComponent()?(e.debug(()=>{console.log(`(Strict) Removing weekday only component: ${t} (${t.end})`)}),!1):t.start.isOnlyTime()&&(!t.start.isCertain("hour")||!t.start.isCertain("minute"))?(e.debug(()=>{console.log(`(Strict) Removing uncertain time component: ${t} (${t.end})`)}),!1):!0}};Nc.default=Ac});var Fc=S(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});var dD=Z(),fD=new RegExp("([0-9]{4})\\-([0-9]{1,2})\\-([0-9]{1,2})(?:T([0-9]{1,2}):([0-9]{1,2})(?::([0-9]{1,2})(?:\\.(\\d{1,4}))?)?(?:Z|([+-]\\d{2}):?(\\d{2})?)?)?(?=\\W|$)","i"),hD=1,pD=2,mD=3,Km=4,yD=5,Zm=6,Xm=7,Qm=8,Jm=9,Cc=class extends dD.AbstractParserWithWordBoundaryChecking{innerPattern(){return fD}innerExtract(e,t){let n={};if(n.year=parseInt(t[hD]),n.month=parseInt(t[pD]),n.day=parseInt(t[mD]),t[Km]!=null)if(n.hour=parseInt(t[Km]),n.minute=parseInt(t[yD]),t[Zm]!=null&&(n.second=parseInt(t[Zm])),t[Xm]!=null&&(n.millisecond=parseInt(t[Xm])),t[Qm]==null)n.timezoneOffset=0;else{let s=parseInt(t[Qm]),a=0;t[Jm]!=null&&(a=parseInt(t[Jm]));let o=s*60;o<0?o-=a:o+=a,n.timezoneOffset=o}return n}};Ic.default=Cc});var ey=S(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});var gD=Zs(),Lc=class extends gD.MergingRefiner{mergeResults(e,t,n){let s=n.clone();return s.index=t.index,s.text=t.text+e+s.text,s.start.assign("weekday",t.start.get("weekday")),s.end&&s.end.assign("weekday",t.start.get("weekday")),s}shouldMergeResults(e,t,n){return t.start.isOnlyWeekdayComponent()&&!t.start.isCertain("hour")&&n.start.isCertain("day")&&e.match(/^,?\s*$/)!=null}};Yc.default=Lc});var un=S(Qs=>{"use strict";var cs=Qs&&Qs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.includeCommonConfiguration=void 0;var _D=cs(Hm()),TD=cs(qo()),ty=cs(Bm()),bD=cs(zm()),vD=cs(Vm()),wD=cs(Fc()),kD=cs(ey());function ED(r,e=!1){return r.parsers.unshift(new wD.default),r.refiners.unshift(new kD.default),r.refiners.unshift(new _D.default),r.refiners.unshift(new TD.default),r.refiners.unshift(new ty.default),r.refiners.push(new ty.default),r.refiners.push(new bD.default),r.refiners.push(new vD.default(e)),r}Qs.includeCommonConfiguration=ED});var cn=S(Ne=>{"use strict";var DD=Ne&&Ne.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.noon=Ne.morning=Ne.midnight=Ne.yesterdayEvening=Ne.evening=Ne.lastNight=Ne.tonight=Ne.theDayAfter=Ne.tomorrow=Ne.theDayBefore=Ne.yesterday=Ne.today=Ne.now=void 0;var $r=rt(),Js=DD(Re()),ln=yr(),Xi=mt();function SD(r){let e=Js.default(r.instant),t=new $r.ParsingComponents(r,{});return ln.assignSimilarDate(t,e),ln.assignSimilarTime(t,e),r.timezoneOffset!==null&&t.assign("timezoneOffset",e.utcOffset()),t}Ne.now=SD;function OD(r){let e=Js.default(r.instant),t=new $r.ParsingComponents(r,{});return ln.assignSimilarDate(t,e),ln.implySimilarTime(t,e),t}Ne.today=OD;function MD(r){return ry(r,1)}Ne.yesterday=MD;function ry(r,e){return Uc(r,-e)}Ne.theDayBefore=ry;function RD(r){return Uc(r,1)}Ne.tomorrow=RD;function Uc(r,e){let t=Js.default(r.instant),n=new $r.ParsingComponents(r,{});return t=t.add(e,"day"),ln.assignSimilarDate(n,t),ln.implySimilarTime(n,t),n}Ne.theDayAfter=Uc;function xD(r,e=22){let t=Js.default(r.instant),n=new $r.ParsingComponents(r,{});return n.imply("hour",e),n.imply("meridiem",Xi.Meridiem.PM),ln.assignSimilarDate(n,t),n}Ne.tonight=xD;function PD(r,e=0){let t=Js.default(r.instant),n=new $r.ParsingComponents(r,{});return t.hour()<6&&(t=t.add(-1,"day")),ln.assignSimilarDate(n,t),n.imply("hour",e),n}Ne.lastNight=PD;function AD(r,e=20){let t=new $r.ParsingComponents(r,{});return t.imply("meridiem",Xi.Meridiem.PM),t.imply("hour",e),t}Ne.evening=AD;function ND(r,e=20){let t=Js.default(r.instant),n=new $r.ParsingComponents(r,{});return t=t.add(-1,"day"),ln.assignSimilarDate(n,t),n.imply("hour",e),n.imply("meridiem",Xi.Meridiem.PM),n}Ne.yesterdayEvening=ND;function CD(r){let e=new $r.ParsingComponents(r,{});return e.imply("hour",0),e.imply("minute",0),e.imply("second",0),e}Ne.midnight=CD;function ID(r,e=6){let t=new $r.ParsingComponents(r,{});return t.imply("meridiem",Xi.Meridiem.AM),t.imply("hour",e),t}Ne.morning=ID;function FD(r){let e=new $r.ParsingComponents(r,{});return e.imply("meridiem",Xi.Meridiem.AM),e.imply("hour",12),e}Ne.noon=FD});var ny=S(Rr=>{"use strict";var LD=Rr&&Rr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),YD=Rr&&Rr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),UD=Rr&&Rr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&LD(e,r,t);return YD(e,r),e},WD=Rr&&Rr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Rr,"__esModule",{value:!0});var qD=WD(Re()),jD=Z(),$D=yr(),Qi=UD(cn()),GD=/(now|today|tonight|tomorrow|tmr|tmrw|yesterday|last\s*night)(?=\W|$)/i,Wc=class extends jD.AbstractParserWithWordBoundaryChecking{innerPattern(e){return GD}innerExtract(e,t){let n=qD.default(e.refDate),s=t[0].toLowerCase(),a=e.createParsingComponents();switch(s){case"now":return Qi.now(e.reference);case"today":return Qi.today(e.reference);case"yesterday":return Qi.yesterday(e.reference);case"tomorrow":case"tmr":case"tmrw":return Qi.tomorrow(e.reference);case"tonight":return Qi.tonight(e.reference);default:s.match(/last\s*night/)&&(n.hour()>6&&(n=n.add(-1,"day")),$D.assignSimilarDate(a,n),a.imply("hour",0));break}return a}};Rr.default=Wc});var sy=S(Ji=>{"use strict";var HD=Ji&&Ji.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ji,"__esModule",{value:!0});var jo=mt(),BD=Z(),zD=HD(Re()),VD=yr(),KD=/(?:this)?\s{0,3}(morning|afternoon|evening|night|midnight|noon)(?=\W|$)/i,qc=class extends BD.AbstractParserWithWordBoundaryChecking{innerPattern(){return KD}innerExtract(e,t){let n=zD.default(e.refDate),s=e.createParsingComponents();switch(t[1].toLowerCase()){case"afternoon":s.imply("meridiem",jo.Meridiem.PM),s.imply("hour",15);break;case"evening":case"night":s.imply("meridiem",jo.Meridiem.PM),s.imply("hour",20);break;case"midnight":VD.assignTheNextDay(s,n),s.imply("hour",0),s.imply("minute",0),s.imply("second",0);break;case"morning":s.imply("meridiem",jo.Meridiem.AM),s.imply("hour",6);break;case"noon":s.imply("meridiem",jo.Meridiem.AM),s.imply("hour",12);break}return s}};Ji.default=qc});var ds=S(Ln=>{"use strict";var ZD=Ln&&Ln.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.toDayJSClosestWeekday=Ln.toDayJSWeekday=void 0;var iy=ZD(Re());function XD(r,e,t){if(!t)return ay(r,e);let n=iy.default(r);switch(t){case"this":n=n.day(e);break;case"next":n=n.day(e+7);break;case"last":n=n.day(e-7);break}return n}Ln.toDayJSWeekday=XD;function ay(r,e){let t=iy.default(r),n=t.day();return Math.abs(e-7-n)<Math.abs(e-n)?t=t.day(e-7):Math.abs(e+7-n)<Math.abs(e-n)?t=t.day(e+7):t=t.day(e),t}Ln.toDayJSClosestWeekday=ay});var uy=S($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});var oy=At(),QD=Ie(),JD=Z(),eS=ds(),tS=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:on\\s*?)?(?:(this|last|past|next)\\s*)?(${QD.matchAnyPattern(oy.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(this|last|past|next)\\s*week)?(?=\\W|$)`,"i"),rS=1,nS=2,sS=3,jc=class extends JD.AbstractParserWithWordBoundaryChecking{innerPattern(){return tS}innerExtract(e,t){let n=t[nS].toLowerCase(),s=oy.WEEKDAY_DICTIONARY[n],a=t[rS],o=t[sS],l=a||o;l=l||"",l=l.toLowerCase();let c=null;l=="last"||l=="past"?c="last":l=="next"?c="next":l=="this"&&(c="this");let f=eS.toDayJSWeekday(e.refDate,s,c);return e.createParsingComponents().assign("weekday",s).imply("day",f.date()).imply("month",f.month()+1).imply("year",f.year())}};$c.default=jc});var dy=S(ea=>{"use strict";var iS=ea&&ea.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ea,"__esModule",{value:!0});var cy=At(),ly=rt(),aS=iS(Re()),oS=Z(),uS=Ie(),lS=new RegExp(`(this|last|past|next|after\\s*this)\\s*(${uS.matchAnyPattern(cy.TIME_UNIT_DICTIONARY)})(?=\\s*)(?=\\W|$)`,"i"),cS=1,dS=2,Gc=class extends oS.AbstractParserWithWordBoundaryChecking{innerPattern(){return lS}innerExtract(e,t){let n=t[cS].toLowerCase(),s=t[dS].toLowerCase(),a=cy.TIME_UNIT_DICTIONARY[s];if(n=="next"||n.startsWith("after")){let c={};return c[a]=1,ly.ParsingComponents.createRelativeFromReference(e.reference,c)}if(n=="last"||n=="past"){let c={};return c[a]=-1,ly.ParsingComponents.createRelativeFromReference(e.reference,c)}let o=e.createParsingComponents(),l=aS.default(e.reference.instant);return s.match(/week/i)?(l=l.add(-l.get("d"),"d"),o.imply("day",l.date()),o.imply("month",l.month()+1),o.imply("year",l.year())):s.match(/month/i)?(l=l.add(-l.date()+1,"d"),o.imply("day",l.date()),o.assign("year",l.year()),o.assign("month",l.month()+1)):s.match(/year/i)&&(l=l.add(-l.date()+1,"d"),l=l.add(-l.month(),"month"),o.imply("day",l.date()),o.imply("month",l.month()+1),o.assign("year",l.year())),o}};ea.default=Gc});var xr=S(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.ParsingContext=ri.Chrono=void 0;var ei=rt(),fS=Hc(),ti=class{constructor(e){e=e||fS.createCasualConfiguration(),this.parsers=[...e.parsers],this.refiners=[...e.refiners]}clone(){return new ti({parsers:[...this.parsers],refiners:[...this.refiners]})}parseDate(e,t,n){let s=this.parse(e,t,n);return s.length>0?s[0].start.date():null}parse(e,t,n){let s=new $o(e,t,n),a=[];return this.parsers.forEach(o=>{let l=ti.executeParser(s,o);a=a.concat(l)}),a.sort((o,l)=>o.index-l.index),this.refiners.forEach(function(o){a=o.refine(s,a)}),a}static executeParser(e,t){let n=[],s=t.pattern(e),a=e.text,o=e.text,l=s.exec(o);for(;l;){let c=l.index+a.length-o.length;l.index=c;let f=t.extract(e,l);if(!f){o=a.substring(l.index+1),l=s.exec(o);continue}let p=null;f instanceof ei.ParsingResult?p=f:f instanceof ei.ParsingComponents?(p=e.createParsingResult(l.index,l[0]),p.start=f):p=e.createParsingResult(l.index,l[0],f),e.debug(()=>console.log(`${t.constructor.name} extracted result ${p}`)),n.push(p),o=a.substring(c+p.text.length),l=s.exec(o)}return n}};ri.Chrono=ti;var $o=class{constructor(e,t,n){this.text=e,this.reference=new ei.ReferenceWithTimezone(t),this.option=n!=null?n:{},this.refDate=this.reference.instant}createParsingComponents(e){return e instanceof ei.ParsingComponents?e:new ei.ParsingComponents(this.reference,e)}createParsingResult(e,t,n,s){let a=typeof t=="string"?t:this.text.substring(e,t),o=n?this.createParsingComponents(n):null,l=s?this.createParsingComponents(s):null;return new ei.ParsingResult(this.reference,e,a,o,l)}debug(e){this.option.debug&&(this.option.debug instanceof Function?this.option.debug(e):this.option.debug.debug(e))}};ri.ParsingContext=$o});var fs=S(Vc=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});var fy=Pt(),hS=new RegExp("([^\\d]|^)([0-3]{0,1}[0-9]{1})[\\/\\.\\-]([0-3]{0,1}[0-9]{1})(?:[\\/\\.\\-]([0-9]{4}|[0-9]{2}))?(\\W|$)","i"),Go=1,hy=5,py=2,my=3,Bc=4,zc=class{constructor(e){this.groupNumberMonth=e?my:py,this.groupNumberDay=e?py:my}pattern(){return hS}extract(e,t){if(t[Go]=="/"||t[hy]=="/"){t.index+=t[0].length;return}let n=t.index+t[Go].length,s=t[0].substr(t[Go].length,t[0].length-t[Go].length-t[hy].length);if(s.match(/^\d\.\d$/)||s.match(/^\d\.\d{1,2}\.\d{1,2}\s*$/)||!t[Bc]&&t[0].indexOf("/")<0)return;let a=e.createParsingResult(n,s),o=parseInt(t[this.groupNumberMonth]),l=parseInt(t[this.groupNumberDay]);if((o<1||o>12)&&o>12)if(l>=1&&l<=12&&o<=31)[l,o]=[o,l];else return null;if(l<1||l>31)return null;if(a.start.assign("day",l),a.start.assign("month",o),t[Bc]){let c=parseInt(t[Bc]),f=fy.findMostLikelyADYear(c);a.start.assign("year",f)}else{let c=fy.findYearClosestToRef(e.refDate,l,o);a.start.imply("year",c)}return a}};Vc.default=zc});var gy=S(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});var yy=At(),pS=rt(),mS=Z(),yS=gr(),gS=new RegExp(`(this|last|past|next|after|\\+|-)\\s*(${yy.TIME_UNITS_PATTERN})(?=\\W|$)`,"i"),Kc=class extends mS.AbstractParserWithWordBoundaryChecking{innerPattern(){return gS}innerExtract(e,t){let n=t[1].toLowerCase(),s=yy.parseTimeUnits(t[2]);switch(n){case"last":case"past":case"-":s=yS.reverseTimeUnits(s);break}return pS.ParsingComponents.createRelativeFromReference(e.reference,s)}};Zc.default=Kc});var Ty=S(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});var _S=Zs(),Xc=rt(),TS=At(),bS=gr();function _y(r){return r.text.match(/\s+(before|from)$/i)!=null}function vS(r){return r.text.match(/\s+(after|since)$/i)!=null}var Qc=class extends _S.MergingRefiner{patternBetween(){return/^\s*$/i}shouldMergeResults(e,t,n){return!e.match(this.patternBetween())||!_y(t)&&!vS(t)?!1:!!n.start.get("day")&&!!n.start.get("month")&&!!n.start.get("year")}mergeResults(e,t,n){let s=TS.parseTimeUnits(t.text);_y(t)&&(s=bS.reverseTimeUnits(s));let a=Xc.ParsingComponents.createRelativeFromReference(new Xc.ReferenceWithTimezone(n.start.date()),s);return new Xc.ParsingResult(n.reference,t.index,`${t.text}${e}${n.text}`,a)}};Jc.default=Qc});var Hc=S(ot=>{"use strict";var bt=ot&&ot.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ot,"__esModule",{value:!0});ot.createConfiguration=ot.createCasualConfiguration=ot.parseDate=ot.parse=ot.GB=ot.strict=ot.casual=void 0;var wS=bt(_m()),kS=bt(Em()),ES=bt(Rm()),DS=bt(Am()),SS=bt(Im()),OS=bt(Fm()),MS=bt(Ym()),RS=bt(Um()),xS=bt(Wm()),PS=bt(qm()),AS=bt(Gm()),NS=un(),CS=bt(ny()),IS=bt(sy()),FS=bt(uy()),LS=bt(dy()),ed=xr(),YS=bt(fs()),US=bt(gy()),WS=bt(Ty());ot.casual=new ed.Chrono(by(!1));ot.strict=new ed.Chrono(Ho(!0,!1));ot.GB=new ed.Chrono(Ho(!1,!0));function qS(r,e,t){return ot.casual.parse(r,e,t)}ot.parse=qS;function jS(r,e,t){return ot.casual.parseDate(r,e,t)}ot.parseDate=jS;function by(r=!1){let e=Ho(!1,r);return e.parsers.unshift(new CS.default),e.parsers.unshift(new IS.default),e.parsers.unshift(new DS.default),e.parsers.unshift(new LS.default),e.parsers.unshift(new US.default),e}ot.createCasualConfiguration=by;function Ho(r=!0,e=!1){return NS.includeCommonConfiguration({parsers:[new YS.default(e),new wS.default,new kS.default,new ES.default,new FS.default,new SS.default,new OS.default,new MS.default(r),new RS.default(r),new xS.default(r)],refiners:[new WS.default,new AS.default,new PS.default]},r)}ot.createConfiguration=Ho});var vy=S(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});var $S=ls(),td=class extends $S.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:um|von)\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|bis)\\s*"}extractPrimaryTimeComponents(e,t){return t[0].match(/^\s*\d{4}\s*$/)?null:super.extractPrimaryTimeComponents(e,t)}};rd.default=td});var ta=S(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.parseTimeUnits=Ue.TIME_UNITS_PATTERN=Ue.parseYear=Ue.YEAR_PATTERN=Ue.parseNumberPattern=Ue.NUMBER_PATTERN=Ue.TIME_UNIT_DICTIONARY=Ue.INTEGER_WORD_DICTIONARY=Ue.MONTH_DICTIONARY=Ue.WEEKDAY_DICTIONARY=void 0;var nd=Ie(),GS=Pt();Ue.WEEKDAY_DICTIONARY={sonntag:0,so:0,montag:1,mo:1,dienstag:2,di:2,mittwoch:3,mi:3,donnerstag:4,do:4,freitag:5,fr:5,samstag:6,sa:6};Ue.MONTH_DICTIONARY={januar:1,j\u00E4nner:1,janner:1,jan:1,"jan.":1,februar:2,feber:2,feb:2,"feb.":2,m\u00E4rz:3,maerz:3,m\u00E4r:3,"m\xE4r.":3,mrz:3,"mrz.":3,april:4,apr:4,"apr.":4,mai:5,juni:6,jun:6,"jun.":6,juli:7,jul:7,"jul.":7,august:8,aug:8,"aug.":8,september:9,sep:9,"sep.":9,sept:9,"sept.":9,oktober:10,okt:10,"okt.":10,november:11,nov:11,"nov.":11,dezember:12,dez:12,"dez.":12};Ue.INTEGER_WORD_DICTIONARY={eins:1,eine:1,einem:1,einen:1,einer:1,zwei:2,drei:3,vier:4,f\u00FCnf:5,fuenf:5,sechs:6,sieben:7,acht:8,neun:9,zehn:10,elf:11,zw\u00F6lf:12,zwoelf:12};Ue.TIME_UNIT_DICTIONARY={sek:"second",sekunde:"second",sekunden:"second",min:"minute",minute:"minute",minuten:"minute",h:"hour",std:"hour",stunde:"hour",stunden:"hour",tag:"d",tage:"d",tagen:"d",woche:"week",wochen:"week",monat:"month",monate:"month",monaten:"month",monats:"month",quartal:"quarter",quartals:"quarter",quartale:"quarter",quartalen:"quarter",a:"year",j:"year",jr:"year",jahr:"year",jahre:"year",jahren:"year",jahres:"year"};Ue.NUMBER_PATTERN=`(?:${nd.matchAnyPattern(Ue.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|half(?:\\s*an?)?|an?\\b(?:\\s*few)?|few|several|a?\\s*couple\\s*(?:of)?)`;function ky(r){let e=r.toLowerCase();return Ue.INTEGER_WORD_DICTIONARY[e]!==void 0?Ue.INTEGER_WORD_DICTIONARY[e]:e==="a"||e==="an"?1:e.match(/few/)?3:e.match(/half/)?.5:e.match(/couple/)?2:e.match(/several/)?7:parseFloat(e)}Ue.parseNumberPattern=ky;Ue.YEAR_PATTERN="(?:[0-9]{1,4}(?:\\s*[vn]\\.?\\s*(?:C(?:hr)?|(?:u\\.?|d\\.?(?:\\s*g\\.?)?)?\\s*Z)\\.?|\\s*(?:u\\.?|d\\.?(?:\\s*g\\.)?)\\s*Z\\.?)?)";function HS(r){if(/v/i.test(r))return-parseInt(r.replace(/[^0-9]+/gi,""));if(/n/i.test(r))return parseInt(r.replace(/[^0-9]+/gi,""));if(/z/i.test(r))return parseInt(r.replace(/[^0-9]+/gi,""));let e=parseInt(r);return GS.findMostLikelyADYear(e)}Ue.parseYear=HS;var Ey=`(${Ue.NUMBER_PATTERN})\\s{0,5}(${nd.matchAnyPattern(Ue.TIME_UNIT_DICTIONARY)})\\s{0,5}`,wy=new RegExp(Ey,"i");Ue.TIME_UNITS_PATTERN=nd.repeatedTimeunitPattern("",Ey);function BS(r){let e={},t=r,n=wy.exec(t);for(;n;)zS(e,n),t=t.substring(n[0].length),n=wy.exec(t);return e}Ue.parseTimeUnits=BS;function zS(r,e){let t=ky(e[1]),n=Ue.TIME_UNIT_DICTIONARY[e[2].toLowerCase()];r[n]=t}});var Sy=S(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});var Dy=ta(),VS=Ie(),KS=Z(),ZS=ds(),XS=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:a[mn]\\s*?)?(?:(diese[mn]|letzte[mn]|n(?:\xE4|ae)chste[mn])\\s*)?(${VS.matchAnyPattern(Dy.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(diese|letzte|n(?:\xE4|ae)chste)\\s*woche)?(?=\\W|$)`,"i"),QS=1,JS=3,eO=2,sd=class extends KS.AbstractParserWithWordBoundaryChecking{innerPattern(){return XS}innerExtract(e,t){let n=t[eO].toLowerCase(),s=Dy.WEEKDAY_DICTIONARY[n],a=t[QS],o=t[JS],l=a||o;l=l||"",l=l.toLowerCase();let c=null;l.match(/letzte/)?c="last":l.match(/chste/)?c="next":l.match(/diese/)&&(c="this");let f=ZS.toDayJSWeekday(e.refDate,s,c);return e.createParsingComponents().assign("weekday",s).imply("day",f.date()).imply("month",f.month()+1).imply("year",f.year())}};id.default=sd});var xy=S(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});var Yn=mt(),tO=new RegExp("(^|\\s|T)(?:(?:um|von)\\s*)?(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s)?)?(?:\\s*Uhr)?(?:\\s*(morgens|vormittags|nachmittags|abends|nachts|am\\s+(?:Morgen|Vormittag|Nachmittag|Abend)|in\\s+der\\s+Nacht))?(?=\\W|$)","i"),rO=new RegExp("^\\s*(\\-|\\\u2013|\\~|\\\u301C|bis(?:\\s+um)?|\\?)\\s*(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s)?)?(?:\\s*Uhr)?(?:\\s*(morgens|vormittags|nachmittags|abends|nachts|am\\s+(?:Morgen|Vormittag|Nachmittag|Abend)|in\\s+der\\s+Nacht))?(?=\\W|$)","i"),nO=2,Oy=3,My=4,Ry=5,ni=class{pattern(e){return tO}extract(e,t){let n=e.createParsingResult(t.index+t[1].length,t[0].substring(t[1].length));if(n.text.match(/^\d{4}$/)||(n.start=ni.extractTimeComponent(n.start.clone(),t),!n.start))return t.index+=t[0].length,null;let s=e.text.substring(t.index+t[0].length),a=rO.exec(s);return a&&(n.end=ni.extractTimeComponent(n.start.clone(),a),n.end&&(n.text+=a[0])),n}static extractTimeComponent(e,t){let n=0,s=0,a=null;if(n=parseInt(t[nO]),t[Oy]!=null&&(s=parseInt(t[Oy])),s>=60||n>24)return null;if(n>=12&&(a=Yn.Meridiem.PM),t[Ry]!=null){if(n>12)return null;let o=t[Ry].toLowerCase();o.match(/morgen|vormittag/)&&(a=Yn.Meridiem.AM,n==12&&(n=0)),o.match(/nachmittag|abend/)&&(a=Yn.Meridiem.PM,n!=12&&(n+=12)),o.match(/nacht/)&&(n==12?(a=Yn.Meridiem.AM,n=0):n<6?a=Yn.Meridiem.AM:(a=Yn.Meridiem.PM,n+=12))}if(e.assign("hour",n),e.assign("minute",s),a!==null?e.assign("meridiem",a):n<12?e.imply("meridiem",Yn.Meridiem.AM):e.imply("meridiem",Yn.Meridiem.PM),t[My]!=null){let o=parseInt(t[My]);if(o>=60)return null;e.assign("second",o)}return e}};ad.default=ni});var Py=S(ra=>{"use strict";var sO=ra&&ra.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ra,"__esModule",{value:!0});var iO=sO(jr()),od=class extends iO.default{patternBetween(){return/^\s*(bis(?:\s*(?:am|zum))?|-)\s*$/i}};ra.default=od});var Ay=S(na=>{"use strict";var aO=na&&na.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(na,"__esModule",{value:!0});var oO=aO(on()),ud=class extends oO.default{patternBetween(){return new RegExp("^\\s*(T|um|am|,|-)?\\s*$")}};na.default=ud});var ld=S(ia=>{"use strict";var uO=ia&&ia.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ia,"__esModule",{value:!0});var lO=uO(Re()),hs=mt(),cO=Z(),dO=yr(),fO=gr(),sa=class extends cO.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(diesen)?\s*(morgen|vormittag|mittags?|nachmittag|abend|nacht|mitternacht)(?=\W|$)/i}innerExtract(e,t){let n=lO.default(e.refDate),s=t[2].toLowerCase(),a=e.createParsingComponents();return dO.implySimilarTime(a,n),sa.extractTimeComponents(a,s)}static extractTimeComponents(e,t){switch(t){case"morgen":e.imply("hour",6),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",hs.Meridiem.AM);break;case"vormittag":e.imply("hour",9),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",hs.Meridiem.AM);break;case"mittag":case"mittags":e.imply("hour",12),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",hs.Meridiem.AM);break;case"nachmittag":e.imply("hour",15),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",hs.Meridiem.PM);break;case"abend":e.imply("hour",18),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",hs.Meridiem.PM);break;case"nacht":e.imply("hour",22),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",hs.Meridiem.PM);break;case"mitternacht":e.get("hour")>1&&(e=fO.addImpliedTimeUnits(e,{day:1})),e.imply("hour",0),e.imply("minute",0),e.imply("second",0),e.imply("meridiem",hs.Meridiem.AM);break}return e}};ia.default=sa});var Iy=S(Pr=>{"use strict";var hO=Pr&&Pr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),pO=Pr&&Pr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),mO=Pr&&Pr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&hO(e,r,t);return pO(e,r),e},Cy=Pr&&Pr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Pr,"__esModule",{value:!0});var yO=Cy(Re()),gO=Z(),ps=yr(),_O=Cy(ld()),Ny=mO(cn()),TO=new RegExp("(jetzt|heute|morgen|\xFCbermorgen|uebermorgen|gestern|vorgestern|letzte\\s*nacht)(?:\\s*(morgen|vormittag|mittags?|nachmittag|abend|nacht|mitternacht))?(?=\\W|$)","i"),bO=1,vO=2,cd=class extends gO.AbstractParserWithWordBoundaryChecking{innerPattern(e){return TO}innerExtract(e,t){let n=yO.default(e.refDate),s=(t[bO]||"").toLowerCase(),a=(t[vO]||"").toLowerCase(),o=e.createParsingComponents();switch(s){case"jetzt":o=Ny.now(e.reference);break;case"heute":o=Ny.today(e.reference);break;case"morgen":ps.assignTheNextDay(o,n);break;case"\xFCbermorgen":case"uebermorgen":n=n.add(1,"day"),ps.assignTheNextDay(o,n);break;case"gestern":n=n.add(-1,"day"),ps.assignSimilarDate(o,n),ps.implySimilarTime(o,n);break;case"vorgestern":n=n.add(-2,"day"),ps.assignSimilarDate(o,n),ps.implySimilarTime(o,n);break;default:s.match(/letzte\s*nacht/)&&(n.hour()>6&&(n=n.add(-1,"day")),ps.assignSimilarDate(o,n),o.imply("hour",0));break}return a&&(o=_O.default.extractTimeComponents(o,a)),o}};Pr.default=cd});var qy=S(fd=>{"use strict";Object.defineProperty(fd,"__esModule",{value:!0});var wO=Pt(),Uy=ta(),Wy=ta(),kO=Ie(),EO=Z(),DO=new RegExp(`(?:am\\s*?)?(?:den\\s*?)?([0-9]{1,2})\\.(?:\\s*(?:bis(?:\\s*(?:am|zum))?|\\-|\\\u2013|\\s)\\s*([0-9]{1,2})\\.?)?\\s*(${kO.matchAnyPattern(Uy.MONTH_DICTIONARY)})(?:(?:-|/|,?\\s*)(${Wy.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),Fy=1,Ly=2,SO=3,Yy=4,dd=class extends EO.AbstractParserWithWordBoundaryChecking{innerPattern(){return DO}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=Uy.MONTH_DICTIONARY[t[SO].toLowerCase()],a=parseInt(t[Fy]);if(a>31)return t.index=t.index+t[Fy].length,null;if(n.start.assign("month",s),n.start.assign("day",a),t[Yy]){let o=Wy.parseYear(t[Yy]);n.start.assign("year",o)}else{let o=wO.findYearClosestToRef(e.refDate,a,s);n.start.imply("year",o)}if(t[Ly]){let o=parseInt(t[Ly]);n.end=n.start.clone(),n.end.assign("day",o)}return n}};fd.default=dd});var jy=S(pd=>{"use strict";Object.defineProperty(pd,"__esModule",{value:!0});var Bo=ta(),OO=rt(),MO=Z(),RO=gr(),xO=Ie(),hd=class extends MO.AbstractParserWithWordBoundaryChecking{constructor(){super()}innerPattern(){return new RegExp(`(?:\\s*((?:n\xE4chste|kommende|folgende|letzte|vergangene|vorige|vor(?:her|an)gegangene)(?:s|n|m|r)?|vor|in)\\s*)?(${Bo.NUMBER_PATTERN})?(?:\\s*(n\xE4chste|kommende|folgende|letzte|vergangene|vorige|vor(?:her|an)gegangene)(?:s|n|m|r)?)?\\s*(${xO.matchAnyPattern(Bo.TIME_UNIT_DICTIONARY)})`,"i")}innerExtract(e,t){let n=t[2]?Bo.parseNumberPattern(t[2]):1,s=Bo.TIME_UNIT_DICTIONARY[t[4].toLowerCase()],a={};a[s]=n;let o=t[1]||t[3]||"";if(o=o.toLowerCase(),!!o)return(/vor/.test(o)||/letzte/.test(o)||/vergangen/.test(o))&&(a=RO.reverseTimeUnits(a)),OO.ParsingComponents.createRelativeFromReference(e.reference,a)}};pd.default=hd});var Hy=S(vt=>{"use strict";var Ar=vt&&vt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(vt,"__esModule",{value:!0});vt.createConfiguration=vt.createCasualConfiguration=vt.parseDate=vt.parse=vt.strict=vt.casual=void 0;var PO=un(),$y=xr(),AO=Ar(fs()),NO=Ar(Fc()),CO=Ar(vy()),IO=Ar(Sy()),FO=Ar(xy()),LO=Ar(Py()),YO=Ar(Ay()),UO=Ar(Iy()),WO=Ar(ld()),qO=Ar(qy()),jO=Ar(jy());vt.casual=new $y.Chrono(Gy());vt.strict=new $y.Chrono(md(!0));function $O(r,e,t){return vt.casual.parse(r,e,t)}vt.parse=$O;function GO(r,e,t){return vt.casual.parseDate(r,e,t)}vt.parseDate=GO;function Gy(r=!0){let e=md(!1,r);return e.parsers.unshift(new WO.default),e.parsers.unshift(new UO.default),e.parsers.unshift(new jO.default),e}vt.createCasualConfiguration=Gy;function md(r=!0,e=!0){return PO.includeCommonConfiguration({parsers:[new NO.default,new AO.default(e),new CO.default,new FO.default,new qO.default,new IO.default],refiners:[new LO.default,new YO.default]},r)}vt.createConfiguration=md});var zy=S(Nr=>{"use strict";var HO=Nr&&Nr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),BO=Nr&&Nr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),zO=Nr&&Nr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&HO(e,r,t);return BO(e,r),e},VO=Nr&&Nr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Nr,"__esModule",{value:!0});var KO=VO(Re()),ZO=mt(),XO=Z(),By=yr(),zo=zO(cn()),yd=class extends XO.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(maintenant|aujourd'hui|demain|hier|cette\s*nuit|la\s*veille)(?=\W|$)/i}innerExtract(e,t){let n=KO.default(e.refDate),s=t[0].toLowerCase(),a=e.createParsingComponents();switch(s){case"maintenant":return zo.now(e.reference);case"aujourd'hui":return zo.today(e.reference);case"hier":return zo.yesterday(e.reference);case"demain":return zo.tomorrow(e.reference);default:s.match(/cette\s*nuit/)?(By.assignSimilarDate(a,n),a.imply("hour",22),a.imply("meridiem",ZO.Meridiem.PM)):s.match(/la\s*veille/)&&(n=n.add(-1,"day"),By.assignSimilarDate(a,n),a.imply("hour",0))}return a}};Nr.default=yd});var Vy=S(_d=>{"use strict";Object.defineProperty(_d,"__esModule",{value:!0});var aa=mt(),QO=Z(),gd=class extends QO.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(cet?)?\s*(matin|soir|après-midi|aprem|a midi|à minuit)(?=\W|$)/i}innerExtract(e,t){let n=t[2].toLowerCase(),s=e.createParsingComponents();switch(n){case"apr\xE8s-midi":case"aprem":s.imply("hour",14),s.imply("minute",0),s.imply("meridiem",aa.Meridiem.PM);break;case"soir":s.imply("hour",18),s.imply("minute",0),s.imply("meridiem",aa.Meridiem.PM);break;case"matin":s.imply("hour",8),s.imply("minute",0),s.imply("meridiem",aa.Meridiem.AM);break;case"a midi":s.imply("hour",12),s.imply("minute",0),s.imply("meridiem",aa.Meridiem.AM);break;case"\xE0 minuit":s.imply("hour",0),s.imply("meridiem",aa.Meridiem.AM);break}return s}};_d.default=gd});var Ky=S(bd=>{"use strict";Object.defineProperty(bd,"__esModule",{value:!0});var JO=ls(),Td=class extends JO.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:[\xE0a])\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|[\xE0a]|\\?)\\s*"}extractPrimaryTimeComponents(e,t){return t[0].match(/^\s*\d{4}\s*$/)?null:super.extractPrimaryTimeComponents(e,t)}};bd.default=Td});var Zy=S(oa=>{"use strict";var eM=oa&&oa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(oa,"__esModule",{value:!0});var tM=eM(on()),vd=class extends tM.default{patternBetween(){return new RegExp("^\\s*(T|\xE0|a|vers|de|,|-)?\\s*$")}};oa.default=vd});var Xy=S(ua=>{"use strict";var rM=ua&&ua.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ua,"__esModule",{value:!0});var nM=rM(jr()),wd=class extends nM.default{patternBetween(){return/^\s*(à|a|-)\s*$/i}};ua.default=wd});var Un=S(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.parseTimeUnits=xe.TIME_UNITS_PATTERN=xe.parseYear=xe.YEAR_PATTERN=xe.parseOrdinalNumberPattern=xe.ORDINAL_NUMBER_PATTERN=xe.parseNumberPattern=xe.NUMBER_PATTERN=xe.TIME_UNIT_DICTIONARY=xe.INTEGER_WORD_DICTIONARY=xe.MONTH_DICTIONARY=xe.WEEKDAY_DICTIONARY=void 0;var kd=Ie();xe.WEEKDAY_DICTIONARY={dimanche:0,dim:0,lundi:1,lun:1,mardi:2,mar:2,mercredi:3,mer:3,jeudi:4,jeu:4,vendredi:5,ven:5,samedi:6,sam:6};xe.MONTH_DICTIONARY={janvier:1,jan:1,"jan.":1,f\u00E9vrier:2,f\u00E9v:2,"f\xE9v.":2,fevrier:2,fev:2,"fev.":2,mars:3,mar:3,"mar.":3,avril:4,avr:4,"avr.":4,mai:5,juin:6,jun:6,juillet:7,juil:7,jul:7,"jul.":7,ao\u00FBt:8,aout:8,septembre:9,sep:9,"sep.":9,sept:9,"sept.":9,octobre:10,oct:10,"oct.":10,novembre:11,nov:11,"nov.":11,d\u00E9cembre:12,decembre:12,dec:12,"dec.":12};xe.INTEGER_WORD_DICTIONARY={un:1,deux:2,trois:3,quatre:4,cinq:5,six:6,sept:7,huit:8,neuf:9,dix:10,onze:11,douze:12,treize:13};xe.TIME_UNIT_DICTIONARY={sec:"second",seconde:"second",secondes:"second",min:"minute",mins:"minute",minute:"minute",minutes:"minute",h:"hour",hr:"hour",hrs:"hour",heure:"hour",heures:"hour",jour:"d",jours:"d",semaine:"week",semaines:"week",mois:"month",trimestre:"quarter",trimestres:"quarter",ans:"year",ann\u00E9e:"year",ann\u00E9es:"year"};xe.NUMBER_PATTERN=`(?:${kd.matchAnyPattern(xe.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|une?\\b|quelques?|demi-?)`;function Jy(r){let e=r.toLowerCase();return xe.INTEGER_WORD_DICTIONARY[e]!==void 0?xe.INTEGER_WORD_DICTIONARY[e]:e==="une"||e==="un"?1:e.match(/quelques?/)?3:e.match(/demi-?/)?.5:parseFloat(e)}xe.parseNumberPattern=Jy;xe.ORDINAL_NUMBER_PATTERN="(?:[0-9]{1,2}(?:er)?)";function sM(r){let e=r.toLowerCase();return e=e.replace(/(?:er)$/i,""),parseInt(e)}xe.parseOrdinalNumberPattern=sM;xe.YEAR_PATTERN="(?:[1-9][0-9]{0,3}\\s*(?:AC|AD|p\\.\\s*C(?:hr?)?\\.\\s*n\\.)|[1-2][0-9]{3}|[5-9][0-9])";function iM(r){if(/AC/i.test(r))return r=r.replace(/BC/i,""),-parseInt(r);if(/AD/i.test(r)||/C/i.test(r))return r=r.replace(/[^\d]+/i,""),parseInt(r);let e=parseInt(r);return e<100&&(e>50?e=e+1900:e=e+2e3),e}xe.parseYear=iM;var eg=`(${xe.NUMBER_PATTERN})\\s{0,5}(${kd.matchAnyPattern(xe.TIME_UNIT_DICTIONARY)})\\s{0,5}`,Qy=new RegExp(eg,"i");xe.TIME_UNITS_PATTERN=kd.repeatedTimeunitPattern("",eg);function aM(r){let e={},t=r,n=Qy.exec(t);for(;n;)oM(e,n),t=t.substring(n[0].length),n=Qy.exec(t);return e}xe.parseTimeUnits=aM;function oM(r,e){let t=Jy(e[1]),n=xe.TIME_UNIT_DICTIONARY[e[2].toLowerCase()];r[n]=t}});var rg=S(Dd=>{"use strict";Object.defineProperty(Dd,"__esModule",{value:!0});var tg=Un(),uM=Ie(),lM=Z(),cM=ds(),dM=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:(?:ce)\\s*)?(${uM.matchAnyPattern(tg.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(dernier|prochain)\\s*)?(?=\\W|\\d|$)`,"i"),fM=1,hM=2,Ed=class extends lM.AbstractParserWithWordBoundaryChecking{innerPattern(){return dM}innerExtract(e,t){let n=t[fM].toLowerCase(),s=tg.WEEKDAY_DICTIONARY[n];if(s===void 0)return null;let a=t[hM];a=a||"",a=a.toLowerCase();let o=null;a=="dernier"?o="last":a=="prochain"&&(o="next");let l=cM.toDayJSWeekday(e.refDate,s,o);return e.createParsingComponents().assign("weekday",s).imply("day",l.date()).imply("month",l.month()+1).imply("year",l.year())}};Dd.default=Ed});var ag=S(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});var la=mt(),pM=new RegExp("(^|\\s|T)(?:(?:[\xE0a])\\s*)?(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s|:)?)?(?:\\s*(A\\.M\\.|P\\.M\\.|AM?|PM?))?(?=\\W|$)","i"),mM=new RegExp("^\\s*(\\-|\\\u2013|\\~|\\\u301C|[\xE0a]|\\?)\\s*(\\d{1,2})(?:h|:)?(?:(\\d{1,2})(?:m|:)?)?(?:(\\d{1,2})(?:s|:)?)?(?:\\s*(A\\.M\\.|P\\.M\\.|AM?|PM?))?(?=\\W|$)","i"),yM=2,ng=3,sg=4,ig=5,si=class{pattern(e){return pM}extract(e,t){let n=e.createParsingResult(t.index+t[1].length,t[0].substring(t[1].length));if(n.text.match(/^\d{4}$/)||(n.start=si.extractTimeComponent(n.start.clone(),t),!n.start))return t.index+=t[0].length,null;let s=e.text.substring(t.index+t[0].length),a=mM.exec(s);return a&&(n.end=si.extractTimeComponent(n.start.clone(),a),n.end&&(n.text+=a[0])),n}static extractTimeComponent(e,t){let n=0,s=0,a=null;if(n=parseInt(t[yM]),t[ng]!=null&&(s=parseInt(t[ng])),s>=60||n>24)return null;if(n>=12&&(a=la.Meridiem.PM),t[ig]!=null){if(n>12)return null;let o=t[ig][0].toLowerCase();o=="a"&&(a=la.Meridiem.AM,n==12&&(n=0)),o=="p"&&(a=la.Meridiem.PM,n!=12&&(n+=12))}if(e.assign("hour",n),e.assign("minute",s),a!==null?e.assign("meridiem",a):n<12?e.imply("meridiem",la.Meridiem.AM):e.imply("meridiem",la.Meridiem.PM),t[sg]!=null){let o=parseInt(t[sg]);if(o>=60)return null;e.assign("second",o)}return e}};Sd.default=si});var fg=S(Md=>{"use strict";Object.defineProperty(Md,"__esModule",{value:!0});var gM=Pt(),cg=Un(),dg=Un(),Vo=Un(),_M=Ie(),TM=Z(),bM=new RegExp(`(?:on\\s*?)?(${Vo.ORDINAL_NUMBER_PATTERN})(?:\\s*(?:au|\\-|\\\u2013|jusqu'au?|\\s)\\s*(${Vo.ORDINAL_NUMBER_PATTERN}))?(?:-|/|\\s*(?:de)?\\s*)(${_M.matchAnyPattern(cg.MONTH_DICTIONARY)})(?:(?:-|/|,?\\s*)(${dg.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),og=1,ug=2,vM=3,lg=4,Od=class extends TM.AbstractParserWithWordBoundaryChecking{innerPattern(){return bM}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=cg.MONTH_DICTIONARY[t[vM].toLowerCase()],a=Vo.parseOrdinalNumberPattern(t[og]);if(a>31)return t.index=t.index+t[og].length,null;if(n.start.assign("month",s),n.start.assign("day",a),t[lg]){let o=dg.parseYear(t[lg]);n.start.assign("year",o)}else{let o=gM.findYearClosestToRef(e.refDate,a,s);n.start.imply("year",o)}if(t[ug]){let o=Vo.parseOrdinalNumberPattern(t[ug]);n.end=n.start.clone(),n.end.assign("day",o)}return n}};Md.default=Od});var pg=S(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});var hg=Un(),wM=rt(),kM=Z(),EM=gr(),Rd=class extends kM.AbstractParserWithWordBoundaryChecking{constructor(){super()}innerPattern(){return new RegExp(`il y a\\s*(${hg.TIME_UNITS_PATTERN})(?=(?:\\W|$))`,"i")}innerExtract(e,t){let n=hg.parseTimeUnits(t[1]),s=EM.reverseTimeUnits(n);return wM.ParsingComponents.createRelativeFromReference(e.reference,s)}};xd.default=Rd});var yg=S(Ad=>{"use strict";Object.defineProperty(Ad,"__esModule",{value:!0});var mg=Un(),DM=rt(),SM=Z(),Pd=class extends SM.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp(`(?:dans|en|pour|pendant|de)\\s*(${mg.TIME_UNITS_PATTERN})(?=\\W|$)`,"i")}innerExtract(e,t){let n=mg.parseTimeUnits(t[1]);return DM.ParsingComponents.createRelativeFromReference(e.reference,n)}};Ad.default=Pd});var gg=S(Cd=>{"use strict";Object.defineProperty(Cd,"__esModule",{value:!0});var Ko=Un(),OM=rt(),MM=Z(),RM=gr(),xM=Ie(),Nd=class extends MM.AbstractParserWithWordBoundaryChecking{constructor(){super()}innerPattern(){return new RegExp(`(?:les?|la|l'|du|des?)\\s*(${Ko.NUMBER_PATTERN})?(?:\\s*(prochaine?s?|derni[e\xE8]re?s?|pass[\xE9e]e?s?|pr[\xE9e]c[\xE9e]dents?|suivante?s?))?\\s*(${xM.matchAnyPattern(Ko.TIME_UNIT_DICTIONARY)})(?:\\s*(prochaine?s?|derni[e\xE8]re?s?|pass[\xE9e]e?s?|pr[\xE9e]c[\xE9e]dents?|suivante?s?))?`,"i")}innerExtract(e,t){let n=t[1]?Ko.parseNumberPattern(t[1]):1,s=Ko.TIME_UNIT_DICTIONARY[t[3].toLowerCase()],a={};a[s]=n;let o=t[2]||t[4]||"";if(o=o.toLowerCase(),!!o)return(/derni[eè]re?s?/.test(o)||/pass[ée]e?s?/.test(o)||/pr[ée]c[ée]dents?/.test(o))&&(a=RM.reverseTimeUnits(a)),OM.ParsingComponents.createRelativeFromReference(e.reference,a)}};Cd.default=Nd});var bg=S(wt=>{"use strict";var _r=wt&&wt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(wt,"__esModule",{value:!0});wt.createConfiguration=wt.createCasualConfiguration=wt.parseDate=wt.parse=wt.strict=wt.casual=void 0;var PM=un(),_g=xr(),AM=_r(zy()),NM=_r(Vy()),CM=_r(fs()),IM=_r(Ky()),FM=_r(Zy()),LM=_r(Xy()),YM=_r(rg()),UM=_r(ag()),WM=_r(fg()),qM=_r(pg()),jM=_r(yg()),$M=_r(gg());wt.casual=new _g.Chrono(Tg());wt.strict=new _g.Chrono(Id(!0));function GM(r,e,t){return wt.casual.parse(r,e,t)}wt.parse=GM;function HM(r,e,t){return wt.casual.parseDate(r,e,t)}wt.parseDate=HM;function Tg(r=!0){let e=Id(!1,r);return e.parsers.unshift(new AM.default),e.parsers.unshift(new NM.default),e.parsers.unshift(new $M.default),e}wt.createCasualConfiguration=Tg;function Id(r=!0,e=!0){return PM.includeCommonConfiguration({parsers:[new CM.default(e),new WM.default,new IM.default,new UM.default,new qM.default,new jM.default,new YM.default],refiners:[new FM.default,new LM.default]},r)}wt.createConfiguration=Id});var vg=S(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.toHankaku=void 0;function BM(r){return String(r).replace(/\u2019/g,"'").replace(/\u201D/g,'"').replace(/\u3000/g," ").replace(/\uFFE5/g,"\xA5").replace(/[\uFF01\uFF03-\uFF06\uFF08\uFF09\uFF0C-\uFF19\uFF1C-\uFF1F\uFF21-\uFF3B\uFF3D\uFF3F\uFF41-\uFF5B\uFF5D\uFF5E]/g,zM)}Zo.toHankaku=BM;function zM(r){return String.fromCharCode(r.charCodeAt(0)-65248)}});var kg=S(ca=>{"use strict";var VM=ca&&ca.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ca,"__esModule",{value:!0});var Fd=vg(),KM=Pt(),ZM=VM(Re()),XM=/(?:(?:([同今本])|((昭和|平成|令和)?([0-9０-９]{1,4}|元)))年\s*)?([0-9０-９]{1,2})月\s*([0-9０-９]{1,2})日/i,wg=1,QM=2,Ld=3,JM=4,eR=5,tR=6,Yd=class{pattern(){return XM}extract(e,t){let n=parseInt(Fd.toHankaku(t[eR])),s=parseInt(Fd.toHankaku(t[tR])),a=e.createParsingComponents({day:s,month:n});if(t[wg]&&t[wg].match("\u540C|\u4ECA|\u672C")){let o=ZM.default(e.refDate);a.assign("year",o.year())}if(t[QM]){let o=t[JM],l=o=="\u5143"?1:parseInt(Fd.toHankaku(o));t[Ld]=="\u4EE4\u548C"?l+=2018:t[Ld]=="\u5E73\u6210"?l+=1988:t[Ld]=="\u662D\u548C"&&(l+=1925),a.assign("year",l)}else{let o=KM.findYearClosestToRef(e.refDate,s,n);a.imply("year",o)}return a}};ca.default=Yd});var Eg=S(da=>{"use strict";var rR=da&&da.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(da,"__esModule",{value:!0});var nR=rR(jr()),Ud=class extends nR.default{patternBetween(){return/^\s*(から|ー|-)\s*$/i}};da.default=Ud});var Sg=S(Cr=>{"use strict";var sR=Cr&&Cr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),iR=Cr&&Cr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),aR=Cr&&Cr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&sR(e,r,t);return iR(e,r),e},oR=Cr&&Cr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Cr,"__esModule",{value:!0});var uR=oR(Re()),Dg=mt(),Wd=aR(cn()),lR=/今日|当日|昨日|明日|今夜|今夕|今晩|今朝/i,qd=class{pattern(){return lR}extract(e,t){let n=t[0],s=uR.default(e.refDate),a=e.createParsingComponents();switch(n){case"\u6628\u65E5":return Wd.yesterday(e.reference);case"\u660E\u65E5":return Wd.tomorrow(e.reference);case"\u4ECA\u65E5":case"\u5F53\u65E5":return Wd.today(e.reference)}return n=="\u4ECA\u591C"||n=="\u4ECA\u5915"||n=="\u4ECA\u6669"?(a.imply("hour",22),a.assign("meridiem",Dg.Meridiem.PM)):n.match("\u4ECA\u671D")&&(a.imply("hour",6),a.assign("meridiem",Dg.Meridiem.AM)),a.assign("day",s.date()),a.assign("month",s.month()+1),a.assign("year",s.year()),a}};Cr.default=qd});var Rg=S(kt=>{"use strict";var jd=kt&&kt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(kt,"__esModule",{value:!0});kt.createConfiguration=kt.createCasualConfiguration=kt.parseDate=kt.parse=kt.strict=kt.casual=void 0;var cR=jd(kg()),dR=jd(Eg()),fR=jd(Sg()),Og=xr();kt.casual=new Og.Chrono(Mg());kt.strict=new Og.Chrono($d());function hR(r,e,t){return kt.casual.parse(r,e,t)}kt.parse=hR;function pR(r,e,t){return kt.casual.parseDate(r,e,t)}kt.parseDate=pR;function Mg(){let r=$d();return r.parsers.unshift(new fR.default),r}kt.createCasualConfiguration=Mg;function $d(){return{parsers:[new cR.default],refiners:[new dR.default]}}kt.createConfiguration=$d});var Xo=S(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.parseYear=Gr.YEAR_PATTERN=Gr.MONTH_DICTIONARY=Gr.WEEKDAY_DICTIONARY=void 0;Gr.WEEKDAY_DICTIONARY={domingo:0,dom:0,segunda:1,"segunda-feira":1,seg:1,ter\u00E7a:2,"ter\xE7a-feira":2,ter:2,quarta:3,"quarta-feira":3,qua:3,quinta:4,"quinta-feira":4,qui:4,sexta:5,"sexta-feira":5,sex:5,s\u00E1bado:6,sabado:6,sab:6};Gr.MONTH_DICTIONARY={janeiro:1,jan:1,"jan.":1,fevereiro:2,fev:2,"fev.":2,mar\u00E7o:3,mar:3,"mar.":3,abril:4,abr:4,"abr.":4,maio:5,mai:5,"mai.":5,junho:6,jun:6,"jun.":6,julho:7,jul:7,"jul.":7,agosto:8,ago:8,"ago.":8,setembro:9,set:9,"set.":9,outubro:10,out:10,"out.":10,novembro:11,nov:11,"nov.":11,dezembro:12,dez:12,"dez.":12};Gr.YEAR_PATTERN="[0-9]{1,4}(?![^\\s]\\d)(?:\\s*[a|d]\\.?\\s*c\\.?|\\s*a\\.?\\s*d\\.?)?";function mR(r){if(r.match(/^[0-9]{1,4}$/)){let e=parseInt(r);return e<100&&(e>50?e=e+1900:e=e+2e3),e}return r.match(/a\.?\s*c\.?/i)?(r=r.replace(/a\.?\s*c\.?/i,""),-parseInt(r)):parseInt(r)}Gr.parseYear=mR});var Pg=S(Hd=>{"use strict";Object.defineProperty(Hd,"__esModule",{value:!0});var xg=Xo(),yR=Ie(),gR=Z(),_R=ds(),TR=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:(este|esta|passado|pr[o\xF3]ximo)\\s*)?(${yR.matchAnyPattern(xg.WEEKDAY_DICTIONARY)})(?:\\s*(?:\\,|\\)|\\\uFF09))?(?:\\s*(este|esta|passado|pr[\xF3o]ximo)\\s*semana)?(?=\\W|\\d|$)`,"i"),bR=1,vR=2,wR=3,Gd=class extends gR.AbstractParserWithWordBoundaryChecking{innerPattern(){return TR}innerExtract(e,t){let n=t[vR].toLowerCase(),s=xg.WEEKDAY_DICTIONARY[n];if(s===void 0)return null;let a=t[bR],o=t[wR],l=a||o||"";l=l.toLowerCase();let c=null;l=="passado"?c="this":l=="pr\xF3ximo"||l=="proximo"?c="next":l=="este"&&(c="this");let f=_R.toDayJSWeekday(e.refDate,s,c);return e.createParsingComponents().assign("weekday",s).imply("day",f.date()).imply("month",f.month()+1).imply("year",f.year())}};Hd.default=Gd});var Ag=S(zd=>{"use strict";Object.defineProperty(zd,"__esModule",{value:!0});var kR=ls(),Bd=class extends kR.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:ao?|\xE0s?|das|da|de|do)\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|a(?:o)?|\\?)\\s*"}};zd.default=Bd});var Ng=S(fa=>{"use strict";var ER=fa&&fa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fa,"__esModule",{value:!0});var DR=ER(on()),Vd=class extends DR.default{patternBetween(){return new RegExp("^\\s*(?:,|\xE0)?\\s*$")}};fa.default=Vd});var Cg=S(ha=>{"use strict";var SR=ha&&ha.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ha,"__esModule",{value:!0});var OR=SR(jr()),Kd=class extends OR.default{patternBetween(){return/^\s*(?:-)\s*$/i}};ha.default=Kd});var Wg=S(Xd=>{"use strict";Object.defineProperty(Xd,"__esModule",{value:!0});var MR=Pt(),Yg=Xo(),Ug=Xo(),RR=Ie(),xR=Z(),PR=new RegExp(`([0-9]{1,2})(?:\xBA|\xAA|\xB0)?(?:\\s*(?:desde|de|\\-|\\\u2013|ao?|\\s)\\s*([0-9]{1,2})(?:\xBA|\xAA|\xB0)?)?\\s*(?:de)?\\s*(?:-|/|\\s*(?:de|,)?\\s*)(${RR.matchAnyPattern(Yg.MONTH_DICTIONARY)})(?:\\s*(?:de|,)?\\s*(${Ug.YEAR_PATTERN}))?(?=\\W|$)`,"i"),Ig=1,Fg=2,AR=3,Lg=4,Zd=class extends xR.AbstractParserWithWordBoundaryChecking{innerPattern(){return PR}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=Yg.MONTH_DICTIONARY[t[AR].toLowerCase()],a=parseInt(t[Ig]);if(a>31)return t.index=t.index+t[Ig].length,null;if(n.start.assign("month",s),n.start.assign("day",a),t[Lg]){let o=Ug.parseYear(t[Lg]);n.start.assign("year",o)}else{let o=MR.findYearClosestToRef(e.refDate,a,s);n.start.imply("year",o)}if(t[Fg]){let o=parseInt(t[Fg]);n.end=n.start.clone(),n.end.assign("day",o)}return n}};Xd.default=Zd});var qg=S(dn=>{"use strict";var NR=dn&&dn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),CR=dn&&dn.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),IR=dn&&dn.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&NR(e,r,t);return CR(e,r),e};Object.defineProperty(dn,"__esModule",{value:!0});var FR=Z(),Qo=IR(cn()),Qd=class extends FR.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(agora|hoje|amanha|amanhã|ontem)(?=\W|$)/i}innerExtract(e,t){let n=t[0].toLowerCase(),s=e.createParsingComponents();switch(n){case"agora":return Qo.now(e.reference);case"hoje":return Qo.today(e.reference);case"amanha":case"amanh\xE3":return Qo.tomorrow(e.reference);case"ontem":return Qo.yesterday(e.reference)}return s}};dn.default=Qd});var jg=S(pa=>{"use strict";var LR=pa&&pa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(pa,"__esModule",{value:!0});var Jo=mt(),YR=Z(),UR=yr(),WR=LR(Re()),Jd=class extends YR.AbstractParserWithWordBoundaryChecking{innerPattern(){return/(?:esta\s*)?(manha|manhã|tarde|meia-noite|meio-dia|noite)(?=\W|$)/i}innerExtract(e,t){let n=WR.default(e.refDate),s=e.createParsingComponents();switch(t[1].toLowerCase()){case"tarde":s.imply("meridiem",Jo.Meridiem.PM),s.imply("hour",15);break;case"noite":s.imply("meridiem",Jo.Meridiem.PM),s.imply("hour",22);break;case"manha":case"manh\xE3":s.imply("meridiem",Jo.Meridiem.AM),s.imply("hour",6);break;case"meia-noite":UR.assignTheNextDay(s,n),s.imply("hour",0),s.imply("minute",0),s.imply("second",0);break;case"meio-dia":s.imply("meridiem",Jo.Meridiem.AM),s.imply("hour",12);break}return s}};pa.default=Jd});var Hg=S(Et=>{"use strict";var Wn=Et&&Et.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Et,"__esModule",{value:!0});Et.createConfiguration=Et.createCasualConfiguration=Et.parseDate=Et.parse=Et.strict=Et.casual=void 0;var qR=un(),$g=xr(),jR=Wn(fs()),$R=Wn(Pg()),GR=Wn(Ag()),HR=Wn(Ng()),BR=Wn(Cg()),zR=Wn(Wg()),VR=Wn(qg()),KR=Wn(jg());Et.casual=new $g.Chrono(Gg());Et.strict=new $g.Chrono(ef(!0));function ZR(r,e,t){return Et.casual.parse(r,e,t)}Et.parse=ZR;function XR(r,e,t){return Et.casual.parseDate(r,e,t)}Et.parseDate=XR;function Gg(r=!0){let e=ef(!1,r);return e.parsers.push(new VR.default),e.parsers.push(new KR.default),e}Et.createCasualConfiguration=Gg;function ef(r=!0,e=!0){return qR.includeCommonConfiguration({parsers:[new jR.default(e),new $R.default,new GR.default,new zR.default],refiners:[new HR.default,new BR.default]},r)}Et.createConfiguration=ef});var Bg=S(ma=>{"use strict";var QR=ma&&ma.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ma,"__esModule",{value:!0});var JR=QR(jr()),tf=class extends JR.default{patternBetween(){return/^\s*(tot|-)\s*$/i}};ma.default=tf});var zg=S(ya=>{"use strict";var ex=ya&&ya.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ya,"__esModule",{value:!0});var tx=ex(on()),rf=class extends tx.default{patternBetween(){return new RegExp("^\\s*(om|na|voor|in de|,|-)?\\s*$")}};ya.default=rf});var Vg=S(fn=>{"use strict";var rx=fn&&fn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),nx=fn&&fn.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),sx=fn&&fn.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&rx(e,r,t);return nx(e,r),e};Object.defineProperty(fn,"__esModule",{value:!0});var ix=Z(),eu=sx(cn()),nf=class extends ix.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(nu|vandaag|morgen|morgend|gisteren)(?=\W|$)/i}innerExtract(e,t){let n=t[0].toLowerCase(),s=e.createParsingComponents();switch(n){case"nu":return eu.now(e.reference);case"vandaag":return eu.today(e.reference);case"morgen":case"morgend":return eu.tomorrow(e.reference);case"gisteren":return eu.yesterday(e.reference)}return s}};fn.default=nf});var Kg=S(ga=>{"use strict";var ax=ga&&ga.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ga,"__esModule",{value:!0});var tu=mt(),ox=Z(),ux=ax(Re()),lx=yr(),cx=1,dx=2,sf=class extends ox.AbstractParserWithWordBoundaryChecking{innerPattern(){return/(deze)?\s*(namiddag|avond|middernacht|ochtend|middag|'s middags|'s avonds|'s ochtends)(?=\W|$)/i}innerExtract(e,t){let n=ux.default(e.refDate),s=e.createParsingComponents();switch(t[cx]==="deze"&&(s.assign("day",e.refDate.getDate()),s.assign("month",e.refDate.getMonth()+1),s.assign("year",e.refDate.getFullYear())),t[dx].toLowerCase()){case"namiddag":case"'s namiddags":s.imply("meridiem",tu.Meridiem.PM),s.imply("hour",15);break;case"avond":case"'s avonds'":s.imply("meridiem",tu.Meridiem.PM),s.imply("hour",20);break;case"middernacht":lx.assignTheNextDay(s,n),s.imply("hour",0),s.imply("minute",0),s.imply("second",0);break;case"ochtend":case"'s ochtends":s.imply("meridiem",tu.Meridiem.AM),s.imply("hour",6);break;case"middag":case"'s middags":s.imply("meridiem",tu.Meridiem.AM),s.imply("hour",12);break}return s}};ga.default=sf});var rr=S(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.parseTimeUnits=ve.TIME_UNITS_PATTERN=ve.parseYear=ve.YEAR_PATTERN=ve.parseOrdinalNumberPattern=ve.ORDINAL_NUMBER_PATTERN=ve.parseNumberPattern=ve.NUMBER_PATTERN=ve.TIME_UNIT_DICTIONARY=ve.ORDINAL_WORD_DICTIONARY=ve.INTEGER_WORD_DICTIONARY=ve.MONTH_DICTIONARY=ve.WEEKDAY_DICTIONARY=void 0;var ru=Ie(),fx=Pt();ve.WEEKDAY_DICTIONARY={zondag:0,zon:0,"zon.":0,zo:0,"zo.":0,maandag:1,ma:1,"ma.":1,dinsdag:2,din:2,"din.":2,di:2,"di.":2,woensdag:3,woe:3,"woe.":3,wo:3,"wo.":3,donderdag:4,dond:4,"dond.":4,do:4,"do.":4,vrijdag:5,vrij:5,"vrij.":5,vr:5,"vr.":5,zaterdag:6,zat:6,"zat.":6,za:6,"za.":6};ve.MONTH_DICTIONARY={januari:1,jan:1,"jan.":1,februari:2,feb:2,"feb.":2,maart:3,mar:3,"mar.":3,april:4,apr:4,"apr.":4,mei:5,juni:6,jun:6,"jun.":6,juli:7,jul:7,"jul.":7,augustus:8,aug:8,"aug.":8,september:9,sep:9,"sep.":9,sept:9,"sept.":9,oktober:10,okt:10,"okt.":10,november:11,nov:11,"nov.":11,december:12,dec:12,"dec.":12};ve.INTEGER_WORD_DICTIONARY={een:1,twee:2,drie:3,vier:4,vijf:5,zes:6,zeven:7,acht:8,negen:9,tien:10,elf:11,twaalf:12};ve.ORDINAL_WORD_DICTIONARY={eerste:1,tweede:2,derde:3,vierde:4,vijfde:5,zesde:6,zevende:7,achtste:8,negende:9,tiende:10,elfde:11,twaalfde:12,dertiende:13,veertiende:14,vijftiende:15,zestiende:16,zeventiende:17,achttiende:18,negentiende:19,twintigste:20,eenentwintigste:21,twee\u00EBntwintigste:22,drieentwintigste:23,vierentwintigste:24,vijfentwintigste:25,zesentwintigste:26,zevenentwintigste:27,achtentwintig:28,negenentwintig:29,dertigste:30,eenendertigste:31};ve.TIME_UNIT_DICTIONARY={sec:"second",second:"second",seconden:"second",min:"minute",mins:"minute",minute:"minute",minuut:"minute",minuten:"minute",minuutje:"minute",h:"hour",hr:"hour",hrs:"hour",uur:"hour",u:"hour",uren:"hour",dag:"d",dagen:"d",week:"week",weken:"week",maand:"month",maanden:"month",jaar:"year",jr:"year",jaren:"year"};ve.NUMBER_PATTERN=`(?:${ru.matchAnyPattern(ve.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+[\\.,][0-9]+|halve?|half|paar)`;function Xg(r){let e=r.toLowerCase();return ve.INTEGER_WORD_DICTIONARY[e]!==void 0?ve.INTEGER_WORD_DICTIONARY[e]:e==="paar"?2:e==="half"||e.match(/halve?/)?.5:parseFloat(e.replace(",","."))}ve.parseNumberPattern=Xg;ve.ORDINAL_NUMBER_PATTERN=`(?:${ru.matchAnyPattern(ve.ORDINAL_WORD_DICTIONARY)}|[0-9]{1,2}(?:ste|de)?)`;function hx(r){let e=r.toLowerCase();return ve.ORDINAL_WORD_DICTIONARY[e]!==void 0?ve.ORDINAL_WORD_DICTIONARY[e]:(e=e.replace(/(?:ste|de)$/i,""),parseInt(e))}ve.parseOrdinalNumberPattern=hx;ve.YEAR_PATTERN="(?:[1-9][0-9]{0,3}\\s*(?:voor Christus|na Christus)|[1-2][0-9]{3}|[5-9][0-9])";function px(r){if(/voor Christus/i.test(r))return r=r.replace(/voor Christus/i,""),-parseInt(r);if(/na Christus/i.test(r))return r=r.replace(/na Christus/i,""),parseInt(r);let e=parseInt(r);return fx.findMostLikelyADYear(e)}ve.parseYear=px;var Qg=`(${ve.NUMBER_PATTERN})\\s{0,5}(${ru.matchAnyPattern(ve.TIME_UNIT_DICTIONARY)})\\s{0,5}`,Zg=new RegExp(Qg,"i");ve.TIME_UNITS_PATTERN=ru.repeatedTimeunitPattern("(?:(?:binnen|in)\\s*)?",Qg);function mx(r){let e={},t=r,n=Zg.exec(t);for(;n;)yx(e,n),t=t.substring(n[0].length),n=Zg.exec(t);return e}ve.parseTimeUnits=mx;function yx(r,e){let t=Xg(e[1]),n=ve.TIME_UNIT_DICTIONARY[e[2].toLowerCase()];r[n]=t}});var e_=S(of=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});var Jg=rr(),gx=rt(),_x=Z(),af=class extends _x.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp("(?:binnen|in|binnen de|voor)\\s*("+Jg.TIME_UNITS_PATTERN+")(?=\\W|$)","i")}innerExtract(e,t){let n=Jg.parseTimeUnits(t[1]);return gx.ParsingComponents.createRelativeFromReference(e.reference,n)}};of.default=af});var r_=S(lf=>{"use strict";Object.defineProperty(lf,"__esModule",{value:!0});var t_=rr(),Tx=Ie(),bx=Z(),vx=ds(),wx=new RegExp(`(?:(?:\\,|\\(|\\\uFF08)\\s*)?(?:op\\s*?)?(?:(deze|vorige|volgende)\\s*(?:week\\s*)?)?(${Tx.matchAnyPattern(t_.WEEKDAY_DICTIONARY)})(?=\\W|$)`,"i"),kx=1,Ex=2,Dx=3,uf=class extends bx.AbstractParserWithWordBoundaryChecking{innerPattern(){return wx}innerExtract(e,t){let n=t[Ex].toLowerCase(),s=t_.WEEKDAY_DICTIONARY[n],a=t[kx],o=t[Dx],l=a||o;l=l||"",l=l.toLowerCase();let c=null;l=="vorige"?c="last":l=="volgende"?c="next":l=="deze"&&(c="this");let f=vx.toDayJSWeekday(e.refDate,s,c);return e.createParsingComponents().assign("weekday",s).imply("day",f.date()).imply("month",f.month()+1).imply("year",f.year())}};lf.default=uf});var u_=S(df=>{"use strict";Object.defineProperty(df,"__esModule",{value:!0});var Sx=Pt(),a_=rr(),nu=rr(),o_=rr(),Ox=Ie(),Mx=Z(),Rx=new RegExp(`(?:on\\s*?)?(${nu.ORDINAL_NUMBER_PATTERN})(?:\\s*(?:tot|\\-|\\\u2013|until|through|till|\\s)\\s*(${nu.ORDINAL_NUMBER_PATTERN}))?(?:-|/|\\s*(?:of)?\\s*)(`+Ox.matchAnyPattern(a_.MONTH_DICTIONARY)+`)(?:(?:-|/|,?\\s*)(${o_.YEAR_PATTERN}(?![^\\s]\\d)))?(?=\\W|$)`,"i"),xx=3,n_=1,s_=2,i_=4,cf=class extends Mx.AbstractParserWithWordBoundaryChecking{innerPattern(){return Rx}innerExtract(e,t){let n=a_.MONTH_DICTIONARY[t[xx].toLowerCase()],s=nu.parseOrdinalNumberPattern(t[n_]);if(s>31)return t.index=t.index+t[n_].length,null;let a=e.createParsingComponents({day:s,month:n});if(t[i_]){let c=o_.parseYear(t[i_]);a.assign("year",c)}else{let c=Sx.findYearClosestToRef(e.refDate,s,n);a.imply("year",c)}if(!t[s_])return a;let o=nu.parseOrdinalNumberPattern(t[s_]),l=e.createParsingResult(t.index,t[0]);return l.start=a,l.end=a.clone(),l.end.assign("day",o),l}};df.default=cf});var f_=S(hf=>{"use strict";Object.defineProperty(hf,"__esModule",{value:!0});var c_=rr(),Px=Pt(),Ax=Ie(),d_=rr(),Nx=Z(),Cx=new RegExp(`(${Ax.matchAnyPattern(c_.MONTH_DICTIONARY)})\\s*(?:[,-]?\\s*(${d_.YEAR_PATTERN})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,"i"),Ix=1,l_=2,ff=class extends Nx.AbstractParserWithWordBoundaryChecking{innerPattern(){return Cx}innerExtract(e,t){let n=e.createParsingComponents();n.imply("day",1);let s=t[Ix],a=c_.MONTH_DICTIONARY[s.toLowerCase()];if(n.assign("month",a),t[l_]){let o=d_.parseYear(t[l_]);n.assign("year",o)}else{let o=Px.findYearClosestToRef(e.refDate,1,a);n.imply("year",o)}return n}};hf.default=ff});var h_=S(mf=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});var Fx=Z(),Lx=new RegExp("([0-9]|0[1-9]|1[012])/([0-9]{4})","i"),Yx=1,Ux=2,pf=class extends Fx.AbstractParserWithWordBoundaryChecking{innerPattern(){return Lx}innerExtract(e,t){let n=parseInt(t[Ux]),s=parseInt(t[Yx]);return e.createParsingComponents().imply("day",1).assign("month",s).assign("year",n)}};mf.default=pf});var p_=S(gf=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});var Wx=ls(),yf=class extends Wx.AbstractTimeExpressionParser{primaryPrefix(){return"(?:(?:om)\\s*)?"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|om|\\?)\\s*"}primarySuffix(){return"(?:\\s*(?:uur))?(?!/)(?=\\W|$)"}extractPrimaryTimeComponents(e,t){return t[0].match(/^\s*\d{4}\s*$/)?null:super.extractPrimaryTimeComponents(e,t)}};gf.default=yf});var g_=S(Tf=>{"use strict";Object.defineProperty(Tf,"__esModule",{value:!0});var y_=rr(),qx=Ie(),jx=Z(),$x=new RegExp(`([0-9]{4})[\\.\\/\\s](?:(${qx.matchAnyPattern(y_.MONTH_DICTIONARY)})|([0-9]{1,2}))[\\.\\/\\s]([0-9]{1,2})(?=\\W|$)`,"i"),Gx=1,Hx=2,m_=3,Bx=4,_f=class extends jx.AbstractParserWithWordBoundaryChecking{innerPattern(){return $x}innerExtract(e,t){let n=t[m_]?parseInt(t[m_]):y_.MONTH_DICTIONARY[t[Hx].toLowerCase()];if(n<1||n>12)return null;let s=parseInt(t[Gx]);return{day:parseInt(t[Bx]),month:n,year:s}}};Tf.default=_f});var __=S(_a=>{"use strict";var zx=_a&&_a.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_a,"__esModule",{value:!0});var Vx=Z(),su=mt(),bf=yr(),Kx=zx(Re()),Zx=1,Xx=2,vf=class extends Vx.AbstractParserWithWordBoundaryChecking{innerPattern(e){return/(gisteren|morgen|van)(ochtend|middag|namiddag|avond|nacht)(?=\W|$)/i}innerExtract(e,t){let n=t[Zx].toLowerCase(),s=t[Xx].toLowerCase(),a=e.createParsingComponents(),o=Kx.default(e.refDate);switch(n){case"gisteren":bf.assignSimilarDate(a,o.add(-1,"day"));break;case"van":bf.assignSimilarDate(a,o);break;case"morgen":bf.assignTheNextDay(a,o);break}switch(s){case"ochtend":a.imply("meridiem",su.Meridiem.AM),a.imply("hour",6);break;case"middag":a.imply("meridiem",su.Meridiem.AM),a.imply("hour",12);break;case"namiddag":a.imply("meridiem",su.Meridiem.PM),a.imply("hour",15);break;case"avond":a.imply("meridiem",su.Meridiem.PM),a.imply("hour",20);break}return a}};_a.default=vf});var b_=S(kf=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});var T_=rr(),Qx=rt(),Jx=Z(),eP=gr(),tP=new RegExp(`(deze|vorige|afgelopen|komende|over|\\+|-)\\s*(${T_.TIME_UNITS_PATTERN})(?=\\W|$)`,"i"),wf=class extends Jx.AbstractParserWithWordBoundaryChecking{innerPattern(){return tP}innerExtract(e,t){let n=t[1].toLowerCase(),s=T_.parseTimeUnits(t[2]);switch(n){case"vorige":case"afgelopen":case"-":s=eP.reverseTimeUnits(s);break}return Qx.ParsingComponents.createRelativeFromReference(e.reference,s)}};kf.default=wf});var k_=S(Ta=>{"use strict";var rP=Ta&&Ta.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ta,"__esModule",{value:!0});var w_=rr(),v_=rt(),nP=rP(Re()),sP=Z(),iP=Ie(),aP=new RegExp(`(dit|deze|komende|volgend|volgende|afgelopen|vorige)\\s*(${iP.matchAnyPattern(w_.TIME_UNIT_DICTIONARY)})(?=\\s*)(?=\\W|$)`,"i"),oP=1,uP=2,Ef=class extends sP.AbstractParserWithWordBoundaryChecking{innerPattern(){return aP}innerExtract(e,t){let n=t[oP].toLowerCase(),s=t[uP].toLowerCase(),a=w_.TIME_UNIT_DICTIONARY[s];if(n=="volgend"||n=="volgende"||n=="komende"){let c={};return c[a]=1,v_.ParsingComponents.createRelativeFromReference(e.reference,c)}if(n=="afgelopen"||n=="vorige"){let c={};return c[a]=-1,v_.ParsingComponents.createRelativeFromReference(e.reference,c)}let o=e.createParsingComponents(),l=nP.default(e.reference.instant);return s.match(/week/i)?(l=l.add(-l.get("d"),"d"),o.imply("day",l.date()),o.imply("month",l.month()+1),o.imply("year",l.year())):s.match(/maand/i)?(l=l.add(-l.date()+1,"d"),o.imply("day",l.date()),o.assign("year",l.year()),o.assign("month",l.month()+1)):s.match(/jaar/i)&&(l=l.add(-l.date()+1,"d"),l=l.add(-l.month(),"month"),o.imply("day",l.date()),o.imply("month",l.month()+1),o.assign("year",l.year())),o}};Ta.default=Ef});var E_=S(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});var Sf=rr(),lP=rt(),cP=Z(),dP=gr(),fP=new RegExp("("+Sf.TIME_UNITS_PATTERN+")(?:geleden|voor|eerder)(?=(?:\\W|$))","i"),hP=new RegExp("("+Sf.TIME_UNITS_PATTERN+")geleden(?=(?:\\W|$))","i"),Df=class extends cP.AbstractParserWithWordBoundaryChecking{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?hP:fP}innerExtract(e,t){let n=Sf.parseTimeUnits(t[1]),s=dP.reverseTimeUnits(n);return lP.ParsingComponents.createRelativeFromReference(e.reference,s)}};Of.default=Df});var D_=S(xf=>{"use strict";Object.defineProperty(xf,"__esModule",{value:!0});var Rf=rr(),pP=rt(),mP=Z(),yP=new RegExp("("+Rf.TIME_UNITS_PATTERN+")(later|na|vanaf nu|voortaan|vooruit|uit)(?=(?:\\W|$))","i"),gP=new RegExp("("+Rf.TIME_UNITS_PATTERN+")(later|vanaf nu)(?=(?:\\W|$))","i"),_P=1,Mf=class extends mP.AbstractParserWithWordBoundaryChecking{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?gP:yP}innerExtract(e,t){let n=Rf.parseTimeUnits(t[_P]);return pP.ParsingComponents.createRelativeFromReference(e.reference,n)}};xf.default=Mf});var R_=S(Dt=>{"use strict";var Nt=Dt&&Dt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.createConfiguration=Dt.createCasualConfiguration=Dt.parseDate=Dt.parse=Dt.strict=Dt.casual=void 0;var TP=un(),S_=xr(),bP=Nt(Bg()),vP=Nt(zg()),wP=Nt(Vg()),kP=Nt(Kg()),EP=Nt(fs()),DP=Nt(e_()),SP=Nt(r_()),OP=Nt(u_()),O_=Nt(f_()),MP=Nt(h_()),RP=Nt(p_()),xP=Nt(g_()),PP=Nt(__()),AP=Nt(b_()),NP=Nt(k_()),CP=Nt(E_()),IP=Nt(D_());Dt.casual=new S_.Chrono(M_());Dt.strict=new S_.Chrono(Pf(!0));function FP(r,e,t){return Dt.casual.parse(r,e,t)}Dt.parse=FP;function LP(r,e,t){return Dt.casual.parseDate(r,e,t)}Dt.parseDate=LP;function M_(r=!0){let e=Pf(!1,r);return e.parsers.unshift(new wP.default),e.parsers.unshift(new kP.default),e.parsers.unshift(new PP.default),e.parsers.unshift(new O_.default),e.parsers.unshift(new NP.default),e.parsers.unshift(new AP.default),e}Dt.createCasualConfiguration=M_;function Pf(r=!0,e=!0){return TP.includeCommonConfiguration({parsers:[new EP.default(e),new DP.default,new OP.default,new O_.default,new SP.default,new xP.default,new MP.default,new RP.default(r),new CP.default(r),new IP.default(r)],refiners:[new vP.default,new bP.default]},r)}Dt.createConfiguration=Pf});var N_=S(ba=>{"use strict";var YP=ba&&ba.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ba,"__esModule",{value:!0});var UP=YP(Re()),WP=Z(),qP=1,x_=2,jP=3,P_=4,A_=5,$P=6,Af=class extends WP.AbstractParserWithWordBoundaryChecking{innerPattern(e){return new RegExp("(\u800C\u5BB6|\u7ACB(?:\u523B|\u5373)|\u5373\u523B)|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(?:\u65E5|\u5929)(?:[\\s|,|\uFF0C]*)(?:(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?","i")}innerExtract(e,t){let n=t.index,s=e.createParsingResult(n,t[0]),a=UP.default(e.refDate),o=a;if(t[qP])s.start.imply("hour",a.hour()),s.start.imply("minute",a.minute()),s.start.imply("second",a.second()),s.start.imply("millisecond",a.millisecond());else if(t[x_]){let l=t[x_],c=t[jP];l=="\u660E"||l=="\u807D"?a.hour()>1&&(o=o.add(1,"day")):l=="\u6628"||l=="\u5C0B"||l=="\u7434"?o=o.add(-1,"day"):l=="\u524D"?o=o.add(-2,"day"):l=="\u5927\u524D"?o=o.add(-3,"day"):l=="\u5F8C"?o=o.add(2,"day"):l=="\u5927\u5F8C"&&(o=o.add(3,"day")),c=="\u65E9"||c=="\u671D"?s.start.imply("hour",6):c=="\u665A"&&(s.start.imply("hour",22),s.start.imply("meridiem",1))}else if(t[P_]){let c=t[P_][0];c=="\u65E9"||c=="\u671D"||c=="\u4E0A"?s.start.imply("hour",6):c=="\u4E0B"||c=="\u664F"?(s.start.imply("hour",15),s.start.imply("meridiem",1)):c=="\u4E2D"?(s.start.imply("hour",12),s.start.imply("meridiem",1)):c=="\u591C"||c=="\u665A"?(s.start.imply("hour",22),s.start.imply("meridiem",1)):c=="\u51CC"&&s.start.imply("hour",0)}else if(t[A_]){let l=t[A_];l=="\u660E"||l=="\u807D"?a.hour()>1&&(o=o.add(1,"day")):l=="\u6628"||l=="\u5C0B"||l=="\u7434"?o=o.add(-1,"day"):l=="\u524D"?o=o.add(-2,"day"):l=="\u5927\u524D"?o=o.add(-3,"day"):l=="\u5F8C"?o=o.add(2,"day"):l=="\u5927\u5F8C"&&(o=o.add(3,"day"));let c=t[$P];if(c){let f=c[0];f=="\u65E9"||f=="\u671D"||f=="\u4E0A"?s.start.imply("hour",6):f=="\u4E0B"||f=="\u664F"?(s.start.imply("hour",15),s.start.imply("meridiem",1)):f=="\u4E2D"?(s.start.imply("hour",12),s.start.imply("meridiem",1)):f=="\u591C"||f=="\u665A"?(s.start.imply("hour",22),s.start.imply("meridiem",1)):f=="\u51CC"&&s.start.imply("hour",0)}}return s.start.assign("day",o.date()),s.start.assign("month",o.month()+1),s.start.assign("year",o.year()),s}};ba.default=Af});var ii=S(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.zhStringToYear=Vt.zhStringToNumber=Vt.WEEKDAY_OFFSET=Vt.NUMBER=void 0;Vt.NUMBER={\u96F6:0,\u4E00:1,\u4E8C:2,\u5169:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6,\u4E03:7,\u516B:8,\u4E5D:9,\u5341:10,\u5EFF:20,\u5345:30};Vt.WEEKDAY_OFFSET={\u5929:0,\u65E5:0,\u4E00:1,\u4E8C:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6};function GP(r){let e=0;for(let t=0;t<r.length;t++){let n=r[t];n==="\u5341"?e=e===0?Vt.NUMBER[n]:e*Vt.NUMBER[n]:e+=Vt.NUMBER[n]}return e}Vt.zhStringToNumber=GP;function HP(r){let e="";for(let t=0;t<r.length;t++){let n=r[t];e=e+Vt.NUMBER[n]}return parseInt(e)}Vt.zhStringToYear=HP});var I_=S(va=>{"use strict";var BP=va&&va.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(va,"__esModule",{value:!0});var zP=BP(Re()),VP=Z(),ms=ii(),Nf=1,C_=2,Cf=3,If=class extends VP.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp("(\\d{2,4}|["+Object.keys(ms.NUMBER).join("")+"]{4}|["+Object.keys(ms.NUMBER).join("")+"]{2})?(?:\\s*)(?:\u5E74)?(?:[\\s|,|\uFF0C]*)(\\d{1,2}|["+Object.keys(ms.NUMBER).join("")+"]{1,2})(?:\\s*)(?:\u6708)(?:\\s*)(\\d{1,2}|["+Object.keys(ms.NUMBER).join("")+"]{1,2})?(?:\\s*)(?:\u65E5|\u865F)?")}innerExtract(e,t){let n=zP.default(e.refDate),s=e.createParsingResult(t.index,t[0]),a=parseInt(t[C_]);if(isNaN(a)&&(a=ms.zhStringToNumber(t[C_])),s.start.assign("month",a),t[Cf]){let o=parseInt(t[Cf]);isNaN(o)&&(o=ms.zhStringToNumber(t[Cf])),s.start.assign("day",o)}else s.start.imply("day",n.date());if(t[Nf]){let o=parseInt(t[Nf]);isNaN(o)&&(o=ms.zhStringToYear(t[Nf])),s.start.assign("year",o)}else s.start.imply("year",n.year());return s}};va.default=If});var L_=S(wa=>{"use strict";var KP=wa&&wa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(wa,"__esModule",{value:!0});var ZP=KP(Re()),XP=Z(),F_=ii(),QP=new RegExp("(\\d+|["+Object.keys(F_.NUMBER).join("")+"]+|\u534A|\u5E7E)(?:\\s*)(?:\u500B)?(\u79D2(?:\u9418)?|\u5206\u9418|\u5C0F\u6642|\u9418|\u65E5|\u5929|\u661F\u671F|\u79AE\u62DC|\u6708|\u5E74)(?:(?:\u4E4B|\u904E)?\u5F8C|(?:\u4E4B)?\u5167)","i"),Ff=1,JP=2,Lf=class extends XP.AbstractParserWithWordBoundaryChecking{innerPattern(){return QP}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=parseInt(t[Ff]);if(isNaN(s)&&(s=F_.zhStringToNumber(t[Ff])),isNaN(s)){let c=t[Ff];if(c==="\u5E7E")s=3;else if(c==="\u534A")s=.5;else return null}let a=ZP.default(e.refDate),l=t[JP][0];return l.match(/[日天星禮月年]/)?(l=="\u65E5"||l=="\u5929"?a=a.add(s,"d"):l=="\u661F"||l=="\u79AE"?a=a.add(s*7,"d"):l=="\u6708"?a=a.add(s,"month"):l=="\u5E74"&&(a=a.add(s,"year")),n.start.assign("year",a.year()),n.start.assign("month",a.month()+1),n.start.assign("day",a.date()),n):(l=="\u79D2"?a=a.add(s,"second"):l=="\u5206"?a=a.add(s,"minute"):(l=="\u5C0F"||l=="\u9418")&&(a=a.add(s,"hour")),n.start.imply("year",a.year()),n.start.imply("month",a.month()+1),n.start.imply("day",a.date()),n.start.assign("hour",a.hour()),n.start.assign("minute",a.minute()),n.start.assign("second",a.second()),n)}};wa.default=Lf});var U_=S(ka=>{"use strict";var eA=ka&&ka.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ka,"__esModule",{value:!0});var tA=eA(Re()),rA=Z(),Y_=ii(),nA=new RegExp("(?<prefix>\u4E0A|\u4ECA|\u4E0B|\u9019|\u5462)(?:\u500B)?(?:\u661F\u671F|\u79AE\u62DC|\u9031)(?<weekday>"+Object.keys(Y_.WEEKDAY_OFFSET).join("|")+")"),Yf=class extends rA.AbstractParserWithWordBoundaryChecking{innerPattern(){return nA}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=t.groups.weekday,a=Y_.WEEKDAY_OFFSET[s];if(a===void 0)return null;let o=null,l=t.groups.prefix;l=="\u4E0A"?o="last":l=="\u4E0B"?o="next":(l=="\u4ECA"||l=="\u9019"||l=="\u5462")&&(o="this");let c=tA.default(e.refDate),f=!1,p=c.day();return o=="last"||o=="past"?(c=c.day(a-7),f=!0):o=="next"?(c=c.day(a+7),f=!0):o=="this"?c=c.day(a):Math.abs(a-7-p)<Math.abs(a-p)?c=c.day(a-7):Math.abs(a+7-p)<Math.abs(a-p)?c=c.day(a+7):c=c.day(a),n.start.assign("weekday",a),f?(n.start.assign("day",c.date()),n.start.assign("month",c.month()+1),n.start.assign("year",c.year())):(n.start.imply("day",c.date()),n.start.imply("month",c.month()+1),n.start.imply("year",c.year())),n}};ka.default=Yf});var W_=S(Ea=>{"use strict";var sA=Ea&&Ea.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ea,"__esModule",{value:!0});var iA=sA(Re()),aA=Z(),br=ii(),oA=new RegExp("(?:\u7531|\u5F9E|\u81EA)?(?:(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(?:\u65E5|\u5929)(?:[\\s,\uFF0C]*)(?:(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?)?(?:[\\s,\uFF0C]*)(?:(\\d+|["+Object.keys(br.NUMBER).join("")+"]+)(?:\\s*)(?:\u9EDE|\u6642|:|\uFF1A)(?:\\s*)(\\d+|\u534A|\u6B63|\u6574|["+Object.keys(br.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uFF1A)?(?:\\s*)(\\d+|["+Object.keys(br.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79D2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i"),uA=new RegExp("(?:^\\s*(?:\u5230|\u81F3|\\-|\\\u2013|\\~|\\\u301C)\\s*)(?:(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u5F8C|\u5927\u5F8C|\u807D|\u6628|\u5C0B|\u7434)(?:\u65E5|\u5929)(?:[\\s,\uFF0C]*)(?:(\u4E0A(?:\u5348|\u665D)|\u671D(?:\u65E9)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348|\u665D)|\u664F(?:\u665D)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?)?(?:[\\s,\uFF0C]*)(?:(\\d+|["+Object.keys(br.NUMBER).join("")+"]+)(?:\\s*)(?:\u9EDE|\u6642|:|\uFF1A)(?:\\s*)(\\d+|\u534A|\u6B63|\u6574|["+Object.keys(br.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uFF1A)?(?:\\s*)(\\d+|["+Object.keys(br.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79D2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i"),iu=1,au=2,ou=3,uu=4,lu=5,cu=6,Tr=7,ai=8,du=9,Uf=class extends aA.AbstractParserWithWordBoundaryChecking{innerPattern(){return oA}innerExtract(e,t){if(t.index>0&&e.text[t.index-1].match(/\w/))return null;let n=iA.default(e.refDate),s=e.createParsingResult(t.index,t[0]),a=n.clone();if(t[iu]){var o=t[iu];o=="\u660E"||o=="\u807D"?n.hour()>1&&a.add(1,"day"):o=="\u6628"||o=="\u5C0B"||o=="\u7434"?a.add(-1,"day"):o=="\u524D"?a.add(-2,"day"):o=="\u5927\u524D"?a.add(-3,"day"):o=="\u5F8C"?a.add(2,"day"):o=="\u5927\u5F8C"&&a.add(3,"day"),s.start.assign("day",a.date()),s.start.assign("month",a.month()+1),s.start.assign("year",a.year())}else if(t[uu]){var l=t[uu];l=="\u660E"||l=="\u807D"?a.add(1,"day"):l=="\u6628"||l=="\u5C0B"||l=="\u7434"?a.add(-1,"day"):l=="\u524D"?a.add(-2,"day"):l=="\u5927\u524D"?a.add(-3,"day"):l=="\u5F8C"?a.add(2,"day"):l=="\u5927\u5F8C"&&a.add(3,"day"),s.start.assign("day",a.date()),s.start.assign("month",a.month()+1),s.start.assign("year",a.year())}else s.start.imply("day",a.date()),s.start.imply("month",a.month()+1),s.start.imply("year",a.year());let c=0,f=0,p=-1;if(t[ai]){var g=parseInt(t[ai]);if(isNaN(g)&&(g=br.zhStringToNumber(t[ai])),g>=60)return null;s.start.assign("second",g)}if(c=parseInt(t[cu]),isNaN(c)&&(c=br.zhStringToNumber(t[cu])),t[Tr]?t[Tr]=="\u534A"?f=30:t[Tr]=="\u6B63"||t[Tr]=="\u6574"?f=0:(f=parseInt(t[Tr]),isNaN(f)&&(f=br.zhStringToNumber(t[Tr]))):c>100&&(f=c%100,c=Math.floor(c/100)),f>=60||c>24)return null;if(c>=12&&(p=1),t[du]){if(c>12)return null;var T=t[du][0].toLowerCase();T=="a"&&(p=0,c==12&&(c=0)),T=="p"&&(p=1,c!=12&&(c+=12))}else if(t[au]){var O=t[au],b=O[0];b=="\u671D"||b=="\u65E9"?(p=0,c==12&&(c=0)):b=="\u665A"&&(p=1,c!=12&&(c+=12))}else if(t[ou]){var x=t[ou],I=x[0];I=="\u4E0A"||I=="\u671D"||I=="\u65E9"||I=="\u51CC"?(p=0,c==12&&(c=0)):(I=="\u4E0B"||I=="\u664F"||I=="\u665A")&&(p=1,c!=12&&(c+=12))}else if(t[lu]){var $=t[lu],H=$[0];H=="\u4E0A"||H=="\u671D"||H=="\u65E9"||H=="\u51CC"?(p=0,c==12&&(c=0)):(H=="\u4E0B"||H=="\u664F"||H=="\u665A")&&(p=1,c!=12&&(c+=12))}if(s.start.assign("hour",c),s.start.assign("minute",f),p>=0?s.start.assign("meridiem",p):c<12?s.start.imply("meridiem",0):s.start.imply("meridiem",1),t=uA.exec(e.text.substring(s.index+s.text.length)),!t)return s.text.match(/^\d+$/)?null:s;let W=a.clone();if(s.end=e.createParsingComponents(),t[iu]){var o=t[iu];o=="\u660E"||o=="\u807D"?n.hour()>1&&W.add(1,"day"):o=="\u6628"||o=="\u5C0B"||o=="\u7434"?W.add(-1,"day"):o=="\u524D"?W.add(-2,"day"):o=="\u5927\u524D"?W.add(-3,"day"):o=="\u5F8C"?W.add(2,"day"):o=="\u5927\u5F8C"&&W.add(3,"day"),s.end.assign("day",W.date()),s.end.assign("month",W.month()+1),s.end.assign("year",W.year())}else if(t[uu]){var l=t[uu];l=="\u660E"||l=="\u807D"?W.add(1,"day"):l=="\u6628"||l=="\u5C0B"||l=="\u7434"?W.add(-1,"day"):l=="\u524D"?W.add(-2,"day"):l=="\u5927\u524D"?W.add(-3,"day"):l=="\u5F8C"?W.add(2,"day"):l=="\u5927\u5F8C"&&W.add(3,"day"),s.end.assign("day",W.date()),s.end.assign("month",W.month()+1),s.end.assign("year",W.year())}else s.end.imply("day",W.date()),s.end.imply("month",W.month()+1),s.end.imply("year",W.year());if(c=0,f=0,p=-1,t[ai]){var g=parseInt(t[ai]);if(isNaN(g)&&(g=br.zhStringToNumber(t[ai])),g>=60)return null;s.end.assign("second",g)}if(c=parseInt(t[cu]),isNaN(c)&&(c=br.zhStringToNumber(t[cu])),t[Tr]?t[Tr]=="\u534A"?f=30:t[Tr]=="\u6B63"||t[Tr]=="\u6574"?f=0:(f=parseInt(t[Tr]),isNaN(f)&&(f=br.zhStringToNumber(t[Tr]))):c>100&&(f=c%100,c=Math.floor(c/100)),f>=60||c>24)return null;if(c>=12&&(p=1),t[du]){if(c>12)return null;var T=t[du][0].toLowerCase();T=="a"&&(p=0,c==12&&(c=0)),T=="p"&&(p=1,c!=12&&(c+=12)),s.start.isCertain("meridiem")||(p==0?(s.start.imply("meridiem",0),s.start.get("hour")==12&&s.start.assign("hour",0)):(s.start.imply("meridiem",1),s.start.get("hour")!=12&&s.start.assign("hour",s.start.get("hour")+12)))}else if(t[au]){var O=t[au],b=O[0];b=="\u671D"||b=="\u65E9"?(p=0,c==12&&(c=0)):b=="\u665A"&&(p=1,c!=12&&(c+=12))}else if(t[ou]){var x=t[ou],I=x[0];I=="\u4E0A"||I=="\u671D"||I=="\u65E9"||I=="\u51CC"?(p=0,c==12&&(c=0)):(I=="\u4E0B"||I=="\u664F"||I=="\u665A")&&(p=1,c!=12&&(c+=12))}else if(t[lu]){var $=t[lu],H=$[0];H=="\u4E0A"||H=="\u671D"||H=="\u65E9"||H=="\u51CC"?(p=0,c==12&&(c=0)):(H=="\u4E0B"||H=="\u664F"||H=="\u665A")&&(p=1,c!=12&&(c+=12))}return s.text=s.text+t[0],s.end.assign("hour",c),s.end.assign("minute",f),p>=0?s.end.assign("meridiem",p):s.start.isCertain("meridiem")&&s.start.get("meridiem")==1&&s.start.get("hour")>c?s.end.imply("meridiem",0):c>12&&s.end.imply("meridiem",1),s.end.date().getTime()<s.start.date().getTime()&&s.end.imply("day",s.end.get("day")+1),s}};Ea.default=Uf});var j_=S(Da=>{"use strict";var lA=Da&&Da.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Da,"__esModule",{value:!0});var cA=lA(Re()),dA=Z(),q_=ii(),fA=new RegExp("(?:\u661F\u671F|\u79AE\u62DC|\u9031)(?<weekday>"+Object.keys(q_.WEEKDAY_OFFSET).join("|")+")"),Wf=class extends dA.AbstractParserWithWordBoundaryChecking{innerPattern(){return fA}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=t.groups.weekday,a=q_.WEEKDAY_OFFSET[s];if(a===void 0)return null;let o=cA.default(e.refDate),l=!1,c=o.day();return Math.abs(a-7-c)<Math.abs(a-c)?o=o.day(a-7):Math.abs(a+7-c)<Math.abs(a-c)?o=o.day(a+7):o=o.day(a),n.start.assign("weekday",a),l?(n.start.assign("day",o.date()),n.start.assign("month",o.month()+1),n.start.assign("year",o.year())):(n.start.imply("day",o.date()),n.start.imply("month",o.month()+1),n.start.imply("year",o.year())),n}};Da.default=Wf});var $_=S(Sa=>{"use strict";var hA=Sa&&Sa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Sa,"__esModule",{value:!0});var pA=hA(jr()),qf=class extends pA.default{patternBetween(){return/^\s*(至|到|\-|\~|～|－|ー)\s*$/i}};Sa.default=qf});var G_=S(Oa=>{"use strict";var mA=Oa&&Oa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Oa,"__esModule",{value:!0});var yA=mA(on()),jf=class extends yA.default{patternBetween(){return/^\s*$/i}};Oa.default=jf});var H_=S(ut=>{"use strict";var hn=ut&&ut.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ut,"__esModule",{value:!0});ut.createConfiguration=ut.createCasualConfiguration=ut.parseDate=ut.parse=ut.strict=ut.casual=ut.hant=void 0;var $f=xr(),gA=hn(qo()),_A=un(),TA=hn(N_()),bA=hn(I_()),vA=hn(L_()),wA=hn(U_()),kA=hn(W_()),EA=hn(j_()),DA=hn($_()),SA=hn(G_());ut.hant=new $f.Chrono(Gf());ut.casual=new $f.Chrono(Gf());ut.strict=new $f.Chrono(Hf());function OA(r,e,t){return ut.casual.parse(r,e,t)}ut.parse=OA;function MA(r,e,t){return ut.casual.parseDate(r,e,t)}ut.parseDate=MA;function Gf(){let r=Hf();return r.parsers.unshift(new TA.default),r}ut.createCasualConfiguration=Gf;function Hf(){let r=_A.includeCommonConfiguration({parsers:[new bA.default,new wA.default,new EA.default,new kA.default,new vA.default],refiners:[new DA.default,new SA.default]});return r.refiners=r.refiners.filter(e=>!(e instanceof gA.default)),r}ut.createConfiguration=Hf});var K_=S(Ma=>{"use strict";var RA=Ma&&Ma.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ma,"__esModule",{value:!0});var xA=RA(Re()),PA=Z(),AA=1,B_=2,NA=3,z_=4,V_=5,CA=6,Bf=class extends PA.AbstractParserWithWordBoundaryChecking{innerPattern(e){return new RegExp("(\u73B0\u5728|\u7ACB(?:\u523B|\u5373)|\u5373\u523B)|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(\u65E9|\u665A)|(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(?:\u65E5|\u5929)(?:[\\s|,|\uFF0C]*)(?:(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?","i")}innerExtract(e,t){let n=t.index,s=e.createParsingResult(n,t[0]),a=xA.default(e.refDate),o=a;if(t[AA])s.start.imply("hour",a.hour()),s.start.imply("minute",a.minute()),s.start.imply("second",a.second()),s.start.imply("millisecond",a.millisecond());else if(t[B_]){let l=t[B_],c=t[NA];l=="\u660E"?a.hour()>1&&(o=o.add(1,"day")):l=="\u6628"?o=o.add(-1,"day"):l=="\u524D"?o=o.add(-2,"day"):l=="\u5927\u524D"?o=o.add(-3,"day"):l=="\u540E"?o=o.add(2,"day"):l=="\u5927\u540E"&&(o=o.add(3,"day")),c=="\u65E9"?s.start.imply("hour",6):c=="\u665A"&&(s.start.imply("hour",22),s.start.imply("meridiem",1))}else if(t[z_]){let c=t[z_][0];c=="\u65E9"||c=="\u4E0A"?s.start.imply("hour",6):c=="\u4E0B"?(s.start.imply("hour",15),s.start.imply("meridiem",1)):c=="\u4E2D"?(s.start.imply("hour",12),s.start.imply("meridiem",1)):c=="\u591C"||c=="\u665A"?(s.start.imply("hour",22),s.start.imply("meridiem",1)):c=="\u51CC"&&s.start.imply("hour",0)}else if(t[V_]){let l=t[V_];l=="\u660E"?a.hour()>1&&(o=o.add(1,"day")):l=="\u6628"?o=o.add(-1,"day"):l=="\u524D"?o=o.add(-2,"day"):l=="\u5927\u524D"?o=o.add(-3,"day"):l=="\u540E"?o=o.add(2,"day"):l=="\u5927\u540E"&&(o=o.add(3,"day"));let c=t[CA];if(c){let f=c[0];f=="\u65E9"||f=="\u4E0A"?s.start.imply("hour",6):f=="\u4E0B"?(s.start.imply("hour",15),s.start.imply("meridiem",1)):f=="\u4E2D"?(s.start.imply("hour",12),s.start.imply("meridiem",1)):f=="\u591C"||f=="\u665A"?(s.start.imply("hour",22),s.start.imply("meridiem",1)):f=="\u51CC"&&s.start.imply("hour",0)}}return s.start.assign("day",o.date()),s.start.assign("month",o.month()+1),s.start.assign("year",o.year()),s}};Ma.default=Bf});var oi=S(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.zhStringToYear=Kt.zhStringToNumber=Kt.WEEKDAY_OFFSET=Kt.NUMBER=void 0;Kt.NUMBER={\u96F6:0,"\u3007":0,\u4E00:1,\u4E8C:2,\u4E24:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6,\u4E03:7,\u516B:8,\u4E5D:9,\u5341:10};Kt.WEEKDAY_OFFSET={\u5929:0,\u65E5:0,\u4E00:1,\u4E8C:2,\u4E09:3,\u56DB:4,\u4E94:5,\u516D:6};function IA(r){let e=0;for(let t=0;t<r.length;t++){let n=r[t];n==="\u5341"?e=e===0?Kt.NUMBER[n]:e*Kt.NUMBER[n]:e+=Kt.NUMBER[n]}return e}Kt.zhStringToNumber=IA;function FA(r){let e="";for(let t=0;t<r.length;t++){let n=r[t];e=e+Kt.NUMBER[n]}return parseInt(e)}Kt.zhStringToYear=FA});var X_=S(Ra=>{"use strict";var LA=Ra&&Ra.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ra,"__esModule",{value:!0});var YA=LA(Re()),UA=Z(),ys=oi(),zf=1,Z_=2,Vf=3,Kf=class extends UA.AbstractParserWithWordBoundaryChecking{innerPattern(){return new RegExp("(\\d{2,4}|["+Object.keys(ys.NUMBER).join("")+"]{4}|["+Object.keys(ys.NUMBER).join("")+"]{2})?(?:\\s*)(?:\u5E74)?(?:[\\s|,|\uFF0C]*)(\\d{1,2}|["+Object.keys(ys.NUMBER).join("")+"]{1,3})(?:\\s*)(?:\u6708)(?:\\s*)(\\d{1,2}|["+Object.keys(ys.NUMBER).join("")+"]{1,3})?(?:\\s*)(?:\u65E5|\u53F7)?")}innerExtract(e,t){let n=YA.default(e.refDate),s=e.createParsingResult(t.index,t[0]),a=parseInt(t[Z_]);if(isNaN(a)&&(a=ys.zhStringToNumber(t[Z_])),s.start.assign("month",a),t[Vf]){let o=parseInt(t[Vf]);isNaN(o)&&(o=ys.zhStringToNumber(t[Vf])),s.start.assign("day",o)}else s.start.imply("day",n.date());if(t[zf]){let o=parseInt(t[zf]);isNaN(o)&&(o=ys.zhStringToYear(t[zf])),s.start.assign("year",o)}else s.start.imply("year",n.year());return s}};Ra.default=Kf});var J_=S(xa=>{"use strict";var WA=xa&&xa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(xa,"__esModule",{value:!0});var qA=WA(Re()),jA=Z(),Q_=oi(),$A=new RegExp("(\\d+|["+Object.keys(Q_.NUMBER).join("")+"]+|\u534A|\u51E0)(?:\\s*)(?:\u4E2A)?(\u79D2(?:\u949F)?|\u5206\u949F|\u5C0F\u65F6|\u949F|\u65E5|\u5929|\u661F\u671F|\u793C\u62DC|\u6708|\u5E74)(?:(?:\u4E4B|\u8FC7)?\u540E|(?:\u4E4B)?\u5185)","i"),Zf=1,GA=2,Xf=class extends jA.AbstractParserWithWordBoundaryChecking{innerPattern(){return $A}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=parseInt(t[Zf]);if(isNaN(s)&&(s=Q_.zhStringToNumber(t[Zf])),isNaN(s)){let c=t[Zf];if(c==="\u51E0")s=3;else if(c==="\u534A")s=.5;else return null}let a=qA.default(e.refDate),l=t[GA][0];return l.match(/[日天星礼月年]/)?(l=="\u65E5"||l=="\u5929"?a=a.add(s,"d"):l=="\u661F"||l=="\u793C"?a=a.add(s*7,"d"):l=="\u6708"?a=a.add(s,"month"):l=="\u5E74"&&(a=a.add(s,"year")),n.start.assign("year",a.year()),n.start.assign("month",a.month()+1),n.start.assign("day",a.date()),n):(l=="\u79D2"?a=a.add(s,"second"):l=="\u5206"?a=a.add(s,"minute"):(l=="\u5C0F"||l=="\u949F")&&(a=a.add(s,"hour")),n.start.imply("year",a.year()),n.start.imply("month",a.month()+1),n.start.imply("day",a.date()),n.start.assign("hour",a.hour()),n.start.assign("minute",a.minute()),n.start.assign("second",a.second()),n)}};xa.default=Xf});var tT=S(Pa=>{"use strict";var HA=Pa&&Pa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Pa,"__esModule",{value:!0});var BA=HA(Re()),zA=Z(),eT=oi(),VA=new RegExp("(?<prefix>\u4E0A|\u4E0B|\u8FD9)(?:\u4E2A)?(?:\u661F\u671F|\u793C\u62DC|\u5468)(?<weekday>"+Object.keys(eT.WEEKDAY_OFFSET).join("|")+")"),Qf=class extends zA.AbstractParserWithWordBoundaryChecking{innerPattern(){return VA}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=t.groups.weekday,a=eT.WEEKDAY_OFFSET[s];if(a===void 0)return null;let o=null,l=t.groups.prefix;l=="\u4E0A"?o="last":l=="\u4E0B"?o="next":l=="\u8FD9"&&(o="this");let c=BA.default(e.refDate),f=!1,p=c.day();return o=="last"||o=="past"?(c=c.day(a-7),f=!0):o=="next"?(c=c.day(a+7),f=!0):o=="this"?c=c.day(a):Math.abs(a-7-p)<Math.abs(a-p)?c=c.day(a-7):Math.abs(a+7-p)<Math.abs(a-p)?c=c.day(a+7):c=c.day(a),n.start.assign("weekday",a),f?(n.start.assign("day",c.date()),n.start.assign("month",c.month()+1),n.start.assign("year",c.year())):(n.start.imply("day",c.date()),n.start.imply("month",c.month()+1),n.start.imply("year",c.year())),n}};Pa.default=Qf});var rT=S(Aa=>{"use strict";var KA=Aa&&Aa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Aa,"__esModule",{value:!0});var ZA=KA(Re()),XA=Z(),wr=oi(),QA=new RegExp("(?:\u4ECE|\u81EA)?(?:(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(?:\u65E5|\u5929)(?:[\\s,\uFF0C]*)(?:(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?)?(?:[\\s,\uFF0C]*)(?:(\\d+|["+Object.keys(wr.NUMBER).join("")+"]+)(?:\\s*)(?:\u70B9|\u65F6|:|\uFF1A)(?:\\s*)(\\d+|\u534A|\u6B63|\u6574|["+Object.keys(wr.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uFF1A)?(?:\\s*)(\\d+|["+Object.keys(wr.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79D2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i"),JA=new RegExp("(?:^\\s*(?:\u5230|\u81F3|\\-|\\\u2013|\\~|\\\u301C)\\s*)(?:(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(\u65E9|\u671D|\u665A)|(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668))|(\u4ECA|\u660E|\u524D|\u5927\u524D|\u540E|\u5927\u540E|\u6628)(?:\u65E5|\u5929)(?:[\\s,\uFF0C]*)(?:(\u4E0A(?:\u5348)|\u65E9(?:\u4E0A)|\u4E0B(?:\u5348)|\u665A(?:\u4E0A)|\u591C(?:\u665A)?|\u4E2D(?:\u5348)|\u51CC(?:\u6668)))?)?(?:[\\s,\uFF0C]*)(?:(\\d+|["+Object.keys(wr.NUMBER).join("")+"]+)(?:\\s*)(?:\u70B9|\u65F6|:|\uFF1A)(?:\\s*)(\\d+|\u534A|\u6B63|\u6574|["+Object.keys(wr.NUMBER).join("")+"]+)?(?:\\s*)(?:\u5206|:|\uFF1A)?(?:\\s*)(\\d+|["+Object.keys(wr.NUMBER).join("")+"]+)?(?:\\s*)(?:\u79D2)?)(?:\\s*(A.M.|P.M.|AM?|PM?))?","i"),fu=1,hu=2,pu=3,mu=4,yu=5,gu=6,vr=7,ui=8,_u=9,Jf=class extends XA.AbstractParserWithWordBoundaryChecking{innerPattern(){return QA}innerExtract(e,t){if(t.index>0&&e.text[t.index-1].match(/\w/))return null;let n=ZA.default(e.refDate),s=e.createParsingResult(t.index,t[0]),a=n.clone();if(t[fu]){let p=t[fu];p=="\u660E"?n.hour()>1&&a.add(1,"day"):p=="\u6628"?a.add(-1,"day"):p=="\u524D"?a.add(-2,"day"):p=="\u5927\u524D"?a.add(-3,"day"):p=="\u540E"?a.add(2,"day"):p=="\u5927\u540E"&&a.add(3,"day"),s.start.assign("day",a.date()),s.start.assign("month",a.month()+1),s.start.assign("year",a.year())}else if(t[mu]){let p=t[mu];p=="\u660E"?a.add(1,"day"):p=="\u6628"?a.add(-1,"day"):p=="\u524D"?a.add(-2,"day"):p=="\u5927\u524D"?a.add(-3,"day"):p=="\u540E"?a.add(2,"day"):p=="\u5927\u540E"&&a.add(3,"day"),s.start.assign("day",a.date()),s.start.assign("month",a.month()+1),s.start.assign("year",a.year())}else s.start.imply("day",a.date()),s.start.imply("month",a.month()+1),s.start.imply("year",a.year());let o=0,l=0,c=-1;if(t[ui]){let p=parseInt(t[ui]);if(isNaN(p)&&(p=wr.zhStringToNumber(t[ui])),p>=60)return null;s.start.assign("second",p)}if(o=parseInt(t[gu]),isNaN(o)&&(o=wr.zhStringToNumber(t[gu])),t[vr]?t[vr]=="\u534A"?l=30:t[vr]=="\u6B63"||t[vr]=="\u6574"?l=0:(l=parseInt(t[vr]),isNaN(l)&&(l=wr.zhStringToNumber(t[vr]))):o>100&&(l=o%100,o=Math.floor(o/100)),l>=60||o>24)return null;if(o>=12&&(c=1),t[_u]){if(o>12)return null;let p=t[_u][0].toLowerCase();p=="a"&&(c=0,o==12&&(o=0)),p=="p"&&(c=1,o!=12&&(o+=12))}else if(t[hu]){let g=t[hu][0];g=="\u65E9"?(c=0,o==12&&(o=0)):g=="\u665A"&&(c=1,o!=12&&(o+=12))}else if(t[pu]){let g=t[pu][0];g=="\u4E0A"||g=="\u65E9"||g=="\u51CC"?(c=0,o==12&&(o=0)):(g=="\u4E0B"||g=="\u665A")&&(c=1,o!=12&&(o+=12))}else if(t[yu]){let g=t[yu][0];g=="\u4E0A"||g=="\u65E9"||g=="\u51CC"?(c=0,o==12&&(o=0)):(g=="\u4E0B"||g=="\u665A")&&(c=1,o!=12&&(o+=12))}if(s.start.assign("hour",o),s.start.assign("minute",l),c>=0?s.start.assign("meridiem",c):o<12?s.start.imply("meridiem",0):s.start.imply("meridiem",1),t=JA.exec(e.text.substring(s.index+s.text.length)),!t)return s.text.match(/^\d+$/)?null:s;let f=a.clone();if(s.end=e.createParsingComponents(),t[fu]){let p=t[fu];p=="\u660E"?n.hour()>1&&f.add(1,"day"):p=="\u6628"?f.add(-1,"day"):p=="\u524D"?f.add(-2,"day"):p=="\u5927\u524D"?f.add(-3,"day"):p=="\u540E"?f.add(2,"day"):p=="\u5927\u540E"&&f.add(3,"day"),s.end.assign("day",f.date()),s.end.assign("month",f.month()+1),s.end.assign("year",f.year())}else if(t[mu]){let p=t[mu];p=="\u660E"?f.add(1,"day"):p=="\u6628"?f.add(-1,"day"):p=="\u524D"?f.add(-2,"day"):p=="\u5927\u524D"?f.add(-3,"day"):p=="\u540E"?f.add(2,"day"):p=="\u5927\u540E"&&f.add(3,"day"),s.end.assign("day",f.date()),s.end.assign("month",f.month()+1),s.end.assign("year",f.year())}else s.end.imply("day",f.date()),s.end.imply("month",f.month()+1),s.end.imply("year",f.year());if(o=0,l=0,c=-1,t[ui]){let p=parseInt(t[ui]);if(isNaN(p)&&(p=wr.zhStringToNumber(t[ui])),p>=60)return null;s.end.assign("second",p)}if(o=parseInt(t[gu]),isNaN(o)&&(o=wr.zhStringToNumber(t[gu])),t[vr]?t[vr]=="\u534A"?l=30:t[vr]=="\u6B63"||t[vr]=="\u6574"?l=0:(l=parseInt(t[vr]),isNaN(l)&&(l=wr.zhStringToNumber(t[vr]))):o>100&&(l=o%100,o=Math.floor(o/100)),l>=60||o>24)return null;if(o>=12&&(c=1),t[_u]){if(o>12)return null;let p=t[_u][0].toLowerCase();p=="a"&&(c=0,o==12&&(o=0)),p=="p"&&(c=1,o!=12&&(o+=12)),s.start.isCertain("meridiem")||(c==0?(s.start.imply("meridiem",0),s.start.get("hour")==12&&s.start.assign("hour",0)):(s.start.imply("meridiem",1),s.start.get("hour")!=12&&s.start.assign("hour",s.start.get("hour")+12)))}else if(t[hu]){let g=t[hu][0];g=="\u65E9"?(c=0,o==12&&(o=0)):g=="\u665A"&&(c=1,o!=12&&(o+=12))}else if(t[pu]){let g=t[pu][0];g=="\u4E0A"||g=="\u65E9"||g=="\u51CC"?(c=0,o==12&&(o=0)):(g=="\u4E0B"||g=="\u665A")&&(c=1,o!=12&&(o+=12))}else if(t[yu]){let g=t[yu][0];g=="\u4E0A"||g=="\u65E9"||g=="\u51CC"?(c=0,o==12&&(o=0)):(g=="\u4E0B"||g=="\u665A")&&(c=1,o!=12&&(o+=12))}return s.text=s.text+t[0],s.end.assign("hour",o),s.end.assign("minute",l),c>=0?s.end.assign("meridiem",c):s.start.isCertain("meridiem")&&s.start.get("meridiem")==1&&s.start.get("hour")>o?s.end.imply("meridiem",0):o>12&&s.end.imply("meridiem",1),s.end.date().getTime()<s.start.date().getTime()&&s.end.imply("day",s.end.get("day")+1),s}};Aa.default=Jf});var sT=S(Na=>{"use strict";var eN=Na&&Na.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Na,"__esModule",{value:!0});var tN=eN(Re()),rN=Z(),nT=oi(),nN=new RegExp("(?:\u661F\u671F|\u793C\u62DC|\u5468)(?<weekday>"+Object.keys(nT.WEEKDAY_OFFSET).join("|")+")"),eh=class extends rN.AbstractParserWithWordBoundaryChecking{innerPattern(){return nN}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=t.groups.weekday,a=nT.WEEKDAY_OFFSET[s];if(a===void 0)return null;let o=tN.default(e.refDate),l=!1,c=o.day();return Math.abs(a-7-c)<Math.abs(a-c)?o=o.day(a-7):Math.abs(a+7-c)<Math.abs(a-c)?o=o.day(a+7):o=o.day(a),n.start.assign("weekday",a),l?(n.start.assign("day",o.date()),n.start.assign("month",o.month()+1),n.start.assign("year",o.year())):(n.start.imply("day",o.date()),n.start.imply("month",o.month()+1),n.start.imply("year",o.year())),n}};Na.default=eh});var iT=S(Ca=>{"use strict";var sN=Ca&&Ca.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ca,"__esModule",{value:!0});var iN=sN(jr()),th=class extends iN.default{patternBetween(){return/^\s*(至|到|-|~|～|－|ー)\s*$/i}};Ca.default=th});var aT=S(Ia=>{"use strict";var aN=Ia&&Ia.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ia,"__esModule",{value:!0});var oN=aN(on()),rh=class extends oN.default{patternBetween(){return/^\s*$/i}};Ia.default=rh});var oT=S(lt=>{"use strict";var pn=lt&&lt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(lt,"__esModule",{value:!0});lt.createConfiguration=lt.createCasualConfiguration=lt.parseDate=lt.parse=lt.strict=lt.casual=lt.hans=void 0;var nh=xr(),uN=pn(qo()),lN=un(),cN=pn(K_()),dN=pn(X_()),fN=pn(J_()),hN=pn(tT()),pN=pn(rT()),mN=pn(sT()),yN=pn(iT()),gN=pn(aT());lt.hans=new nh.Chrono(sh());lt.casual=new nh.Chrono(sh());lt.strict=new nh.Chrono(ih());function _N(r,e,t){return lt.casual.parse(r,e,t)}lt.parse=_N;function TN(r,e,t){return lt.casual.parseDate(r,e,t)}lt.parseDate=TN;function sh(){let r=ih();return r.parsers.unshift(new cN.default),r}lt.createCasualConfiguration=sh;function ih(){let r=lN.includeCommonConfiguration({parsers:[new dN.default,new hN.default,new mN.default,new pN.default,new fN.default],refiners:[new yN.default,new gN.default]});return r.refiners=r.refiners.filter(e=>!(e instanceof uN.default)),r}lt.createConfiguration=ih});var lT=S(nr=>{"use strict";var uT=nr&&nr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),bN=nr&&nr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),vN=nr&&nr.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&uT(e,r,t)},wN=nr&&nr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&uT(e,r,t);return bN(e,r),e};Object.defineProperty(nr,"__esModule",{value:!0});nr.hans=void 0;vN(H_(),nr);nr.hans=wN(oT())});var Zt=S(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.parseTimeUnits=fe.TIME_UNITS_PATTERN=fe.parseYear=fe.YEAR_PATTERN=fe.parseOrdinalNumberPattern=fe.ORDINAL_NUMBER_PATTERN=fe.parseNumberPattern=fe.NUMBER_PATTERN=fe.TIME_UNIT_DICTIONARY=fe.ORDINAL_WORD_DICTIONARY=fe.INTEGER_WORD_DICTIONARY=fe.MONTH_DICTIONARY=fe.FULL_MONTH_NAME_DICTIONARY=fe.WEEKDAY_DICTIONARY=fe.REGEX_PARTS=void 0;var Tu=Ie(),kN=Pt();fe.REGEX_PARTS={leftBoundary:"([^\\p{L}\\p{N}_]|^)",rightBoundary:"(?=[^\\p{L}\\p{N}_]|$)",flags:"iu"};fe.WEEKDAY_DICTIONARY={\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435:0,\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u044F:0,\u0432\u0441\u043A:0,"\u0432\u0441\u043A.":0,\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A:1,\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A\u0430:1,\u043F\u043D:1,"\u043F\u043D.":1,\u0432\u0442\u043E\u0440\u043D\u0438\u043A:2,\u0432\u0442\u043E\u0440\u043D\u0438\u043A\u0430:2,\u0432\u0442:2,"\u0432\u0442.":2,\u0441\u0440\u0435\u0434\u0430:3,\u0441\u0440\u0435\u0434\u044B:3,\u0441\u0440\u0435\u0434\u0443:3,\u0441\u0440:3,"\u0441\u0440.":3,\u0447\u0435\u0442\u0432\u0435\u0440\u0433:4,\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430:4,\u0447\u0442:4,"\u0447\u0442.":4,\u043F\u044F\u0442\u043D\u0438\u0446\u0430:5,\u043F\u044F\u0442\u043D\u0438\u0446\u0443:5,\u043F\u044F\u0442\u043D\u0438\u0446\u044B:5,\u043F\u0442:5,"\u043F\u0442.":5,\u0441\u0443\u0431\u0431\u043E\u0442\u0430:6,\u0441\u0443\u0431\u0431\u043E\u0442\u0443:6,\u0441\u0443\u0431\u0431\u043E\u0442\u044B:6,\u0441\u0431:6,"\u0441\u0431.":6};fe.FULL_MONTH_NAME_DICTIONARY={\u044F\u043D\u0432\u0430\u0440\u044C:1,\u044F\u043D\u0432\u0430\u0440\u044F:1,\u044F\u043D\u0432\u0430\u0440\u0435:1,\u0444\u0435\u0432\u0440\u044F\u043B\u044C:2,\u0444\u0435\u0432\u0440\u044F\u043B\u044F:2,\u0444\u0435\u0432\u0440\u044F\u043B\u0435:2,\u043C\u0430\u0440\u0442:3,\u043C\u0430\u0440\u0442\u0430:3,\u043C\u0430\u0440\u0442\u0435:3,\u0430\u043F\u0440\u0435\u043B\u044C:4,\u0430\u043F\u0440\u0435\u043B\u044F:4,\u0430\u043F\u0440\u0435\u043B\u0435:4,\u043C\u0430\u0439:5,\u043C\u0430\u044F:5,\u043C\u0430\u0435:5,\u0438\u044E\u043D\u044C:6,\u0438\u044E\u043D\u044F:6,\u0438\u044E\u043D\u0435:6,\u0438\u044E\u043B\u044C:7,\u0438\u044E\u043B\u044F:7,\u0438\u044E\u043B\u0435:7,\u0430\u0432\u0433\u0443\u0441\u0442:8,\u0430\u0432\u0433\u0443\u0441\u0442\u0430:8,\u0430\u0432\u0433\u0443\u0441\u0442\u0435:8,\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044C:9,\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u044F:9,\u0441\u0435\u043D\u0442\u044F\u0431\u0440\u0435:9,\u043E\u043A\u0442\u044F\u0431\u0440\u044C:10,\u043E\u043A\u0442\u044F\u0431\u0440\u044F:10,\u043E\u043A\u0442\u044F\u0431\u0440\u0435:10,\u043D\u043E\u044F\u0431\u0440\u044C:11,\u043D\u043E\u044F\u0431\u0440\u044F:11,\u043D\u043E\u044F\u0431\u0440\u0435:11,\u0434\u0435\u043A\u0430\u0431\u0440\u044C:12,\u0434\u0435\u043A\u0430\u0431\u0440\u044F:12,\u0434\u0435\u043A\u0430\u0431\u0440\u0435:12};fe.MONTH_DICTIONARY=Object.assign(Object.assign({},fe.FULL_MONTH_NAME_DICTIONARY),{\u044F\u043D\u0432:1,"\u044F\u043D\u0432.":1,\u0444\u0435\u0432:2,"\u0444\u0435\u0432.":2,\u043C\u0430\u0440:3,"\u043C\u0430\u0440.":3,\u0430\u043F\u0440:4,"\u0430\u043F\u0440.":4,\u0430\u0432\u0433:8,"\u0430\u0432\u0433.":8,\u0441\u0435\u043D:9,"\u0441\u0435\u043D.":9,\u043E\u043A\u0442:10,"\u043E\u043A\u0442.":10,\u043D\u043E\u044F:11,"\u043D\u043E\u044F.":11,\u0434\u0435\u043A:12,"\u0434\u0435\u043A.":12});fe.INTEGER_WORD_DICTIONARY={\u043E\u0434\u0438\u043D:1,\u043E\u0434\u043D\u0430:1,\u043E\u0434\u043D\u043E\u0439:1,\u043E\u0434\u043D\u0443:1,\u0434\u0432\u0435:2,\u0434\u0432\u0430:2,\u0434\u0432\u0443\u0445:2,\u0442\u0440\u0438:3,\u0442\u0440\u0435\u0445:3,\u0442\u0440\u0451\u0445:3,\u0447\u0435\u0442\u044B\u0440\u0435:4,\u0447\u0435\u0442\u044B\u0440\u0435\u0445:4,\u0447\u0435\u0442\u044B\u0440\u0451\u0445:4,\u043F\u044F\u0442\u044C:5,\u043F\u044F\u0442\u0438:5,\u0448\u0435\u0441\u0442\u044C:6,\u0448\u0435\u0441\u0442\u0438:6,\u0441\u0435\u043C\u044C:7,\u0441\u0435\u043C\u0438:7,\u0432\u043E\u0441\u0435\u043C\u044C:8,\u0432\u043E\u0441\u0435\u043C\u044C\u043C\u0438:8,\u0434\u0435\u0432\u044F\u0442\u044C:9,\u0434\u0435\u0432\u044F\u0442\u0438:9,\u0434\u0435\u0441\u044F\u0442\u044C:10,\u0434\u0435\u0441\u044F\u0442\u0438:10,\u043E\u0434\u0438\u043D\u043D\u0430\u0434\u0446\u0430\u0442\u044C:11,\u043E\u0434\u0438\u043D\u043D\u0430\u0434\u0446\u0430\u0442\u0438:11,\u0434\u0432\u0435\u043D\u0430\u0434\u0446\u0430\u0442\u044C:12,\u0434\u0432\u0435\u043D\u0430\u0434\u0446\u0430\u0442\u0438:12};fe.ORDINAL_WORD_DICTIONARY={\u043F\u0435\u0440\u0432\u043E\u0435:1,\u043F\u0435\u0440\u0432\u043E\u0433\u043E:1,\u0432\u0442\u043E\u0440\u043E\u0435:2,\u0432\u0442\u043E\u0440\u043E\u0433\u043E:2,\u0442\u0440\u0435\u0442\u044C\u0435:3,\u0442\u0440\u0435\u0442\u044C\u0435\u0433\u043E:3,\u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043E\u0435:4,\u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043E\u0433\u043E:4,\u043F\u044F\u0442\u043E\u0435:5,\u043F\u044F\u0442\u043E\u0433\u043E:5,\u0448\u0435\u0441\u0442\u043E\u0435:6,\u0448\u0435\u0441\u0442\u043E\u0433\u043E:6,\u0441\u0435\u0434\u044C\u043C\u043E\u0435:7,\u0441\u0435\u0434\u044C\u043C\u043E\u0433\u043E:7,\u0432\u043E\u0441\u044C\u043C\u043E\u0435:8,\u0432\u043E\u0441\u044C\u043C\u043E\u0433\u043E:8,\u0434\u0435\u0432\u044F\u0442\u043E\u0435:9,\u0434\u0435\u0432\u044F\u0442\u043E\u0433\u043E:9,\u0434\u0435\u0441\u044F\u0442\u043E\u0435:10,\u0434\u0435\u0441\u044F\u0442\u043E\u0433\u043E:10,\u043E\u0434\u0438\u043D\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:11,\u043E\u0434\u0438\u043D\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:11,\u0434\u0432\u0435\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:12,\u0434\u0432\u0435\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:12,\u0442\u0440\u0438\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:13,\u0442\u0440\u0438\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:13,\u0447\u0435\u0442\u044B\u0440\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:14,\u0447\u0435\u0442\u044B\u0440\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:14,\u043F\u044F\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:15,\u043F\u044F\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:15,\u0448\u0435\u0441\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:16,\u0448\u0435\u0441\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:16,\u0441\u0435\u043C\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:17,\u0441\u0435\u043C\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:17,\u0432\u043E\u0441\u0435\u043C\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:18,\u0432\u043E\u0441\u0435\u043C\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:18,\u0434\u0435\u0432\u044F\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0435:19,\u0434\u0435\u0432\u044F\u0442\u043D\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:19,\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u043E\u0435:20,\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u043E\u0433\u043E:20,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u043E\u0435":21,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u043E\u0433\u043E":21,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0432\u0442\u043E\u0440\u043E\u0435":22,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0432\u0442\u043E\u0440\u043E\u0433\u043E":22,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0442\u0440\u0435\u0442\u044C\u0435":23,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0442\u0440\u0435\u0442\u044C\u0435\u0433\u043E":23,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043E\u0435":24,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0447\u0435\u0442\u0432\u0435\u0440\u0442\u043E\u0433\u043E":24,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u043F\u044F\u0442\u043E\u0435":25,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u043F\u044F\u0442\u043E\u0433\u043E":25,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0448\u0435\u0441\u0442\u043E\u0435":26,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0448\u0435\u0441\u0442\u043E\u0433\u043E":26,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0441\u0435\u0434\u044C\u043C\u043E\u0435":27,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0441\u0435\u0434\u044C\u043C\u043E\u0433\u043E":27,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0432\u043E\u0441\u044C\u043C\u043E\u0435":28,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0432\u043E\u0441\u044C\u043C\u043E\u0433\u043E":28,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0434\u0435\u0432\u044F\u0442\u043E\u0435":29,"\u0434\u0432\u0430\u0434\u0446\u0430\u0442\u044C \u0434\u0435\u0432\u044F\u0442\u043E\u0433\u043E":29,\u0442\u0440\u0438\u0434\u0446\u0430\u0442\u043E\u0435:30,\u0442\u0440\u0438\u0434\u0446\u0430\u0442\u043E\u0433\u043E:30,"\u0442\u0440\u0438\u0434\u0446\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u043E\u0435":31,"\u0442\u0440\u0438\u0434\u0446\u0430\u0442\u044C \u043F\u0435\u0440\u0432\u043E\u0433\u043E":31};fe.TIME_UNIT_DICTIONARY={\u0441\u0435\u043A:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u0430:"second",\u0441\u0435\u043A\u0443\u043D\u0434:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u044B:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u0443:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u043E\u0447\u043A\u0430:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u043E\u0447\u043A\u0438:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u043E\u0447\u0435\u043A:"second",\u0441\u0435\u043A\u0443\u043D\u0434\u043E\u0447\u043A\u0443:"second",\u043C\u0438\u043D:"minute",\u043C\u0438\u043D\u0443\u0442\u0430:"minute",\u043C\u0438\u043D\u0443\u0442:"minute",\u043C\u0438\u043D\u0443\u0442\u044B:"minute",\u043C\u0438\u043D\u0443\u0442\u0443:"minute",\u043C\u0438\u043D\u0443\u0442\u043E\u043A:"minute",\u043C\u0438\u043D\u0443\u0442\u043A\u0438:"minute",\u043C\u0438\u043D\u0443\u0442\u043A\u0443:"minute",\u0447\u0430\u0441:"hour",\u0447\u0430\u0441\u043E\u0432:"hour",\u0447\u0430\u0441\u0430:"hour",\u0447\u0430\u0441\u0443:"hour",\u0447\u0430\u0441\u0438\u043A\u043E\u0432:"hour",\u0447\u0430\u0441\u0438\u043A\u0430:"hour",\u0447\u0430\u0441\u0438\u043A\u0435:"hour",\u0447\u0430\u0441\u0438\u043A:"hour",\u0434\u0435\u043D\u044C:"d",\u0434\u043D\u044F:"d",\u0434\u043D\u0435\u0439:"d",\u0441\u0443\u0442\u043E\u043A:"d",\u0441\u0443\u0442\u043A\u0438:"d",\u043D\u0435\u0434\u0435\u043B\u044F:"week",\u043D\u0435\u0434\u0435\u043B\u0435:"week",\u043D\u0435\u0434\u0435\u043B\u0438:"week",\u043D\u0435\u0434\u0435\u043B\u044E:"week",\u043D\u0435\u0434\u0435\u043B\u044C:"week",\u043D\u0435\u0434\u0435\u043B\u044C\u043A\u0435:"week",\u043D\u0435\u0434\u0435\u043B\u044C\u043A\u0438:"week",\u043D\u0435\u0434\u0435\u043B\u0435\u043A:"week",\u043C\u0435\u0441\u044F\u0446:"month",\u043C\u0435\u0441\u044F\u0446\u0435:"month",\u043C\u0435\u0441\u044F\u0446\u0435\u0432:"month",\u043C\u0435\u0441\u044F\u0446\u0430:"month",\u043A\u0432\u0430\u0440\u0442\u0430\u043B:"quarter",\u043A\u0432\u0430\u0440\u0442\u0430\u043B\u0435:"quarter",\u043A\u0432\u0430\u0440\u0442\u0430\u043B\u043E\u0432:"quarter",\u0433\u043E\u0434:"year",\u0433\u043E\u0434\u0430:"year",\u0433\u043E\u0434\u0443:"year",\u0433\u043E\u0434\u043E\u0432:"year",\u043B\u0435\u0442:"year",\u0433\u043E\u0434\u0438\u043A:"year",\u0433\u043E\u0434\u0438\u043A\u0430:"year",\u0433\u043E\u0434\u0438\u043A\u043E\u0432:"year"};fe.NUMBER_PATTERN=`(?:${Tu.matchAnyPattern(fe.INTEGER_WORD_DICTIONARY)}|[0-9]+|[0-9]+\\.[0-9]+|\u043F\u043E\u043B|\u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E|\u043F\u0430\u0440(?:\u044B|\u0443)|\\s{0,3})`;function dT(r){let e=r.toLowerCase();return fe.INTEGER_WORD_DICTIONARY[e]!==void 0?fe.INTEGER_WORD_DICTIONARY[e]:e.match(/несколько/)?3:e.match(/пол/)?.5:e.match(/пар/)?2:e===""?1:parseFloat(e)}fe.parseNumberPattern=dT;fe.ORDINAL_NUMBER_PATTERN=`(?:${Tu.matchAnyPattern(fe.ORDINAL_WORD_DICTIONARY)}|[0-9]{1,2}(?:\u0433\u043E|\u043E\u0433\u043E|\u0435|\u043E\u0435)?)`;function EN(r){let e=r.toLowerCase();return fe.ORDINAL_WORD_DICTIONARY[e]!==void 0?fe.ORDINAL_WORD_DICTIONARY[e]:(e=e.replace(/(?:st|nd|rd|th)$/i,""),parseInt(e))}fe.parseOrdinalNumberPattern=EN;var ah="(?:\\s+(?:\u0433\u043E\u0434\u0443|\u0433\u043E\u0434\u0430|\u0433\u043E\u0434|\u0433|\u0433.))?";fe.YEAR_PATTERN=`(?:[1-9][0-9]{0,3}${ah}\\s*(?:\u043D.\u044D.|\u0434\u043E \u043D.\u044D.|\u043D. \u044D.|\u0434\u043E \u043D. \u044D.)|[1-2][0-9]{3}${ah}|[5-9][0-9]${ah})`;function DN(r){if(/(год|года|г|г.)/i.test(r)&&(r=r.replace(/(год|года|г|г.)/i,"")),/(до н.э.|до н. э.)/i.test(r))return r=r.replace(/(до н.э.|до н. э.)/i,""),-parseInt(r);if(/(н. э.|н.э.)/i.test(r))return r=r.replace(/(н. э.|н.э.)/i,""),parseInt(r);let e=parseInt(r);return kN.findMostLikelyADYear(e)}fe.parseYear=DN;var fT=`(${fe.NUMBER_PATTERN})\\s{0,3}(${Tu.matchAnyPattern(fe.TIME_UNIT_DICTIONARY)})`,cT=new RegExp(fT,"i");fe.TIME_UNITS_PATTERN=Tu.repeatedTimeunitPattern("(?:(?:\u043E\u043A\u043E\u043B\u043E|\u043F\u0440\u0438\u043C\u0435\u0440\u043D\u043E)\\s{0,3})?",fT);function SN(r){let e={},t=r,n=cT.exec(t);for(;n;)ON(e,n),t=t.substring(n[0].length).trim(),n=cT.exec(t);return e}fe.parseTimeUnits=SN;function ON(r,e){let t=dT(e[1]),n=fe.TIME_UNIT_DICTIONARY[e[2].toLowerCase()];r[n]=t}});var pT=S(uh=>{"use strict";Object.defineProperty(uh,"__esModule",{value:!0});var Fa=Zt(),MN=rt(),RN=Z(),hT=`(?:(?:\u043E\u043A\u043E\u043B\u043E|\u043F\u0440\u0438\u043C\u0435\u0440\u043D\u043E)\\s*(?:~\\s*)?)?(${Fa.TIME_UNITS_PATTERN})${Fa.REGEX_PARTS.rightBoundary}`,xN=new RegExp(`(?:\u0432 \u0442\u0435\u0447\u0435\u043D\u0438\u0435|\u0432 \u0442\u0435\u0447\u0435\u043D\u0438\u0438)\\s*${hT}`,Fa.REGEX_PARTS.flags),PN=new RegExp(hT,"i"),oh=class extends RN.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Fa.REGEX_PARTS.leftBoundary}innerPattern(e){return e.option.forwardDate?PN:xN}innerExtract(e,t){let n=Fa.parseTimeUnits(t[1]);return MN.ParsingComponents.createRelativeFromReference(e.reference,n)}};uh.default=oh});var TT=S(ch=>{"use strict";Object.defineProperty(ch,"__esModule",{value:!0});var AN=Pt(),La=Zt(),_T=Zt(),bu=Zt(),NN=Ie(),CN=Z(),IN=new RegExp(`(?:\u0441)?\\s*(${bu.ORDINAL_NUMBER_PATTERN})(?:\\s{0,3}(?:\u043F\u043E|-|\u2013|\u0434\u043E)?\\s{0,3}(${bu.ORDINAL_NUMBER_PATTERN}))?(?:-|\\/|\\s{0,3}(?:of)?\\s{0,3})(${NN.matchAnyPattern(La.MONTH_DICTIONARY)})(?:(?:-|\\/|,?\\s{0,3})(${_T.YEAR_PATTERN}(?![^\\s]\\d)))?${La.REGEX_PARTS.rightBoundary}`,La.REGEX_PARTS.flags),mT=1,yT=2,FN=3,gT=4,lh=class extends CN.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return La.REGEX_PARTS.leftBoundary}innerPattern(){return IN}innerExtract(e,t){let n=e.createParsingResult(t.index,t[0]),s=La.MONTH_DICTIONARY[t[FN].toLowerCase()],a=bu.parseOrdinalNumberPattern(t[mT]);if(a>31)return t.index=t.index+t[mT].length,null;if(n.start.assign("month",s),n.start.assign("day",a),t[gT]){let o=_T.parseYear(t[gT]);n.start.assign("year",o)}else{let o=AN.findYearClosestToRef(e.refDate,a,s);n.start.imply("year",o)}if(t[yT]){let o=bu.parseOrdinalNumberPattern(t[yT]);n.end=n.start.clone(),n.end.assign("day",o)}return n}};ch.default=lh});var wT=S(fh=>{"use strict";Object.defineProperty(fh,"__esModule",{value:!0});var Ya=Zt(),LN=Pt(),YN=Ie(),vT=Zt(),UN=Z(),WN=new RegExp(`((?:\u0432)\\s*)?(${YN.matchAnyPattern(Ya.MONTH_DICTIONARY)})\\s*(?:[,-]?\\s*(${vT.YEAR_PATTERN})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,Ya.REGEX_PARTS.flags),qN=2,bT=3,dh=class extends UN.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Ya.REGEX_PARTS.leftBoundary}innerPattern(){return WN}innerExtract(e,t){let n=t[qN].toLowerCase();if(t[0].length<=3&&!Ya.FULL_MONTH_NAME_DICTIONARY[n])return null;let s=e.createParsingResult(t.index,t.index+t[0].length);s.start.imply("day",1);let a=Ya.MONTH_DICTIONARY[n];if(s.start.assign("month",a),t[bT]){let o=vT.parseYear(t[bT]);s.start.assign("year",o)}else{let o=LN.findYearClosestToRef(e.refDate,1,a);s.start.imply("year",o)}return s}};fh.default=dh});var ET=S(ph=>{"use strict";Object.defineProperty(ph,"__esModule",{value:!0});var vu=mt(),jN=ls(),kT=Zt(),hh=class extends jN.AbstractTimeExpressionParser{constructor(e){super(e)}patternFlags(){return kT.REGEX_PARTS.flags}primaryPatternLeftBoundary(){return"(^|\\s|T|(?:[^\\p{L}\\p{N}_]))"}followingPhase(){return"\\s*(?:\\-|\\\u2013|\\~|\\\u301C|\u0434\u043E|\u0438|\u043F\u043E|\\?)\\s*"}primaryPrefix(){return"(?:(?:\u0432|\u0441)\\s*)??"}primarySuffix(){return`(?:\\s*(?:\u0443\u0442\u0440\u0430|\u0432\u0435\u0447\u0435\u0440\u0430|\u043F\u043E\u0441\u043B\u0435 \u043F\u043E\u043B\u0443\u0434\u043D\u044F))?(?!\\/)${kT.REGEX_PARTS.rightBoundary}`}extractPrimaryTimeComponents(e,t){let n=super.extractPrimaryTimeComponents(e,t);if(n){if(t[0].endsWith("\u0432\u0435\u0447\u0435\u0440\u0430")){let s=n.get("hour");s>=6&&s<12?(n.assign("hour",n.get("hour")+12),n.assign("meridiem",vu.Meridiem.PM)):s<6&&n.assign("meridiem",vu.Meridiem.AM)}if(t[0].endsWith("\u043F\u043E\u0441\u043B\u0435 \u043F\u043E\u043B\u0443\u0434\u043D\u044F")){n.assign("meridiem",vu.Meridiem.PM);let s=n.get("hour");s>=0&&s<=6&&n.assign("hour",n.get("hour")+12)}t[0].endsWith("\u0443\u0442\u0440\u0430")&&(n.assign("meridiem",vu.Meridiem.AM),n.get("hour")<12&&n.assign("hour",n.get("hour")))}return n}};ph.default=hh});var DT=S(yh=>{"use strict";Object.defineProperty(yh,"__esModule",{value:!0});var wu=Zt(),$N=rt(),GN=Z(),HN=gr(),BN=new RegExp(`(${wu.TIME_UNITS_PATTERN})\\s{0,5}\u043D\u0430\u0437\u0430\u0434(?=(?:\\W|$))`,wu.REGEX_PARTS.flags),mh=class extends GN.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return wu.REGEX_PARTS.leftBoundary}innerPattern(){return BN}innerExtract(e,t){let n=wu.parseTimeUnits(t[1]),s=HN.reverseTimeUnits(n);return $N.ParsingComponents.createRelativeFromReference(e.reference,s)}};yh.default=mh});var ST=S(Ua=>{"use strict";var zN=Ua&&Ua.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ua,"__esModule",{value:!0});var VN=zN(jr()),gh=class extends VN.default{patternBetween(){return/^\s*(и до|и по|до|по|-)\s*$/i}};Ua.default=gh});var OT=S(Wa=>{"use strict";var KN=Wa&&Wa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Wa,"__esModule",{value:!0});var ZN=KN(on()),_h=class extends ZN.default{patternBetween(){return new RegExp("^\\s*(T|\u0432|,|-)?\\s*$")}};Wa.default=_h});var MT=S(mn=>{"use strict";var XN=mn&&mn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),QN=mn&&mn.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),JN=mn&&mn.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&XN(e,r,t);return QN(e,r),e};Object.defineProperty(mn,"__esModule",{value:!0});var eC=Z(),qa=JN(cn()),Th=Zt(),tC=new RegExp(`(?:\u0441|\u0441\u043E)?\\s*(\u0441\u0435\u0433\u043E\u0434\u043D\u044F|\u0432\u0447\u0435\u0440\u0430|\u0437\u0430\u0432\u0442\u0440\u0430|\u043F\u043E\u0441\u043B\u0435\u0437\u0430\u0432\u0442\u0440\u0430|\u043F\u043E\u0437\u0430\u0432\u0447\u0435\u0440\u0430)${Th.REGEX_PARTS.rightBoundary}`,Th.REGEX_PARTS.flags),bh=class extends eC.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Th.REGEX_PARTS.leftBoundary}innerPattern(e){return tC}innerExtract(e,t){let n=t[1].toLowerCase(),s=e.createParsingComponents();switch(n){case"\u0441\u0435\u0433\u043E\u0434\u043D\u044F":return qa.today(e.reference);case"\u0432\u0447\u0435\u0440\u0430":return qa.yesterday(e.reference);case"\u0437\u0430\u0432\u0442\u0440\u0430":return qa.tomorrow(e.reference);case"\u043F\u043E\u0441\u043B\u0435\u0437\u0430\u0432\u0442\u0440\u0430":return qa.theDayAfter(e.reference,2);case"\u043F\u043E\u0437\u0430\u0432\u0447\u0435\u0440\u0430":return qa.theDayBefore(e.reference,2)}return s}};mn.default=bh});var RT=S(Ir=>{"use strict";var rC=Ir&&Ir.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),nC=Ir&&Ir.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),sC=Ir&&Ir.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&rC(e,r,t);return nC(e,r),e},iC=Ir&&Ir.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ir,"__esModule",{value:!0});var aC=Z(),gs=sC(cn()),oC=yr(),uC=iC(Re()),vh=Zt(),lC=new RegExp(`(\u0441\u0435\u0439\u0447\u0430\u0441|\u043F\u0440\u043E\u0448\u043B\u044B\u043C\\s*\u0432\u0435\u0447\u0435\u0440\u043E\u043C|\u043F\u0440\u043E\u0448\u043B\u043E\u0439\\s*\u043D\u043E\u0447\u044C\u044E|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439\\s*\u043D\u043E\u0447\u044C\u044E|\u0441\u0435\u0433\u043E\u0434\u043D\u044F\\s*\u043D\u043E\u0447\u044C\u044E|\u044D\u0442\u043E\u0439\\s*\u043D\u043E\u0447\u044C\u044E|\u043D\u043E\u0447\u044C\u044E|\u044D\u0442\u0438\u043C \u0443\u0442\u0440\u043E\u043C|\u0443\u0442\u0440\u043E\u043C|\u0443\u0442\u0440\u0430|\u0432\\s*\u043F\u043E\u043B\u0434\u0435\u043D\u044C|\u0432\u0435\u0447\u0435\u0440\u043E\u043C|\u0432\u0435\u0447\u0435\u0440\u0430|\u0432\\s*\u043F\u043E\u043B\u043D\u043E\u0447\u044C)${vh.REGEX_PARTS.rightBoundary}`,vh.REGEX_PARTS.flags),wh=class extends aC.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return vh.REGEX_PARTS.leftBoundary}innerPattern(){return lC}innerExtract(e,t){let n=uC.default(e.refDate),s=t[0].toLowerCase(),a=e.createParsingComponents();if(s==="\u0441\u0435\u0439\u0447\u0430\u0441")return gs.now(e.reference);if(s==="\u0432\u0435\u0447\u0435\u0440\u043E\u043C"||s==="\u0432\u0435\u0447\u0435\u0440\u0430")return gs.evening(e.reference);if(s.endsWith("\u0443\u0442\u0440\u043E\u043C")||s.endsWith("\u0443\u0442\u0440\u0430"))return gs.morning(e.reference);if(s.match(/в\s*полдень/))return gs.noon(e.reference);if(s.match(/прошлой\s*ночью/))return gs.lastNight(e.reference);if(s.match(/прошлым\s*вечером/))return gs.yesterdayEvening(e.reference);if(s.match(/следующей\s*ночью/)){let o=n.hour()<22?1:2;n=n.add(o,"day"),oC.assignSimilarDate(a,n),a.imply("hour",0)}return s.match(/в\s*полночь/)||s.endsWith("\u043D\u043E\u0447\u044C\u044E")?gs.midnight(e.reference):a}};Ir.default=wh});var xT=S(Eh=>{"use strict";Object.defineProperty(Eh,"__esModule",{value:!0});var ja=Zt(),cC=Ie(),dC=Z(),fC=ds(),hC=new RegExp(`(?:(?:,|\\(|\uFF08)\\s*)?(?:\u0432\\s*?)?(?:(\u044D\u0442\u0443|\u044D\u0442\u043E\u0442|\u043F\u0440\u043E\u0448\u043B\u044B\u0439|\u043F\u0440\u043E\u0448\u043B\u0443\u044E|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0439|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0443\u044E|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0433\u043E)\\s*)?(${cC.matchAnyPattern(ja.WEEKDAY_DICTIONARY)})(?:\\s*(?:,|\\)|\uFF09))?(?:\\s*\u043D\u0430\\s*(\u044D\u0442\u043E\u0439|\u043F\u0440\u043E\u0448\u043B\u043E\u0439|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439)\\s*\u043D\u0435\u0434\u0435\u043B\u0435)?${ja.REGEX_PARTS.rightBoundary}`,ja.REGEX_PARTS.flags),pC=1,mC=2,yC=3,kh=class extends dC.AbstractParserWithWordBoundaryChecking{innerPattern(){return hC}patternLeftBoundary(){return ja.REGEX_PARTS.leftBoundary}innerExtract(e,t){let n=t[mC].toLowerCase(),s=ja.WEEKDAY_DICTIONARY[n],a=t[pC],o=t[yC],l=a||o;l=l||"",l=l.toLowerCase();let c=null;l=="\u043F\u0440\u043E\u0448\u043B\u044B\u0439"||l=="\u043F\u0440\u043E\u0448\u043B\u0443\u044E"||l=="\u043F\u0440\u043E\u0448\u043B\u043E\u0439"?c="last":l=="\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0439"||l=="\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0443\u044E"||l=="\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439"||l=="\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0433\u043E"?c="next":(l=="\u044D\u0442\u043E\u0442"||l=="\u044D\u0442\u0443"||l=="\u044D\u0442\u043E\u0439")&&(c="this");let f=fC.toDayJSWeekday(e.refDate,s,c);return e.createParsingComponents().assign("weekday",s).imply("day",f.date()).imply("month",f.month()+1).imply("year",f.year())}};Eh.default=kh});var AT=S(Ga=>{"use strict";var gC=Ga&&Ga.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ga,"__esModule",{value:!0});var $a=Zt(),PT=rt(),_C=gC(Re()),TC=Z(),bC=Ie(),vC=new RegExp(`(\u0432 \u043F\u0440\u043E\u0448\u043B\u043E\u043C|\u043D\u0430 \u043F\u0440\u043E\u0448\u043B\u043E\u0439|\u043D\u0430 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439|\u0432 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u043C|\u043D\u0430 \u044D\u0442\u043E\u0439|\u0432 \u044D\u0442\u043E\u043C)\\s*(${bC.matchAnyPattern($a.TIME_UNIT_DICTIONARY)})(?=\\s*)${$a.REGEX_PARTS.rightBoundary}`,$a.REGEX_PARTS.flags),wC=1,kC=2,Dh=class extends TC.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return $a.REGEX_PARTS.leftBoundary}innerPattern(){return vC}innerExtract(e,t){let n=t[wC].toLowerCase(),s=t[kC].toLowerCase(),a=$a.TIME_UNIT_DICTIONARY[s];if(n=="\u043D\u0430 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439"||n=="\u0432 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u043C"){let c={};return c[a]=1,PT.ParsingComponents.createRelativeFromReference(e.reference,c)}if(n=="\u0432 \u043F\u0440\u043E\u0448\u043B\u043E\u043C"||n=="\u043D\u0430 \u043F\u0440\u043E\u0448\u043B\u043E\u0439"){let c={};return c[a]=-1,PT.ParsingComponents.createRelativeFromReference(e.reference,c)}let o=e.createParsingComponents(),l=_C.default(e.reference.instant);return a.match(/week/i)?(l=l.add(-l.get("d"),"d"),o.imply("day",l.date()),o.imply("month",l.month()+1),o.imply("year",l.year())):a.match(/month/i)?(l=l.add(-l.date()+1,"d"),o.imply("day",l.date()),o.assign("year",l.year()),o.assign("month",l.month()+1)):a.match(/year/i)&&(l=l.add(-l.date()+1,"d"),l=l.add(-l.month(),"month"),o.imply("day",l.date()),o.imply("month",l.month()+1),o.assign("year",l.year())),o}};Ga.default=Dh});var NT=S(Oh=>{"use strict";Object.defineProperty(Oh,"__esModule",{value:!0});var Ha=Zt(),EC=rt(),DC=Z(),SC=gr(),OC=new RegExp(`(\u044D\u0442\u0438|\u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435|\u043F\u0440\u043E\u0448\u043B\u044B\u0435|\u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0435|\u043F\u043E\u0441\u043B\u0435|\u0447\u0435\u0440\u0435\u0437|\\+|-)\\s*(${Ha.TIME_UNITS_PATTERN})${Ha.REGEX_PARTS.rightBoundary}`,Ha.REGEX_PARTS.flags),Sh=class extends DC.AbstractParserWithWordBoundaryChecking{patternLeftBoundary(){return Ha.REGEX_PARTS.leftBoundary}innerPattern(){return OC}innerExtract(e,t){let n=t[1].toLowerCase(),s=Ha.parseTimeUnits(t[2]);switch(n){case"\u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0435":case"\u043F\u0440\u043E\u0448\u043B\u044B\u0435":case"-":s=SC.reverseTimeUnits(s);break}return EC.ParsingComponents.createRelativeFromReference(e.reference,s)}};Oh.default=Sh});var FT=S(St=>{"use strict";var sr=St&&St.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(St,"__esModule",{value:!0});St.createConfiguration=St.createCasualConfiguration=St.parseDate=St.parse=St.strict=St.casual=void 0;var MC=sr(pT()),RC=sr(TT()),xC=sr(wT()),PC=sr(ET()),AC=sr(DT()),NC=sr(ST()),CC=sr(OT()),IC=un(),FC=sr(MT()),LC=sr(RT()),YC=sr(xT()),UC=sr(AT()),CT=xr(),WC=sr(fs()),qC=sr(NT());St.casual=new CT.Chrono(IT());St.strict=new CT.Chrono(Mh(!0));function jC(r,e,t){return St.casual.parse(r,e,t)}St.parse=jC;function $C(r,e,t){return St.casual.parseDate(r,e,t)}St.parseDate=$C;function IT(){let r=Mh(!1);return r.parsers.unshift(new FC.default),r.parsers.unshift(new LC.default),r.parsers.unshift(new xC.default),r.parsers.unshift(new UC.default),r.parsers.unshift(new qC.default),r}St.createCasualConfiguration=IT;function Mh(r=!0){return IC.includeCommonConfiguration({parsers:[new WC.default(!0),new MC.default,new RC.default,new YC.default,new PC.default(r),new AC.default],refiners:[new CC.default,new NC.default]},r)}St.createConfiguration=Mh});var mt=S(ge=>{"use strict";var GC=ge&&ge.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),HC=ge&&ge.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),qn=ge&&ge.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&GC(e,r,t);return HC(e,r),e};Object.defineProperty(ge,"__esModule",{value:!0});ge.parseDate=ge.parse=ge.casual=ge.strict=ge.ru=ge.zh=ge.nl=ge.pt=ge.ja=ge.fr=ge.de=ge.Meridiem=ge.Chrono=ge.en=void 0;var Rh=qn(Hc());ge.en=Rh;var BC=xr();Object.defineProperty(ge,"Chrono",{enumerable:!0,get:function(){return BC.Chrono}});var zC;(function(r){r[r.AM=0]="AM",r[r.PM=1]="PM"})(zC=ge.Meridiem||(ge.Meridiem={}));var VC=qn(Hy());ge.de=VC;var KC=qn(bg());ge.fr=KC;var ZC=qn(Rg());ge.ja=ZC;var XC=qn(Hg());ge.pt=XC;var QC=qn(R_());ge.nl=QC;var JC=qn(lT());ge.zh=JC;var eI=qn(FT());ge.ru=eI;ge.strict=Rh.strict;ge.casual=Rh.casual;function tI(r,e,t){return ge.casual.parse(r,e,t)}ge.parse=tI;function rI(r,e,t){return ge.casual.parseDate(r,e,t)}ge.parseDate=rI});var ku=S((xh,li)=>{(function(r,e){typeof xh=="object"&&typeof li!="undefined"?li.exports=e():typeof define=="function"&&define.amd?define(e):r.moment=e()})(xh,function(){"use strict";var r;function e(){return r.apply(null,arguments)}function t(i){r=i}function n(i){return i instanceof Array||Object.prototype.toString.call(i)==="[object Array]"}function s(i){return i!=null&&Object.prototype.toString.call(i)==="[object Object]"}function a(i,u){return Object.prototype.hasOwnProperty.call(i,u)}function o(i){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(i).length===0;var u;for(u in i)if(a(i,u))return!1;return!0}function l(i){return i===void 0}function c(i){return typeof i=="number"||Object.prototype.toString.call(i)==="[object Number]"}function f(i){return i instanceof Date||Object.prototype.toString.call(i)==="[object Date]"}function p(i,u){var d=[],h,m=i.length;for(h=0;h<m;++h)d.push(u(i[h],h));return d}function g(i,u){for(var d in u)a(u,d)&&(i[d]=u[d]);return a(u,"toString")&&(i.toString=u.toString),a(u,"valueOf")&&(i.valueOf=u.valueOf),i}function T(i,u,d,h){return Fp(i,u,d,h,!0).utc()}function O(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function b(i){return i._pf==null&&(i._pf=O()),i._pf}var x;Array.prototype.some?x=Array.prototype.some:x=function(i){var u=Object(this),d=u.length>>>0,h;for(h=0;h<d;h++)if(h in u&&i.call(this,u[h],h,u))return!0;return!1};function I(i){if(i._isValid==null){var u=b(i),d=x.call(u.parsedDateParts,function(m){return m!=null}),h=!isNaN(i._d.getTime())&&u.overflow<0&&!u.empty&&!u.invalidEra&&!u.invalidMonth&&!u.invalidWeekday&&!u.weekdayMismatch&&!u.nullInput&&!u.invalidFormat&&!u.userInvalidated&&(!u.meridiem||u.meridiem&&d);if(i._strict&&(h=h&&u.charsLeftOver===0&&u.unusedTokens.length===0&&u.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(i))i._isValid=h;else return h}return i._isValid}function $(i){var u=T(NaN);return i!=null?g(b(u),i):b(u).userInvalidated=!0,u}var H=e.momentProperties=[],W=!1;function ke(i,u){var d,h,m,v=H.length;if(l(u._isAMomentObject)||(i._isAMomentObject=u._isAMomentObject),l(u._i)||(i._i=u._i),l(u._f)||(i._f=u._f),l(u._l)||(i._l=u._l),l(u._strict)||(i._strict=u._strict),l(u._tzm)||(i._tzm=u._tzm),l(u._isUTC)||(i._isUTC=u._isUTC),l(u._offset)||(i._offset=u._offset),l(u._pf)||(i._pf=b(u)),l(u._locale)||(i._locale=u._locale),v>0)for(d=0;d<v;d++)h=H[d],m=u[h],l(m)||(i[h]=m);return i}function Te(i){ke(this,i),this._d=new Date(i._d!=null?i._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),W===!1&&(W=!0,e.updateOffset(this),W=!1)}function be(i){return i instanceof Te||i!=null&&i._isAMomentObject!=null}function ee(i){e.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+i)}function ne(i,u){var d=!0;return g(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,i),d){var h=[],m,v,R,te=arguments.length;for(v=0;v<te;v++){if(m="",typeof arguments[v]=="object"){m+=`
[`+v+"] ";for(R in arguments[0])a(arguments[0],R)&&(m+=R+": "+arguments[0][R]+", ");m=m.slice(0,-2)}else m=arguments[v];h.push(m)}ee(i+`
Arguments: `+Array.prototype.slice.call(h).join("")+`
`+new Error().stack),d=!1}return u.apply(this,arguments)},u)}var Ft={};function gt(i,u){e.deprecationHandler!=null&&e.deprecationHandler(i,u),Ft[i]||(ee(u),Ft[i]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function V(i){return typeof Function!="undefined"&&i instanceof Function||Object.prototype.toString.call(i)==="[object Function]"}function q(i){var u,d;for(d in i)a(i,d)&&(u=i[d],V(u)?this[d]=u:this["_"+d]=u);this._config=i,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function P(i,u){var d=g({},i),h;for(h in u)a(u,h)&&(s(i[h])&&s(u[h])?(d[h]={},g(d[h],i[h]),g(d[h],u[h])):u[h]!=null?d[h]=u[h]:delete d[h]);for(h in i)a(i,h)&&!a(u,h)&&s(i[h])&&(d[h]=g({},d[h]));return d}function J(i){i!=null&&this.set(i)}var Y;Object.keys?Y=Object.keys:Y=function(i){var u,d=[];for(u in i)a(i,u)&&d.push(u);return d};var oe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function y(i,u,d){var h=this._calendar[i]||this._calendar.sameElse;return V(h)?h.call(u,d):h}function _(i,u,d){var h=""+Math.abs(i),m=u-h.length,v=i>=0;return(v?d?"+":"":"-")+Math.pow(10,Math.max(0,m)).toString().substr(1)+h}var w=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,k=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,D={},M={};function E(i,u,d,h){var m=h;typeof h=="string"&&(m=function(){return this[h]()}),i&&(M[i]=m),u&&(M[u[0]]=function(){return _(m.apply(this,arguments),u[1],u[2])}),d&&(M[d]=function(){return this.localeData().ordinal(m.apply(this,arguments),i)})}function C(i){return i.match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"")}function A(i){var u=i.match(w),d,h;for(d=0,h=u.length;d<h;d++)M[u[d]]?u[d]=M[u[d]]:u[d]=C(u[d]);return function(m){var v="",R;for(R=0;R<h;R++)v+=V(u[R])?u[R].call(m,i):u[R];return v}}function N(i,u){return i.isValid()?(u=j(u,i.localeData()),D[u]=D[u]||A(u),D[u](i)):i.localeData().invalidDate()}function j(i,u){var d=5;function h(m){return u.longDateFormat(m)||m}for(k.lastIndex=0;d>=0&&k.test(i);)i=i.replace(k,h),k.lastIndex=0,d-=1;return i}var Ee={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function pe(i){var u=this._longDateFormat[i],d=this._longDateFormat[i.toUpperCase()];return u||!d?u:(this._longDateFormat[i]=d.match(w).map(function(h){return h==="MMMM"||h==="MM"||h==="DD"||h==="dddd"?h.slice(1):h}).join(""),this._longDateFormat[i])}var le="Invalid date";function Ce(){return this._invalidDate}var K="%d",qe=/\d{1,2}/;function Qe(i){return this._ordinal.replace("%d",i)}var dt={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Or(i,u,d,h){var m=this._relativeTime[d];return V(m)?m(i,u,d,h):m.replace(/%d/i,i)}function at(i,u){var d=this._relativeTime[i>0?"future":"past"];return V(d)?d(u):d.replace(/%s/i,u)}var je={};function ft(i,u){var d=i.toLowerCase();je[d]=je[d+"s"]=je[u]=i}function _t(i){return typeof i=="string"?je[i]||je[i.toLowerCase()]:void 0}function Sn(i){var u={},d,h;for(h in i)a(i,h)&&(d=_t(h),d&&(u[d]=i[h]));return u}var Li={};function $e(i,u){Li[i]=u}function Us(i){var u=[],d;for(d in i)a(i,d)&&u.push({unit:d,priority:Li[d]});return u.sort(function(h,m){return h.priority-m.priority}),u}function Jn(i){return i%4===0&&i%100!==0||i%400===0}function ht(i){return i<0?Math.ceil(i)||0:Math.floor(i)}function ce(i){var u=+i,d=0;return u!==0&&isFinite(u)&&(d=ht(u)),d}function Xr(i,u){return function(d){return d!=null?(es(this,i,d),e.updateOffset(this,u),this):xt(this,i)}}function xt(i,u){return i.isValid()?i._d["get"+(i._isUTC?"UTC":"")+u]():NaN}function es(i,u,d){i.isValid()&&!isNaN(d)&&(u==="FullYear"&&Jn(i.year())&&i.month()===1&&i.date()===29?(d=ce(d),i._d["set"+(i._isUTC?"UTC":"")+u](d,i.month(),To(d,i.month()))):i._d["set"+(i._isUTC?"UTC":"")+u](d))}function mo(i){return i=_t(i),V(this[i])?this[i]():this}function Ur(i,u){if(typeof i=="object"){i=Sn(i);var d=Us(i),h,m=d.length;for(h=0;h<m;h++)this[d[h].unit](i[d[h].unit])}else if(i=_t(i),V(this[i]))return this[i](u);return this}var On=/\d/,Tt=/\d\d/,Yi=/\d{3}/,dr=/\d{4}/,Qr=/[+-]?\d{6}/,Le=/\d\d?/,Mn=/\d\d\d\d?/,Ws=/\d\d\d\d\d\d?/,ts=/\d{1,3}/,Rn=/\d{1,4}/,rs=/[+-]?\d{1,6}/,fr=/\d+/,xn=/[+-]?\d+/,yo=/Z|[+-]\d\d:?\d\d/gi,Jr=/Z|[+-]\d\d(?::?\d\d)?/gi,go=/[+-]?\d+(\.\d{1,3})?/,hr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,pr;pr={};function B(i,u,d){pr[i]=V(u)?u:function(h,m){return h&&d?d:u}}function qs(i,u){return a(pr,i)?pr[i](u._strict,u._locale):new RegExp(_o(i))}function _o(i){return pt(i.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(u,d,h,m,v){return d||h||m||v}))}function pt(i){return i.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ns={};function Pe(i,u){var d,h=u,m;for(typeof i=="string"&&(i=[i]),c(u)&&(h=function(v,R){R[u]=ce(v)}),m=i.length,d=0;d<m;d++)ns[i[d]]=h}function mr(i,u){Pe(i,function(d,h,m,v){m._w=m._w||{},u(d,m._w,m,v)})}function Lt(i,u,d){u!=null&&a(ns,i)&&ns[i](u,d._a,d,i)}var tt=0,Je=1,G=2,re=3,ue=4,jt=5,ss=6,Jv=7,ew=8;function tw(i,u){return(i%u+u)%u}var st;Array.prototype.indexOf?st=Array.prototype.indexOf:st=function(i){var u;for(u=0;u<this.length;++u)if(this[u]===i)return u;return-1};function To(i,u){if(isNaN(i)||isNaN(u))return NaN;var d=tw(u,12);return i+=(u-d)/12,d===1?Jn(i)?29:28:31-d%7%2}E("M",["MM",2],"Mo",function(){return this.month()+1}),E("MMM",0,0,function(i){return this.localeData().monthsShort(this,i)}),E("MMMM",0,0,function(i){return this.localeData().months(this,i)}),ft("month","M"),$e("month",8),B("M",Le),B("MM",Le,Tt),B("MMM",function(i,u){return u.monthsShortRegex(i)}),B("MMMM",function(i,u){return u.monthsRegex(i)}),Pe(["M","MM"],function(i,u){u[Je]=ce(i)-1}),Pe(["MMM","MMMM"],function(i,u,d,h){var m=d._locale.monthsParse(i,h,d._strict);m!=null?u[Je]=m:b(d).invalidMonth=i});var rw="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),vp="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),wp=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,nw=hr,sw=hr;function iw(i,u){return i?n(this._months)?this._months[i.month()]:this._months[(this._months.isFormat||wp).test(u)?"format":"standalone"][i.month()]:n(this._months)?this._months:this._months.standalone}function aw(i,u){return i?n(this._monthsShort)?this._monthsShort[i.month()]:this._monthsShort[wp.test(u)?"format":"standalone"][i.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ow(i,u,d){var h,m,v,R=i.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],h=0;h<12;++h)v=T([2e3,h]),this._shortMonthsParse[h]=this.monthsShort(v,"").toLocaleLowerCase(),this._longMonthsParse[h]=this.months(v,"").toLocaleLowerCase();return d?u==="MMM"?(m=st.call(this._shortMonthsParse,R),m!==-1?m:null):(m=st.call(this._longMonthsParse,R),m!==-1?m:null):u==="MMM"?(m=st.call(this._shortMonthsParse,R),m!==-1?m:(m=st.call(this._longMonthsParse,R),m!==-1?m:null)):(m=st.call(this._longMonthsParse,R),m!==-1?m:(m=st.call(this._shortMonthsParse,R),m!==-1?m:null))}function uw(i,u,d){var h,m,v;if(this._monthsParseExact)return ow.call(this,i,u,d);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),h=0;h<12;h++){if(m=T([2e3,h]),d&&!this._longMonthsParse[h]&&(this._longMonthsParse[h]=new RegExp("^"+this.months(m,"").replace(".","")+"$","i"),this._shortMonthsParse[h]=new RegExp("^"+this.monthsShort(m,"").replace(".","")+"$","i")),!d&&!this._monthsParse[h]&&(v="^"+this.months(m,"")+"|^"+this.monthsShort(m,""),this._monthsParse[h]=new RegExp(v.replace(".",""),"i")),d&&u==="MMMM"&&this._longMonthsParse[h].test(i))return h;if(d&&u==="MMM"&&this._shortMonthsParse[h].test(i))return h;if(!d&&this._monthsParse[h].test(i))return h}}function kp(i,u){var d;if(!i.isValid())return i;if(typeof u=="string"){if(/^\d+$/.test(u))u=ce(u);else if(u=i.localeData().monthsParse(u),!c(u))return i}return d=Math.min(i.date(),To(i.year(),u)),i._d["set"+(i._isUTC?"UTC":"")+"Month"](u,d),i}function Ep(i){return i!=null?(kp(this,i),e.updateOffset(this,!0),this):xt(this,"Month")}function lw(){return To(this.year(),this.month())}function cw(i){return this._monthsParseExact?(a(this,"_monthsRegex")||Dp.call(this),i?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=nw),this._monthsShortStrictRegex&&i?this._monthsShortStrictRegex:this._monthsShortRegex)}function dw(i){return this._monthsParseExact?(a(this,"_monthsRegex")||Dp.call(this),i?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=sw),this._monthsStrictRegex&&i?this._monthsStrictRegex:this._monthsRegex)}function Dp(){function i(R,te){return te.length-R.length}var u=[],d=[],h=[],m,v;for(m=0;m<12;m++)v=T([2e3,m]),u.push(this.monthsShort(v,"")),d.push(this.months(v,"")),h.push(this.months(v,"")),h.push(this.monthsShort(v,""));for(u.sort(i),d.sort(i),h.sort(i),m=0;m<12;m++)u[m]=pt(u[m]),d[m]=pt(d[m]);for(m=0;m<24;m++)h[m]=pt(h[m]);this._monthsRegex=new RegExp("^("+h.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+u.join("|")+")","i")}E("Y",0,0,function(){var i=this.year();return i<=9999?_(i,4):"+"+i}),E(0,["YY",2],0,function(){return this.year()%100}),E(0,["YYYY",4],0,"year"),E(0,["YYYYY",5],0,"year"),E(0,["YYYYYY",6,!0],0,"year"),ft("year","y"),$e("year",1),B("Y",xn),B("YY",Le,Tt),B("YYYY",Rn,dr),B("YYYYY",rs,Qr),B("YYYYYY",rs,Qr),Pe(["YYYYY","YYYYYY"],tt),Pe("YYYY",function(i,u){u[tt]=i.length===2?e.parseTwoDigitYear(i):ce(i)}),Pe("YY",function(i,u){u[tt]=e.parseTwoDigitYear(i)}),Pe("Y",function(i,u){u[tt]=parseInt(i,10)});function Ui(i){return Jn(i)?366:365}e.parseTwoDigitYear=function(i){return ce(i)+(ce(i)>68?1900:2e3)};var Sp=Xr("FullYear",!0);function fw(){return Jn(this.year())}function hw(i,u,d,h,m,v,R){var te;return i<100&&i>=0?(te=new Date(i+400,u,d,h,m,v,R),isFinite(te.getFullYear())&&te.setFullYear(i)):te=new Date(i,u,d,h,m,v,R),te}function Wi(i){var u,d;return i<100&&i>=0?(d=Array.prototype.slice.call(arguments),d[0]=i+400,u=new Date(Date.UTC.apply(null,d)),isFinite(u.getUTCFullYear())&&u.setUTCFullYear(i)):u=new Date(Date.UTC.apply(null,arguments)),u}function bo(i,u,d){var h=7+u-d,m=(7+Wi(i,0,h).getUTCDay()-u)%7;return-m+h-1}function Op(i,u,d,h,m){var v=(7+d-h)%7,R=bo(i,h,m),te=1+7*(u-1)+v+R,me,Ye;return te<=0?(me=i-1,Ye=Ui(me)+te):te>Ui(i)?(me=i+1,Ye=te-Ui(i)):(me=i,Ye=te),{year:me,dayOfYear:Ye}}function qi(i,u,d){var h=bo(i.year(),u,d),m=Math.floor((i.dayOfYear()-h-1)/7)+1,v,R;return m<1?(R=i.year()-1,v=m+en(R,u,d)):m>en(i.year(),u,d)?(v=m-en(i.year(),u,d),R=i.year()+1):(R=i.year(),v=m),{week:v,year:R}}function en(i,u,d){var h=bo(i,u,d),m=bo(i+1,u,d);return(Ui(i)-h+m)/7}E("w",["ww",2],"wo","week"),E("W",["WW",2],"Wo","isoWeek"),ft("week","w"),ft("isoWeek","W"),$e("week",5),$e("isoWeek",5),B("w",Le),B("ww",Le,Tt),B("W",Le),B("WW",Le,Tt),mr(["w","ww","W","WW"],function(i,u,d,h){u[h.substr(0,1)]=ce(i)});function pw(i){return qi(i,this._week.dow,this._week.doy).week}var mw={dow:0,doy:6};function yw(){return this._week.dow}function gw(){return this._week.doy}function _w(i){var u=this.localeData().week(this);return i==null?u:this.add((i-u)*7,"d")}function Tw(i){var u=qi(this,1,4).week;return i==null?u:this.add((i-u)*7,"d")}E("d",0,"do","day"),E("dd",0,0,function(i){return this.localeData().weekdaysMin(this,i)}),E("ddd",0,0,function(i){return this.localeData().weekdaysShort(this,i)}),E("dddd",0,0,function(i){return this.localeData().weekdays(this,i)}),E("e",0,0,"weekday"),E("E",0,0,"isoWeekday"),ft("day","d"),ft("weekday","e"),ft("isoWeekday","E"),$e("day",11),$e("weekday",11),$e("isoWeekday",11),B("d",Le),B("e",Le),B("E",Le),B("dd",function(i,u){return u.weekdaysMinRegex(i)}),B("ddd",function(i,u){return u.weekdaysShortRegex(i)}),B("dddd",function(i,u){return u.weekdaysRegex(i)}),mr(["dd","ddd","dddd"],function(i,u,d,h){var m=d._locale.weekdaysParse(i,h,d._strict);m!=null?u.d=m:b(d).invalidWeekday=i}),mr(["d","e","E"],function(i,u,d,h){u[h]=ce(i)});function bw(i,u){return typeof i!="string"?i:isNaN(i)?(i=u.weekdaysParse(i),typeof i=="number"?i:null):parseInt(i,10)}function vw(i,u){return typeof i=="string"?u.weekdaysParse(i)%7||7:isNaN(i)?null:i}function wl(i,u){return i.slice(u,7).concat(i.slice(0,u))}var ww="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Mp="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),kw="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ew=hr,Dw=hr,Sw=hr;function Ow(i,u){var d=n(this._weekdays)?this._weekdays:this._weekdays[i&&i!==!0&&this._weekdays.isFormat.test(u)?"format":"standalone"];return i===!0?wl(d,this._week.dow):i?d[i.day()]:d}function Mw(i){return i===!0?wl(this._weekdaysShort,this._week.dow):i?this._weekdaysShort[i.day()]:this._weekdaysShort}function Rw(i){return i===!0?wl(this._weekdaysMin,this._week.dow):i?this._weekdaysMin[i.day()]:this._weekdaysMin}function xw(i,u,d){var h,m,v,R=i.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],h=0;h<7;++h)v=T([2e3,1]).day(h),this._minWeekdaysParse[h]=this.weekdaysMin(v,"").toLocaleLowerCase(),this._shortWeekdaysParse[h]=this.weekdaysShort(v,"").toLocaleLowerCase(),this._weekdaysParse[h]=this.weekdays(v,"").toLocaleLowerCase();return d?u==="dddd"?(m=st.call(this._weekdaysParse,R),m!==-1?m:null):u==="ddd"?(m=st.call(this._shortWeekdaysParse,R),m!==-1?m:null):(m=st.call(this._minWeekdaysParse,R),m!==-1?m:null):u==="dddd"?(m=st.call(this._weekdaysParse,R),m!==-1||(m=st.call(this._shortWeekdaysParse,R),m!==-1)?m:(m=st.call(this._minWeekdaysParse,R),m!==-1?m:null)):u==="ddd"?(m=st.call(this._shortWeekdaysParse,R),m!==-1||(m=st.call(this._weekdaysParse,R),m!==-1)?m:(m=st.call(this._minWeekdaysParse,R),m!==-1?m:null)):(m=st.call(this._minWeekdaysParse,R),m!==-1||(m=st.call(this._weekdaysParse,R),m!==-1)?m:(m=st.call(this._shortWeekdaysParse,R),m!==-1?m:null))}function Pw(i,u,d){var h,m,v;if(this._weekdaysParseExact)return xw.call(this,i,u,d);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),h=0;h<7;h++){if(m=T([2e3,1]).day(h),d&&!this._fullWeekdaysParse[h]&&(this._fullWeekdaysParse[h]=new RegExp("^"+this.weekdays(m,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[h]=new RegExp("^"+this.weekdaysShort(m,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[h]=new RegExp("^"+this.weekdaysMin(m,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[h]||(v="^"+this.weekdays(m,"")+"|^"+this.weekdaysShort(m,"")+"|^"+this.weekdaysMin(m,""),this._weekdaysParse[h]=new RegExp(v.replace(".",""),"i")),d&&u==="dddd"&&this._fullWeekdaysParse[h].test(i))return h;if(d&&u==="ddd"&&this._shortWeekdaysParse[h].test(i))return h;if(d&&u==="dd"&&this._minWeekdaysParse[h].test(i))return h;if(!d&&this._weekdaysParse[h].test(i))return h}}function Aw(i){if(!this.isValid())return i!=null?this:NaN;var u=this._isUTC?this._d.getUTCDay():this._d.getDay();return i!=null?(i=bw(i,this.localeData()),this.add(i-u,"d")):u}function Nw(i){if(!this.isValid())return i!=null?this:NaN;var u=(this.day()+7-this.localeData()._week.dow)%7;return i==null?u:this.add(i-u,"d")}function Cw(i){if(!this.isValid())return i!=null?this:NaN;if(i!=null){var u=vw(i,this.localeData());return this.day(this.day()%7?u:u-7)}else return this.day()||7}function Iw(i){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||kl.call(this),i?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Ew),this._weekdaysStrictRegex&&i?this._weekdaysStrictRegex:this._weekdaysRegex)}function Fw(i){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||kl.call(this),i?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Dw),this._weekdaysShortStrictRegex&&i?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Lw(i){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||kl.call(this),i?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Sw),this._weekdaysMinStrictRegex&&i?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function kl(){function i($t,an){return an.length-$t.length}var u=[],d=[],h=[],m=[],v,R,te,me,Ye;for(v=0;v<7;v++)R=T([2e3,1]).day(v),te=pt(this.weekdaysMin(R,"")),me=pt(this.weekdaysShort(R,"")),Ye=pt(this.weekdays(R,"")),u.push(te),d.push(me),h.push(Ye),m.push(te),m.push(me),m.push(Ye);u.sort(i),d.sort(i),h.sort(i),m.sort(i),this._weekdaysRegex=new RegExp("^("+m.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+u.join("|")+")","i")}function El(){return this.hours()%12||12}function Yw(){return this.hours()||24}E("H",["HH",2],0,"hour"),E("h",["hh",2],0,El),E("k",["kk",2],0,Yw),E("hmm",0,0,function(){return""+El.apply(this)+_(this.minutes(),2)}),E("hmmss",0,0,function(){return""+El.apply(this)+_(this.minutes(),2)+_(this.seconds(),2)}),E("Hmm",0,0,function(){return""+this.hours()+_(this.minutes(),2)}),E("Hmmss",0,0,function(){return""+this.hours()+_(this.minutes(),2)+_(this.seconds(),2)});function Rp(i,u){E(i,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),u)})}Rp("a",!0),Rp("A",!1),ft("hour","h"),$e("hour",13);function xp(i,u){return u._meridiemParse}B("a",xp),B("A",xp),B("H",Le),B("h",Le),B("k",Le),B("HH",Le,Tt),B("hh",Le,Tt),B("kk",Le,Tt),B("hmm",Mn),B("hmmss",Ws),B("Hmm",Mn),B("Hmmss",Ws),Pe(["H","HH"],re),Pe(["k","kk"],function(i,u,d){var h=ce(i);u[re]=h===24?0:h}),Pe(["a","A"],function(i,u,d){d._isPm=d._locale.isPM(i),d._meridiem=i}),Pe(["h","hh"],function(i,u,d){u[re]=ce(i),b(d).bigHour=!0}),Pe("hmm",function(i,u,d){var h=i.length-2;u[re]=ce(i.substr(0,h)),u[ue]=ce(i.substr(h)),b(d).bigHour=!0}),Pe("hmmss",function(i,u,d){var h=i.length-4,m=i.length-2;u[re]=ce(i.substr(0,h)),u[ue]=ce(i.substr(h,2)),u[jt]=ce(i.substr(m)),b(d).bigHour=!0}),Pe("Hmm",function(i,u,d){var h=i.length-2;u[re]=ce(i.substr(0,h)),u[ue]=ce(i.substr(h))}),Pe("Hmmss",function(i,u,d){var h=i.length-4,m=i.length-2;u[re]=ce(i.substr(0,h)),u[ue]=ce(i.substr(h,2)),u[jt]=ce(i.substr(m))});function Uw(i){return(i+"").toLowerCase().charAt(0)==="p"}var Ww=/[ap]\.?m?\.?/i,qw=Xr("Hours",!0);function jw(i,u,d){return i>11?d?"pm":"PM":d?"am":"AM"}var Pp={calendar:oe,longDateFormat:Ee,invalidDate:le,ordinal:K,dayOfMonthOrdinalParse:qe,relativeTime:dt,months:rw,monthsShort:vp,week:mw,weekdays:ww,weekdaysMin:kw,weekdaysShort:Mp,meridiemParse:Ww},et={},ji={},$i;function $w(i,u){var d,h=Math.min(i.length,u.length);for(d=0;d<h;d+=1)if(i[d]!==u[d])return d;return h}function Ap(i){return i&&i.toLowerCase().replace("_","-")}function Gw(i){for(var u=0,d,h,m,v;u<i.length;){for(v=Ap(i[u]).split("-"),d=v.length,h=Ap(i[u+1]),h=h?h.split("-"):null;d>0;){if(m=vo(v.slice(0,d).join("-")),m)return m;if(h&&h.length>=d&&$w(v,h)>=d-1)break;d--}u++}return $i}function Hw(i){return i.match("^[^/\\\\]*$")!=null}function vo(i){var u=null,d;if(et[i]===void 0&&typeof li!="undefined"&&li&&li.exports&&Hw(i))try{u=$i._abbr,d=require,d("./locale/"+i),Pn(u)}catch(h){et[i]=null}return et[i]}function Pn(i,u){var d;return i&&(l(u)?d=tn(i):d=Dl(i,u),d?$i=d:typeof console!="undefined"&&console.warn&&console.warn("Locale "+i+" not found. Did you forget to load it?")),$i._abbr}function Dl(i,u){if(u!==null){var d,h=Pp;if(u.abbr=i,et[i]!=null)gt("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),h=et[i]._config;else if(u.parentLocale!=null)if(et[u.parentLocale]!=null)h=et[u.parentLocale]._config;else if(d=vo(u.parentLocale),d!=null)h=d._config;else return ji[u.parentLocale]||(ji[u.parentLocale]=[]),ji[u.parentLocale].push({name:i,config:u}),null;return et[i]=new J(P(h,u)),ji[i]&&ji[i].forEach(function(m){Dl(m.name,m.config)}),Pn(i),et[i]}else return delete et[i],null}function Bw(i,u){if(u!=null){var d,h,m=Pp;et[i]!=null&&et[i].parentLocale!=null?et[i].set(P(et[i]._config,u)):(h=vo(i),h!=null&&(m=h._config),u=P(m,u),h==null&&(u.abbr=i),d=new J(u),d.parentLocale=et[i],et[i]=d),Pn(i)}else et[i]!=null&&(et[i].parentLocale!=null?(et[i]=et[i].parentLocale,i===Pn()&&Pn(i)):et[i]!=null&&delete et[i]);return et[i]}function tn(i){var u;if(i&&i._locale&&i._locale._abbr&&(i=i._locale._abbr),!i)return $i;if(!n(i)){if(u=vo(i),u)return u;i=[i]}return Gw(i)}function zw(){return Y(et)}function Sl(i){var u,d=i._a;return d&&b(i).overflow===-2&&(u=d[Je]<0||d[Je]>11?Je:d[G]<1||d[G]>To(d[tt],d[Je])?G:d[re]<0||d[re]>24||d[re]===24&&(d[ue]!==0||d[jt]!==0||d[ss]!==0)?re:d[ue]<0||d[ue]>59?ue:d[jt]<0||d[jt]>59?jt:d[ss]<0||d[ss]>999?ss:-1,b(i)._overflowDayOfYear&&(u<tt||u>G)&&(u=G),b(i)._overflowWeeks&&u===-1&&(u=Jv),b(i)._overflowWeekday&&u===-1&&(u=ew),b(i).overflow=u),i}var Vw=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Kw=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Zw=/Z|[+-]\d\d(?::?\d\d)?/,wo=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ol=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Xw=/^\/?Date\((-?\d+)/i,Qw=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Jw={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Np(i){var u,d,h=i._i,m=Vw.exec(h)||Kw.exec(h),v,R,te,me,Ye=wo.length,$t=Ol.length;if(m){for(b(i).iso=!0,u=0,d=Ye;u<d;u++)if(wo[u][1].exec(m[1])){R=wo[u][0],v=wo[u][2]!==!1;break}if(R==null){i._isValid=!1;return}if(m[3]){for(u=0,d=$t;u<d;u++)if(Ol[u][1].exec(m[3])){te=(m[2]||" ")+Ol[u][0];break}if(te==null){i._isValid=!1;return}}if(!v&&te!=null){i._isValid=!1;return}if(m[4])if(Zw.exec(m[4]))me="Z";else{i._isValid=!1;return}i._f=R+(te||"")+(me||""),Rl(i)}else i._isValid=!1}function e0(i,u,d,h,m,v){var R=[t0(i),vp.indexOf(u),parseInt(d,10),parseInt(h,10),parseInt(m,10)];return v&&R.push(parseInt(v,10)),R}function t0(i){var u=parseInt(i,10);return u<=49?2e3+u:u<=999?1900+u:u}function r0(i){return i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function n0(i,u,d){if(i){var h=Mp.indexOf(i),m=new Date(u[0],u[1],u[2]).getDay();if(h!==m)return b(d).weekdayMismatch=!0,d._isValid=!1,!1}return!0}function s0(i,u,d){if(i)return Jw[i];if(u)return 0;var h=parseInt(d,10),m=h%100,v=(h-m)/100;return v*60+m}function Cp(i){var u=Qw.exec(r0(i._i)),d;if(u){if(d=e0(u[4],u[3],u[2],u[5],u[6],u[7]),!n0(u[1],d,i))return;i._a=d,i._tzm=s0(u[8],u[9],u[10]),i._d=Wi.apply(null,i._a),i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),b(i).rfc2822=!0}else i._isValid=!1}function i0(i){var u=Xw.exec(i._i);if(u!==null){i._d=new Date(+u[1]);return}if(Np(i),i._isValid===!1)delete i._isValid;else return;if(Cp(i),i._isValid===!1)delete i._isValid;else return;i._strict?i._isValid=!1:e.createFromInputFallback(i)}e.createFromInputFallback=ne("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(i){i._d=new Date(i._i+(i._useUTC?" UTC":""))});function js(i,u,d){return i!=null?i:u!=null?u:d}function a0(i){var u=new Date(e.now());return i._useUTC?[u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()]:[u.getFullYear(),u.getMonth(),u.getDate()]}function Ml(i){var u,d,h=[],m,v,R;if(!i._d){for(m=a0(i),i._w&&i._a[G]==null&&i._a[Je]==null&&o0(i),i._dayOfYear!=null&&(R=js(i._a[tt],m[tt]),(i._dayOfYear>Ui(R)||i._dayOfYear===0)&&(b(i)._overflowDayOfYear=!0),d=Wi(R,0,i._dayOfYear),i._a[Je]=d.getUTCMonth(),i._a[G]=d.getUTCDate()),u=0;u<3&&i._a[u]==null;++u)i._a[u]=h[u]=m[u];for(;u<7;u++)i._a[u]=h[u]=i._a[u]==null?u===2?1:0:i._a[u];i._a[re]===24&&i._a[ue]===0&&i._a[jt]===0&&i._a[ss]===0&&(i._nextDay=!0,i._a[re]=0),i._d=(i._useUTC?Wi:hw).apply(null,h),v=i._useUTC?i._d.getUTCDay():i._d.getDay(),i._tzm!=null&&i._d.setUTCMinutes(i._d.getUTCMinutes()-i._tzm),i._nextDay&&(i._a[re]=24),i._w&&typeof i._w.d!="undefined"&&i._w.d!==v&&(b(i).weekdayMismatch=!0)}}function o0(i){var u,d,h,m,v,R,te,me,Ye;u=i._w,u.GG!=null||u.W!=null||u.E!=null?(v=1,R=4,d=js(u.GG,i._a[tt],qi(Ke(),1,4).year),h=js(u.W,1),m=js(u.E,1),(m<1||m>7)&&(me=!0)):(v=i._locale._week.dow,R=i._locale._week.doy,Ye=qi(Ke(),v,R),d=js(u.gg,i._a[tt],Ye.year),h=js(u.w,Ye.week),u.d!=null?(m=u.d,(m<0||m>6)&&(me=!0)):u.e!=null?(m=u.e+v,(u.e<0||u.e>6)&&(me=!0)):m=v),h<1||h>en(d,v,R)?b(i)._overflowWeeks=!0:me!=null?b(i)._overflowWeekday=!0:(te=Op(d,h,m,v,R),i._a[tt]=te.year,i._dayOfYear=te.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function Rl(i){if(i._f===e.ISO_8601){Np(i);return}if(i._f===e.RFC_2822){Cp(i);return}i._a=[],b(i).empty=!0;var u=""+i._i,d,h,m,v,R,te=u.length,me=0,Ye,$t;for(m=j(i._f,i._locale).match(w)||[],$t=m.length,d=0;d<$t;d++)v=m[d],h=(u.match(qs(v,i))||[])[0],h&&(R=u.substr(0,u.indexOf(h)),R.length>0&&b(i).unusedInput.push(R),u=u.slice(u.indexOf(h)+h.length),me+=h.length),M[v]?(h?b(i).empty=!1:b(i).unusedTokens.push(v),Lt(v,h,i)):i._strict&&!h&&b(i).unusedTokens.push(v);b(i).charsLeftOver=te-me,u.length>0&&b(i).unusedInput.push(u),i._a[re]<=12&&b(i).bigHour===!0&&i._a[re]>0&&(b(i).bigHour=void 0),b(i).parsedDateParts=i._a.slice(0),b(i).meridiem=i._meridiem,i._a[re]=u0(i._locale,i._a[re],i._meridiem),Ye=b(i).era,Ye!==null&&(i._a[tt]=i._locale.erasConvertYear(Ye,i._a[tt])),Ml(i),Sl(i)}function u0(i,u,d){var h;return d==null?u:i.meridiemHour!=null?i.meridiemHour(u,d):(i.isPM!=null&&(h=i.isPM(d),h&&u<12&&(u+=12),!h&&u===12&&(u=0)),u)}function l0(i){var u,d,h,m,v,R,te=!1,me=i._f.length;if(me===0){b(i).invalidFormat=!0,i._d=new Date(NaN);return}for(m=0;m<me;m++)v=0,R=!1,u=ke({},i),i._useUTC!=null&&(u._useUTC=i._useUTC),u._f=i._f[m],Rl(u),I(u)&&(R=!0),v+=b(u).charsLeftOver,v+=b(u).unusedTokens.length*10,b(u).score=v,te?v<h&&(h=v,d=u):(h==null||v<h||R)&&(h=v,d=u,R&&(te=!0));g(i,d||u)}function c0(i){if(!i._d){var u=Sn(i._i),d=u.day===void 0?u.date:u.day;i._a=p([u.year,u.month,d,u.hour,u.minute,u.second,u.millisecond],function(h){return h&&parseInt(h,10)}),Ml(i)}}function d0(i){var u=new Te(Sl(Ip(i)));return u._nextDay&&(u.add(1,"d"),u._nextDay=void 0),u}function Ip(i){var u=i._i,d=i._f;return i._locale=i._locale||tn(i._l),u===null||d===void 0&&u===""?$({nullInput:!0}):(typeof u=="string"&&(i._i=u=i._locale.preparse(u)),be(u)?new Te(Sl(u)):(f(u)?i._d=u:n(d)?l0(i):d?Rl(i):f0(i),I(i)||(i._d=null),i))}function f0(i){var u=i._i;l(u)?i._d=new Date(e.now()):f(u)?i._d=new Date(u.valueOf()):typeof u=="string"?i0(i):n(u)?(i._a=p(u.slice(0),function(d){return parseInt(d,10)}),Ml(i)):s(u)?c0(i):c(u)?i._d=new Date(u):e.createFromInputFallback(i)}function Fp(i,u,d,h,m){var v={};return(u===!0||u===!1)&&(h=u,u=void 0),(d===!0||d===!1)&&(h=d,d=void 0),(s(i)&&o(i)||n(i)&&i.length===0)&&(i=void 0),v._isAMomentObject=!0,v._useUTC=v._isUTC=m,v._l=d,v._i=i,v._f=u,v._strict=h,d0(v)}function Ke(i,u,d,h){return Fp(i,u,d,h,!1)}var h0=ne("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var i=Ke.apply(null,arguments);return this.isValid()&&i.isValid()?i<this?this:i:$()}),p0=ne("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var i=Ke.apply(null,arguments);return this.isValid()&&i.isValid()?i>this?this:i:$()});function Lp(i,u){var d,h;if(u.length===1&&n(u[0])&&(u=u[0]),!u.length)return Ke();for(d=u[0],h=1;h<u.length;++h)(!u[h].isValid()||u[h][i](d))&&(d=u[h]);return d}function m0(){var i=[].slice.call(arguments,0);return Lp("isBefore",i)}function y0(){var i=[].slice.call(arguments,0);return Lp("isAfter",i)}var g0=function(){return Date.now?Date.now():+new Date},Gi=["year","quarter","month","week","day","hour","minute","second","millisecond"];function _0(i){var u,d=!1,h,m=Gi.length;for(u in i)if(a(i,u)&&!(st.call(Gi,u)!==-1&&(i[u]==null||!isNaN(i[u]))))return!1;for(h=0;h<m;++h)if(i[Gi[h]]){if(d)return!1;parseFloat(i[Gi[h]])!==ce(i[Gi[h]])&&(d=!0)}return!0}function T0(){return this._isValid}function b0(){return Mr(NaN)}function ko(i){var u=Sn(i),d=u.year||0,h=u.quarter||0,m=u.month||0,v=u.week||u.isoWeek||0,R=u.day||0,te=u.hour||0,me=u.minute||0,Ye=u.second||0,$t=u.millisecond||0;this._isValid=_0(u),this._milliseconds=+$t+Ye*1e3+me*6e4+te*1e3*60*60,this._days=+R+v*7,this._months=+m+h*3+d*12,this._data={},this._locale=tn(),this._bubble()}function Eo(i){return i instanceof ko}function xl(i){return i<0?Math.round(-1*i)*-1:Math.round(i)}function v0(i,u,d){var h=Math.min(i.length,u.length),m=Math.abs(i.length-u.length),v=0,R;for(R=0;R<h;R++)(d&&i[R]!==u[R]||!d&&ce(i[R])!==ce(u[R]))&&v++;return v+m}function Yp(i,u){E(i,0,0,function(){var d=this.utcOffset(),h="+";return d<0&&(d=-d,h="-"),h+_(~~(d/60),2)+u+_(~~d%60,2)})}Yp("Z",":"),Yp("ZZ",""),B("Z",Jr),B("ZZ",Jr),Pe(["Z","ZZ"],function(i,u,d){d._useUTC=!0,d._tzm=Pl(Jr,i)});var w0=/([\+\-]|\d\d)/gi;function Pl(i,u){var d=(u||"").match(i),h,m,v;return d===null?null:(h=d[d.length-1]||[],m=(h+"").match(w0)||["-",0,0],v=+(m[1]*60)+ce(m[2]),v===0?0:m[0]==="+"?v:-v)}function Al(i,u){var d,h;return u._isUTC?(d=u.clone(),h=(be(i)||f(i)?i.valueOf():Ke(i).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+h),e.updateOffset(d,!1),d):Ke(i).local()}function Nl(i){return-Math.round(i._d.getTimezoneOffset())}e.updateOffset=function(){};function k0(i,u,d){var h=this._offset||0,m;if(!this.isValid())return i!=null?this:NaN;if(i!=null){if(typeof i=="string"){if(i=Pl(Jr,i),i===null)return this}else Math.abs(i)<16&&!d&&(i=i*60);return!this._isUTC&&u&&(m=Nl(this)),this._offset=i,this._isUTC=!0,m!=null&&this.add(m,"m"),h!==i&&(!u||this._changeInProgress?jp(this,Mr(i-h,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?h:Nl(this)}function E0(i,u){return i!=null?(typeof i!="string"&&(i=-i),this.utcOffset(i,u),this):-this.utcOffset()}function D0(i){return this.utcOffset(0,i)}function S0(i){return this._isUTC&&(this.utcOffset(0,i),this._isUTC=!1,i&&this.subtract(Nl(this),"m")),this}function O0(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var i=Pl(yo,this._i);i!=null?this.utcOffset(i):this.utcOffset(0,!0)}return this}function M0(i){return this.isValid()?(i=i?Ke(i).utcOffset():0,(this.utcOffset()-i)%60===0):!1}function R0(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function x0(){if(!l(this._isDSTShifted))return this._isDSTShifted;var i={},u;return ke(i,this),i=Ip(i),i._a?(u=i._isUTC?T(i._a):Ke(i._a),this._isDSTShifted=this.isValid()&&v0(i._a,u.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function P0(){return this.isValid()?!this._isUTC:!1}function A0(){return this.isValid()?this._isUTC:!1}function Up(){return this.isValid()?this._isUTC&&this._offset===0:!1}var N0=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,C0=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Mr(i,u){var d=i,h=null,m,v,R;return Eo(i)?d={ms:i._milliseconds,d:i._days,M:i._months}:c(i)||!isNaN(+i)?(d={},u?d[u]=+i:d.milliseconds=+i):(h=N0.exec(i))?(m=h[1]==="-"?-1:1,d={y:0,d:ce(h[G])*m,h:ce(h[re])*m,m:ce(h[ue])*m,s:ce(h[jt])*m,ms:ce(xl(h[ss]*1e3))*m}):(h=C0.exec(i))?(m=h[1]==="-"?-1:1,d={y:is(h[2],m),M:is(h[3],m),w:is(h[4],m),d:is(h[5],m),h:is(h[6],m),m:is(h[7],m),s:is(h[8],m)}):d==null?d={}:typeof d=="object"&&("from"in d||"to"in d)&&(R=I0(Ke(d.from),Ke(d.to)),d={},d.ms=R.milliseconds,d.M=R.months),v=new ko(d),Eo(i)&&a(i,"_locale")&&(v._locale=i._locale),Eo(i)&&a(i,"_isValid")&&(v._isValid=i._isValid),v}Mr.fn=ko.prototype,Mr.invalid=b0;function is(i,u){var d=i&&parseFloat(i.replace(",","."));return(isNaN(d)?0:d)*u}function Wp(i,u){var d={};return d.months=u.month()-i.month()+(u.year()-i.year())*12,i.clone().add(d.months,"M").isAfter(u)&&--d.months,d.milliseconds=+u-+i.clone().add(d.months,"M"),d}function I0(i,u){var d;return i.isValid()&&u.isValid()?(u=Al(u,i),i.isBefore(u)?d=Wp(i,u):(d=Wp(u,i),d.milliseconds=-d.milliseconds,d.months=-d.months),d):{milliseconds:0,months:0}}function qp(i,u){return function(d,h){var m,v;return h!==null&&!isNaN(+h)&&(gt(u,"moment()."+u+"(period, number) is deprecated. Please use moment()."+u+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),v=d,d=h,h=v),m=Mr(d,h),jp(this,m,i),this}}function jp(i,u,d,h){var m=u._milliseconds,v=xl(u._days),R=xl(u._months);!i.isValid()||(h=h==null?!0:h,R&&kp(i,xt(i,"Month")+R*d),v&&es(i,"Date",xt(i,"Date")+v*d),m&&i._d.setTime(i._d.valueOf()+m*d),h&&e.updateOffset(i,v||R))}var F0=qp(1,"add"),L0=qp(-1,"subtract");function $p(i){return typeof i=="string"||i instanceof String}function Y0(i){return be(i)||f(i)||$p(i)||c(i)||W0(i)||U0(i)||i===null||i===void 0}function U0(i){var u=s(i)&&!o(i),d=!1,h=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],m,v,R=h.length;for(m=0;m<R;m+=1)v=h[m],d=d||a(i,v);return u&&d}function W0(i){var u=n(i),d=!1;return u&&(d=i.filter(function(h){return!c(h)&&$p(i)}).length===0),u&&d}function q0(i){var u=s(i)&&!o(i),d=!1,h=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],m,v;for(m=0;m<h.length;m+=1)v=h[m],d=d||a(i,v);return u&&d}function j0(i,u){var d=i.diff(u,"days",!0);return d<-6?"sameElse":d<-1?"lastWeek":d<0?"lastDay":d<1?"sameDay":d<2?"nextDay":d<7?"nextWeek":"sameElse"}function $0(i,u){arguments.length===1&&(arguments[0]?Y0(arguments[0])?(i=arguments[0],u=void 0):q0(arguments[0])&&(u=arguments[0],i=void 0):(i=void 0,u=void 0));var d=i||Ke(),h=Al(d,this).startOf("day"),m=e.calendarFormat(this,h)||"sameElse",v=u&&(V(u[m])?u[m].call(this,d):u[m]);return this.format(v||this.localeData().calendar(m,this,Ke(d)))}function G0(){return new Te(this)}function H0(i,u){var d=be(i)?i:Ke(i);return this.isValid()&&d.isValid()?(u=_t(u)||"millisecond",u==="millisecond"?this.valueOf()>d.valueOf():d.valueOf()<this.clone().startOf(u).valueOf()):!1}function B0(i,u){var d=be(i)?i:Ke(i);return this.isValid()&&d.isValid()?(u=_t(u)||"millisecond",u==="millisecond"?this.valueOf()<d.valueOf():this.clone().endOf(u).valueOf()<d.valueOf()):!1}function z0(i,u,d,h){var m=be(i)?i:Ke(i),v=be(u)?u:Ke(u);return this.isValid()&&m.isValid()&&v.isValid()?(h=h||"()",(h[0]==="("?this.isAfter(m,d):!this.isBefore(m,d))&&(h[1]===")"?this.isBefore(v,d):!this.isAfter(v,d))):!1}function V0(i,u){var d=be(i)?i:Ke(i),h;return this.isValid()&&d.isValid()?(u=_t(u)||"millisecond",u==="millisecond"?this.valueOf()===d.valueOf():(h=d.valueOf(),this.clone().startOf(u).valueOf()<=h&&h<=this.clone().endOf(u).valueOf())):!1}function K0(i,u){return this.isSame(i,u)||this.isAfter(i,u)}function Z0(i,u){return this.isSame(i,u)||this.isBefore(i,u)}function X0(i,u,d){var h,m,v;if(!this.isValid())return NaN;if(h=Al(i,this),!h.isValid())return NaN;switch(m=(h.utcOffset()-this.utcOffset())*6e4,u=_t(u),u){case"year":v=Do(this,h)/12;break;case"month":v=Do(this,h);break;case"quarter":v=Do(this,h)/3;break;case"second":v=(this-h)/1e3;break;case"minute":v=(this-h)/6e4;break;case"hour":v=(this-h)/36e5;break;case"day":v=(this-h-m)/864e5;break;case"week":v=(this-h-m)/6048e5;break;default:v=this-h}return d?v:ht(v)}function Do(i,u){if(i.date()<u.date())return-Do(u,i);var d=(u.year()-i.year())*12+(u.month()-i.month()),h=i.clone().add(d,"months"),m,v;return u-h<0?(m=i.clone().add(d-1,"months"),v=(u-h)/(h-m)):(m=i.clone().add(d+1,"months"),v=(u-h)/(m-h)),-(d+v)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Q0(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function J0(i){if(!this.isValid())return null;var u=i!==!0,d=u?this.clone().utc():this;return d.year()<0||d.year()>9999?N(d,u?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):V(Date.prototype.toISOString)?u?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",N(d,"Z")):N(d,u?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function e1(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var i="moment",u="",d,h,m,v;return this.isLocal()||(i=this.utcOffset()===0?"moment.utc":"moment.parseZone",u="Z"),d="["+i+'("]',h=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",m="-MM-DD[T]HH:mm:ss.SSS",v=u+'[")]',this.format(d+h+m+v)}function t1(i){i||(i=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var u=N(this,i);return this.localeData().postformat(u)}function r1(i,u){return this.isValid()&&(be(i)&&i.isValid()||Ke(i).isValid())?Mr({to:this,from:i}).locale(this.locale()).humanize(!u):this.localeData().invalidDate()}function n1(i){return this.from(Ke(),i)}function s1(i,u){return this.isValid()&&(be(i)&&i.isValid()||Ke(i).isValid())?Mr({from:this,to:i}).locale(this.locale()).humanize(!u):this.localeData().invalidDate()}function i1(i){return this.to(Ke(),i)}function Gp(i){var u;return i===void 0?this._locale._abbr:(u=tn(i),u!=null&&(this._locale=u),this)}var Hp=ne("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(i){return i===void 0?this.localeData():this.locale(i)});function Bp(){return this._locale}var So=1e3,$s=60*So,Oo=60*$s,zp=(365*400+97)*24*Oo;function Gs(i,u){return(i%u+u)%u}function Vp(i,u,d){return i<100&&i>=0?new Date(i+400,u,d)-zp:new Date(i,u,d).valueOf()}function Kp(i,u,d){return i<100&&i>=0?Date.UTC(i+400,u,d)-zp:Date.UTC(i,u,d)}function a1(i){var u,d;if(i=_t(i),i===void 0||i==="millisecond"||!this.isValid())return this;switch(d=this._isUTC?Kp:Vp,i){case"year":u=d(this.year(),0,1);break;case"quarter":u=d(this.year(),this.month()-this.month()%3,1);break;case"month":u=d(this.year(),this.month(),1);break;case"week":u=d(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":u=d(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":u=d(this.year(),this.month(),this.date());break;case"hour":u=this._d.valueOf(),u-=Gs(u+(this._isUTC?0:this.utcOffset()*$s),Oo);break;case"minute":u=this._d.valueOf(),u-=Gs(u,$s);break;case"second":u=this._d.valueOf(),u-=Gs(u,So);break}return this._d.setTime(u),e.updateOffset(this,!0),this}function o1(i){var u,d;if(i=_t(i),i===void 0||i==="millisecond"||!this.isValid())return this;switch(d=this._isUTC?Kp:Vp,i){case"year":u=d(this.year()+1,0,1)-1;break;case"quarter":u=d(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":u=d(this.year(),this.month()+1,1)-1;break;case"week":u=d(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":u=d(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":u=d(this.year(),this.month(),this.date()+1)-1;break;case"hour":u=this._d.valueOf(),u+=Oo-Gs(u+(this._isUTC?0:this.utcOffset()*$s),Oo)-1;break;case"minute":u=this._d.valueOf(),u+=$s-Gs(u,$s)-1;break;case"second":u=this._d.valueOf(),u+=So-Gs(u,So)-1;break}return this._d.setTime(u),e.updateOffset(this,!0),this}function u1(){return this._d.valueOf()-(this._offset||0)*6e4}function l1(){return Math.floor(this.valueOf()/1e3)}function c1(){return new Date(this.valueOf())}function d1(){var i=this;return[i.year(),i.month(),i.date(),i.hour(),i.minute(),i.second(),i.millisecond()]}function f1(){var i=this;return{years:i.year(),months:i.month(),date:i.date(),hours:i.hours(),minutes:i.minutes(),seconds:i.seconds(),milliseconds:i.milliseconds()}}function h1(){return this.isValid()?this.toISOString():null}function p1(){return I(this)}function m1(){return g({},b(this))}function y1(){return b(this).overflow}function g1(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}E("N",0,0,"eraAbbr"),E("NN",0,0,"eraAbbr"),E("NNN",0,0,"eraAbbr"),E("NNNN",0,0,"eraName"),E("NNNNN",0,0,"eraNarrow"),E("y",["y",1],"yo","eraYear"),E("y",["yy",2],0,"eraYear"),E("y",["yyy",3],0,"eraYear"),E("y",["yyyy",4],0,"eraYear"),B("N",Cl),B("NN",Cl),B("NNN",Cl),B("NNNN",M1),B("NNNNN",R1),Pe(["N","NN","NNN","NNNN","NNNNN"],function(i,u,d,h){var m=d._locale.erasParse(i,h,d._strict);m?b(d).era=m:b(d).invalidEra=i}),B("y",fr),B("yy",fr),B("yyy",fr),B("yyyy",fr),B("yo",x1),Pe(["y","yy","yyy","yyyy"],tt),Pe(["yo"],function(i,u,d,h){var m;d._locale._eraYearOrdinalRegex&&(m=i.match(d._locale._eraYearOrdinalRegex)),d._locale.eraYearOrdinalParse?u[tt]=d._locale.eraYearOrdinalParse(i,m):u[tt]=parseInt(i,10)});function _1(i,u){var d,h,m,v=this._eras||tn("en")._eras;for(d=0,h=v.length;d<h;++d){switch(typeof v[d].since){case"string":m=e(v[d].since).startOf("day"),v[d].since=m.valueOf();break}switch(typeof v[d].until){case"undefined":v[d].until=1/0;break;case"string":m=e(v[d].until).startOf("day").valueOf(),v[d].until=m.valueOf();break}}return v}function T1(i,u,d){var h,m,v=this.eras(),R,te,me;for(i=i.toUpperCase(),h=0,m=v.length;h<m;++h)if(R=v[h].name.toUpperCase(),te=v[h].abbr.toUpperCase(),me=v[h].narrow.toUpperCase(),d)switch(u){case"N":case"NN":case"NNN":if(te===i)return v[h];break;case"NNNN":if(R===i)return v[h];break;case"NNNNN":if(me===i)return v[h];break}else if([R,te,me].indexOf(i)>=0)return v[h]}function b1(i,u){var d=i.since<=i.until?1:-1;return u===void 0?e(i.since).year():e(i.since).year()+(u-i.offset)*d}function v1(){var i,u,d,h=this.localeData().eras();for(i=0,u=h.length;i<u;++i)if(d=this.clone().startOf("day").valueOf(),h[i].since<=d&&d<=h[i].until||h[i].until<=d&&d<=h[i].since)return h[i].name;return""}function w1(){var i,u,d,h=this.localeData().eras();for(i=0,u=h.length;i<u;++i)if(d=this.clone().startOf("day").valueOf(),h[i].since<=d&&d<=h[i].until||h[i].until<=d&&d<=h[i].since)return h[i].narrow;return""}function k1(){var i,u,d,h=this.localeData().eras();for(i=0,u=h.length;i<u;++i)if(d=this.clone().startOf("day").valueOf(),h[i].since<=d&&d<=h[i].until||h[i].until<=d&&d<=h[i].since)return h[i].abbr;return""}function E1(){var i,u,d,h,m=this.localeData().eras();for(i=0,u=m.length;i<u;++i)if(d=m[i].since<=m[i].until?1:-1,h=this.clone().startOf("day").valueOf(),m[i].since<=h&&h<=m[i].until||m[i].until<=h&&h<=m[i].since)return(this.year()-e(m[i].since).year())*d+m[i].offset;return this.year()}function D1(i){return a(this,"_erasNameRegex")||Il.call(this),i?this._erasNameRegex:this._erasRegex}function S1(i){return a(this,"_erasAbbrRegex")||Il.call(this),i?this._erasAbbrRegex:this._erasRegex}function O1(i){return a(this,"_erasNarrowRegex")||Il.call(this),i?this._erasNarrowRegex:this._erasRegex}function Cl(i,u){return u.erasAbbrRegex(i)}function M1(i,u){return u.erasNameRegex(i)}function R1(i,u){return u.erasNarrowRegex(i)}function x1(i,u){return u._eraYearOrdinalRegex||fr}function Il(){var i=[],u=[],d=[],h=[],m,v,R=this.eras();for(m=0,v=R.length;m<v;++m)u.push(pt(R[m].name)),i.push(pt(R[m].abbr)),d.push(pt(R[m].narrow)),h.push(pt(R[m].name)),h.push(pt(R[m].abbr)),h.push(pt(R[m].narrow));this._erasRegex=new RegExp("^("+h.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+u.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+d.join("|")+")","i")}E(0,["gg",2],0,function(){return this.weekYear()%100}),E(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Mo(i,u){E(0,[i,i.length],0,u)}Mo("gggg","weekYear"),Mo("ggggg","weekYear"),Mo("GGGG","isoWeekYear"),Mo("GGGGG","isoWeekYear"),ft("weekYear","gg"),ft("isoWeekYear","GG"),$e("weekYear",1),$e("isoWeekYear",1),B("G",xn),B("g",xn),B("GG",Le,Tt),B("gg",Le,Tt),B("GGGG",Rn,dr),B("gggg",Rn,dr),B("GGGGG",rs,Qr),B("ggggg",rs,Qr),mr(["gggg","ggggg","GGGG","GGGGG"],function(i,u,d,h){u[h.substr(0,2)]=ce(i)}),mr(["gg","GG"],function(i,u,d,h){u[h]=e.parseTwoDigitYear(i)});function P1(i){return Zp.call(this,i,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function A1(i){return Zp.call(this,i,this.isoWeek(),this.isoWeekday(),1,4)}function N1(){return en(this.year(),1,4)}function C1(){return en(this.isoWeekYear(),1,4)}function I1(){var i=this.localeData()._week;return en(this.year(),i.dow,i.doy)}function F1(){var i=this.localeData()._week;return en(this.weekYear(),i.dow,i.doy)}function Zp(i,u,d,h,m){var v;return i==null?qi(this,h,m).year:(v=en(i,h,m),u>v&&(u=v),L1.call(this,i,u,d,h,m))}function L1(i,u,d,h,m){var v=Op(i,u,d,h,m),R=Wi(v.year,0,v.dayOfYear);return this.year(R.getUTCFullYear()),this.month(R.getUTCMonth()),this.date(R.getUTCDate()),this}E("Q",0,"Qo","quarter"),ft("quarter","Q"),$e("quarter",7),B("Q",On),Pe("Q",function(i,u){u[Je]=(ce(i)-1)*3});function Y1(i){return i==null?Math.ceil((this.month()+1)/3):this.month((i-1)*3+this.month()%3)}E("D",["DD",2],"Do","date"),ft("date","D"),$e("date",9),B("D",Le),B("DD",Le,Tt),B("Do",function(i,u){return i?u._dayOfMonthOrdinalParse||u._ordinalParse:u._dayOfMonthOrdinalParseLenient}),Pe(["D","DD"],G),Pe("Do",function(i,u){u[G]=ce(i.match(Le)[0])});var Xp=Xr("Date",!0);E("DDD",["DDDD",3],"DDDo","dayOfYear"),ft("dayOfYear","DDD"),$e("dayOfYear",4),B("DDD",ts),B("DDDD",Yi),Pe(["DDD","DDDD"],function(i,u,d){d._dayOfYear=ce(i)});function U1(i){var u=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return i==null?u:this.add(i-u,"d")}E("m",["mm",2],0,"minute"),ft("minute","m"),$e("minute",14),B("m",Le),B("mm",Le,Tt),Pe(["m","mm"],ue);var W1=Xr("Minutes",!1);E("s",["ss",2],0,"second"),ft("second","s"),$e("second",15),B("s",Le),B("ss",Le,Tt),Pe(["s","ss"],jt);var q1=Xr("Seconds",!1);E("S",0,0,function(){return~~(this.millisecond()/100)}),E(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),E(0,["SSS",3],0,"millisecond"),E(0,["SSSS",4],0,function(){return this.millisecond()*10}),E(0,["SSSSS",5],0,function(){return this.millisecond()*100}),E(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),E(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),E(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),E(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),ft("millisecond","ms"),$e("millisecond",16),B("S",ts,On),B("SS",ts,Tt),B("SSS",ts,Yi);var An,Qp;for(An="SSSS";An.length<=9;An+="S")B(An,fr);function j1(i,u){u[ss]=ce(("0."+i)*1e3)}for(An="S";An.length<=9;An+="S")Pe(An,j1);Qp=Xr("Milliseconds",!1),E("z",0,0,"zoneAbbr"),E("zz",0,0,"zoneName");function $1(){return this._isUTC?"UTC":""}function G1(){return this._isUTC?"Coordinated Universal Time":""}var F=Te.prototype;F.add=F0,F.calendar=$0,F.clone=G0,F.diff=X0,F.endOf=o1,F.format=t1,F.from=r1,F.fromNow=n1,F.to=s1,F.toNow=i1,F.get=mo,F.invalidAt=y1,F.isAfter=H0,F.isBefore=B0,F.isBetween=z0,F.isSame=V0,F.isSameOrAfter=K0,F.isSameOrBefore=Z0,F.isValid=p1,F.lang=Hp,F.locale=Gp,F.localeData=Bp,F.max=p0,F.min=h0,F.parsingFlags=m1,F.set=Ur,F.startOf=a1,F.subtract=L0,F.toArray=d1,F.toObject=f1,F.toDate=c1,F.toISOString=J0,F.inspect=e1,typeof Symbol!="undefined"&&Symbol.for!=null&&(F[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),F.toJSON=h1,F.toString=Q0,F.unix=l1,F.valueOf=u1,F.creationData=g1,F.eraName=v1,F.eraNarrow=w1,F.eraAbbr=k1,F.eraYear=E1,F.year=Sp,F.isLeapYear=fw,F.weekYear=P1,F.isoWeekYear=A1,F.quarter=F.quarters=Y1,F.month=Ep,F.daysInMonth=lw,F.week=F.weeks=_w,F.isoWeek=F.isoWeeks=Tw,F.weeksInYear=I1,F.weeksInWeekYear=F1,F.isoWeeksInYear=N1,F.isoWeeksInISOWeekYear=C1,F.date=Xp,F.day=F.days=Aw,F.weekday=Nw,F.isoWeekday=Cw,F.dayOfYear=U1,F.hour=F.hours=qw,F.minute=F.minutes=W1,F.second=F.seconds=q1,F.millisecond=F.milliseconds=Qp,F.utcOffset=k0,F.utc=D0,F.local=S0,F.parseZone=O0,F.hasAlignedHourOffset=M0,F.isDST=R0,F.isLocal=P0,F.isUtcOffset=A0,F.isUtc=Up,F.isUTC=Up,F.zoneAbbr=$1,F.zoneName=G1,F.dates=ne("dates accessor is deprecated. Use date instead.",Xp),F.months=ne("months accessor is deprecated. Use month instead",Ep),F.years=ne("years accessor is deprecated. Use year instead",Sp),F.zone=ne("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",E0),F.isDSTShifted=ne("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",x0);function H1(i){return Ke(i*1e3)}function B1(){return Ke.apply(null,arguments).parseZone()}function Jp(i){return i}var Me=J.prototype;Me.calendar=y,Me.longDateFormat=pe,Me.invalidDate=Ce,Me.ordinal=Qe,Me.preparse=Jp,Me.postformat=Jp,Me.relativeTime=Or,Me.pastFuture=at,Me.set=q,Me.eras=_1,Me.erasParse=T1,Me.erasConvertYear=b1,Me.erasAbbrRegex=S1,Me.erasNameRegex=D1,Me.erasNarrowRegex=O1,Me.months=iw,Me.monthsShort=aw,Me.monthsParse=uw,Me.monthsRegex=dw,Me.monthsShortRegex=cw,Me.week=pw,Me.firstDayOfYear=gw,Me.firstDayOfWeek=yw,Me.weekdays=Ow,Me.weekdaysMin=Rw,Me.weekdaysShort=Mw,Me.weekdaysParse=Pw,Me.weekdaysRegex=Iw,Me.weekdaysShortRegex=Fw,Me.weekdaysMinRegex=Lw,Me.isPM=Uw,Me.meridiem=jw;function Ro(i,u,d,h){var m=tn(),v=T().set(h,u);return m[d](v,i)}function em(i,u,d){if(c(i)&&(u=i,i=void 0),i=i||"",u!=null)return Ro(i,u,d,"month");var h,m=[];for(h=0;h<12;h++)m[h]=Ro(i,h,d,"month");return m}function Fl(i,u,d,h){typeof i=="boolean"?(c(u)&&(d=u,u=void 0),u=u||""):(u=i,d=u,i=!1,c(u)&&(d=u,u=void 0),u=u||"");var m=tn(),v=i?m._week.dow:0,R,te=[];if(d!=null)return Ro(u,(d+v)%7,h,"day");for(R=0;R<7;R++)te[R]=Ro(u,(R+v)%7,h,"day");return te}function z1(i,u){return em(i,u,"months")}function V1(i,u){return em(i,u,"monthsShort")}function K1(i,u,d){return Fl(i,u,d,"weekdays")}function Z1(i,u,d){return Fl(i,u,d,"weekdaysShort")}function X1(i,u,d){return Fl(i,u,d,"weekdaysMin")}Pn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(i){var u=i%10,d=ce(i%100/10)===1?"th":u===1?"st":u===2?"nd":u===3?"rd":"th";return i+d}}),e.lang=ne("moment.lang is deprecated. Use moment.locale instead.",Pn),e.langData=ne("moment.langData is deprecated. Use moment.localeData instead.",tn);var rn=Math.abs;function Q1(){var i=this._data;return this._milliseconds=rn(this._milliseconds),this._days=rn(this._days),this._months=rn(this._months),i.milliseconds=rn(i.milliseconds),i.seconds=rn(i.seconds),i.minutes=rn(i.minutes),i.hours=rn(i.hours),i.months=rn(i.months),i.years=rn(i.years),this}function tm(i,u,d,h){var m=Mr(u,d);return i._milliseconds+=h*m._milliseconds,i._days+=h*m._days,i._months+=h*m._months,i._bubble()}function J1(i,u){return tm(this,i,u,1)}function ek(i,u){return tm(this,i,u,-1)}function rm(i){return i<0?Math.floor(i):Math.ceil(i)}function tk(){var i=this._milliseconds,u=this._days,d=this._months,h=this._data,m,v,R,te,me;return i>=0&&u>=0&&d>=0||i<=0&&u<=0&&d<=0||(i+=rm(Ll(d)+u)*864e5,u=0,d=0),h.milliseconds=i%1e3,m=ht(i/1e3),h.seconds=m%60,v=ht(m/60),h.minutes=v%60,R=ht(v/60),h.hours=R%24,u+=ht(R/24),me=ht(nm(u)),d+=me,u-=rm(Ll(me)),te=ht(d/12),d%=12,h.days=u,h.months=d,h.years=te,this}function nm(i){return i*4800/146097}function Ll(i){return i*146097/4800}function rk(i){if(!this.isValid())return NaN;var u,d,h=this._milliseconds;if(i=_t(i),i==="month"||i==="quarter"||i==="year")switch(u=this._days+h/864e5,d=this._months+nm(u),i){case"month":return d;case"quarter":return d/3;case"year":return d/12}else switch(u=this._days+Math.round(Ll(this._months)),i){case"week":return u/7+h/6048e5;case"day":return u+h/864e5;case"hour":return u*24+h/36e5;case"minute":return u*1440+h/6e4;case"second":return u*86400+h/1e3;case"millisecond":return Math.floor(u*864e5)+h;default:throw new Error("Unknown unit "+i)}}function nk(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+ce(this._months/12)*31536e6:NaN}function nn(i){return function(){return this.as(i)}}var sk=nn("ms"),ik=nn("s"),ak=nn("m"),ok=nn("h"),uk=nn("d"),lk=nn("w"),ck=nn("M"),dk=nn("Q"),fk=nn("y");function hk(){return Mr(this)}function pk(i){return i=_t(i),this.isValid()?this[i+"s"]():NaN}function as(i){return function(){return this.isValid()?this._data[i]:NaN}}var mk=as("milliseconds"),yk=as("seconds"),gk=as("minutes"),_k=as("hours"),Tk=as("days"),bk=as("months"),vk=as("years");function wk(){return ht(this.days()/7)}var sn=Math.round,Hs={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function kk(i,u,d,h,m){return m.relativeTime(u||1,!!d,i,h)}function Ek(i,u,d,h){var m=Mr(i).abs(),v=sn(m.as("s")),R=sn(m.as("m")),te=sn(m.as("h")),me=sn(m.as("d")),Ye=sn(m.as("M")),$t=sn(m.as("w")),an=sn(m.as("y")),Nn=v<=d.ss&&["s",v]||v<d.s&&["ss",v]||R<=1&&["m"]||R<d.m&&["mm",R]||te<=1&&["h"]||te<d.h&&["hh",te]||me<=1&&["d"]||me<d.d&&["dd",me];return d.w!=null&&(Nn=Nn||$t<=1&&["w"]||$t<d.w&&["ww",$t]),Nn=Nn||Ye<=1&&["M"]||Ye<d.M&&["MM",Ye]||an<=1&&["y"]||["yy",an],Nn[2]=u,Nn[3]=+i>0,Nn[4]=h,kk.apply(null,Nn)}function Dk(i){return i===void 0?sn:typeof i=="function"?(sn=i,!0):!1}function Sk(i,u){return Hs[i]===void 0?!1:u===void 0?Hs[i]:(Hs[i]=u,i==="s"&&(Hs.ss=u-1),!0)}function Ok(i,u){if(!this.isValid())return this.localeData().invalidDate();var d=!1,h=Hs,m,v;return typeof i=="object"&&(u=i,i=!1),typeof i=="boolean"&&(d=i),typeof u=="object"&&(h=Object.assign({},Hs,u),u.s!=null&&u.ss==null&&(h.ss=u.s-1)),m=this.localeData(),v=Ek(this,!d,h,m),d&&(v=m.pastFuture(+this,v)),m.postformat(v)}var Yl=Math.abs;function Bs(i){return(i>0)-(i<0)||+i}function xo(){if(!this.isValid())return this.localeData().invalidDate();var i=Yl(this._milliseconds)/1e3,u=Yl(this._days),d=Yl(this._months),h,m,v,R,te=this.asSeconds(),me,Ye,$t,an;return te?(h=ht(i/60),m=ht(h/60),i%=60,h%=60,v=ht(d/12),d%=12,R=i?i.toFixed(3).replace(/\.?0+$/,""):"",me=te<0?"-":"",Ye=Bs(this._months)!==Bs(te)?"-":"",$t=Bs(this._days)!==Bs(te)?"-":"",an=Bs(this._milliseconds)!==Bs(te)?"-":"",me+"P"+(v?Ye+v+"Y":"")+(d?Ye+d+"M":"")+(u?$t+u+"D":"")+(m||h||i?"T":"")+(m?an+m+"H":"")+(h?an+h+"M":"")+(i?an+R+"S":"")):"P0D"}var Oe=ko.prototype;Oe.isValid=T0,Oe.abs=Q1,Oe.add=J1,Oe.subtract=ek,Oe.as=rk,Oe.asMilliseconds=sk,Oe.asSeconds=ik,Oe.asMinutes=ak,Oe.asHours=ok,Oe.asDays=uk,Oe.asWeeks=lk,Oe.asMonths=ck,Oe.asQuarters=dk,Oe.asYears=fk,Oe.valueOf=nk,Oe._bubble=tk,Oe.clone=hk,Oe.get=pk,Oe.milliseconds=mk,Oe.seconds=yk,Oe.minutes=gk,Oe.hours=_k,Oe.days=Tk,Oe.weeks=wk,Oe.months=bk,Oe.years=vk,Oe.humanize=Ok,Oe.toISOString=xo,Oe.toString=xo,Oe.toJSON=xo,Oe.locale=Gp,Oe.localeData=Bp,Oe.toIsoString=ne("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",xo),Oe.lang=Hp,E("X",0,0,"unix"),E("x",0,0,"valueOf"),B("x",xn),B("X",go),Pe("X",function(i,u,d){d._d=new Date(parseFloat(i)*1e3)}),Pe("x",function(i,u,d){d._d=new Date(ce(i))});return e.version="2.29.4",t(Ke),e.fn=F,e.min=m0,e.max=y0,e.now=g0,e.utc=T,e.unix=H1,e.months=z1,e.isDate=f,e.locale=Pn,e.invalid=$,e.duration=Mr,e.isMoment=be,e.weekdays=K1,e.parseZone=B1,e.localeData=tn,e.isDuration=Eo,e.monthsShort=V1,e.weekdaysMin=X1,e.defineLocale=Dl,e.updateLocale=Bw,e.locales=zw,e.weekdaysShort=Z1,e.normalizeUnits=_t,e.relativeTimeRounding=Dk,e.relativeTimeThreshold=Sk,e.calendarFormat=j0,e.prototype=F,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e})});var ab=S((gY,Ru)=>{var UT,WT,qT,jT,$T,GT,HT,BT,zT,Ou,Ah,VT,KT,ZT,fi,XT,QT,JT,eb,tb,rb,nb,sb,ib,Mu;(function(r){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){r(t(e,t(n)))}):typeof Ru=="object"&&typeof Ru.exports=="object"?r(t(e,t(Ru.exports))):r(t(e));function t(n,s){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(a,o){return n[a]=s?s(a,o):o}}})(function(r){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])};UT=function(n,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");e(n,s);function a(){this.constructor=n}n.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)},WT=Object.assign||function(n){for(var s,a=1,o=arguments.length;a<o;a++){s=arguments[a];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(n[l]=s[l])}return n},qT=function(n,s){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&s.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)s.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(a[o[l]]=n[o[l]]);return a},jT=function(n,s,a,o){var l=arguments.length,c=l<3?s:o===null?o=Object.getOwnPropertyDescriptor(s,a):o,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(n,s,a,o);else for(var p=n.length-1;p>=0;p--)(f=n[p])&&(c=(l<3?f(c):l>3?f(s,a,c):f(s,a))||c);return l>3&&c&&Object.defineProperty(s,a,c),c},$T=function(n,s){return function(a,o){s(a,o,n)}},GT=function(n,s){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,s)},HT=function(n,s,a,o){function l(c){return c instanceof a?c:new a(function(f){f(c)})}return new(a||(a=Promise))(function(c,f){function p(O){try{T(o.next(O))}catch(b){f(b)}}function g(O){try{T(o.throw(O))}catch(b){f(b)}}function T(O){O.done?c(O.value):l(O.value).then(p,g)}T((o=o.apply(n,s||[])).next())})},BT=function(n,s){var a={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,f;return f={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function p(T){return function(O){return g([T,O])}}function g(T){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,l&&(c=T[0]&2?l.return:T[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,T[1])).done)return c;switch(l=0,c&&(T=[T[0]&2,c.value]),T[0]){case 0:case 1:c=T;break;case 4:return a.label++,{value:T[1],done:!1};case 5:a.label++,l=T[1],T=[0];continue;case 7:T=a.ops.pop(),a.trys.pop();continue;default:if(c=a.trys,!(c=c.length>0&&c[c.length-1])&&(T[0]===6||T[0]===2)){a=0;continue}if(T[0]===3&&(!c||T[1]>c[0]&&T[1]<c[3])){a.label=T[1];break}if(T[0]===6&&a.label<c[1]){a.label=c[1],c=T;break}if(c&&a.label<c[2]){a.label=c[2],a.ops.push(T);break}c[2]&&a.ops.pop(),a.trys.pop();continue}T=s.call(n,a)}catch(O){T=[6,O],l=0}finally{o=c=0}if(T[0]&5)throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}},zT=function(n,s){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(s,a)&&Mu(s,n,a)},Mu=Object.create?function(n,s,a,o){o===void 0&&(o=a);var l=Object.getOwnPropertyDescriptor(s,a);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[a]}}),Object.defineProperty(n,o,l)}:function(n,s,a,o){o===void 0&&(o=a),n[o]=s[a]},Ou=function(n){var s=typeof Symbol=="function"&&Symbol.iterator,a=s&&n[s],o=0;if(a)return a.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},Ah=function(n,s){var a=typeof Symbol=="function"&&n[Symbol.iterator];if(!a)return n;var o=a.call(n),l,c=[],f;try{for(;(s===void 0||s-- >0)&&!(l=o.next()).done;)c.push(l.value)}catch(p){f={error:p}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(f)throw f.error}}return c},VT=function(){for(var n=[],s=0;s<arguments.length;s++)n=n.concat(Ah(arguments[s]));return n},KT=function(){for(var n=0,s=0,a=arguments.length;s<a;s++)n+=arguments[s].length;for(var o=Array(n),l=0,s=0;s<a;s++)for(var c=arguments[s],f=0,p=c.length;f<p;f++,l++)o[l]=c[f];return o},ZT=function(n,s,a){if(a||arguments.length===2)for(var o=0,l=s.length,c;o<l;o++)(c||!(o in s))&&(c||(c=Array.prototype.slice.call(s,0,o)),c[o]=s[o]);return n.concat(c||Array.prototype.slice.call(s))},fi=function(n){return this instanceof fi?(this.v=n,this):new fi(n)},XT=function(n,s,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=a.apply(n,s||[]),l,c=[];return l={},f("next"),f("throw"),f("return"),l[Symbol.asyncIterator]=function(){return this},l;function f(x){o[x]&&(l[x]=function(I){return new Promise(function($,H){c.push([x,I,$,H])>1||p(x,I)})})}function p(x,I){try{g(o[x](I))}catch($){b(c[0][3],$)}}function g(x){x.value instanceof fi?Promise.resolve(x.value.v).then(T,O):b(c[0][2],x)}function T(x){p("next",x)}function O(x){p("throw",x)}function b(x,I){x(I),c.shift(),c.length&&p(c[0][0],c[0][1])}},QT=function(n){var s,a;return s={},o("next"),o("throw",function(l){throw l}),o("return"),s[Symbol.iterator]=function(){return this},s;function o(l,c){s[l]=n[l]?function(f){return(a=!a)?{value:fi(n[l](f)),done:l==="return"}:c?c(f):f}:c}},JT=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n[Symbol.asyncIterator],a;return s?s.call(n):(n=typeof Ou=="function"?Ou(n):n[Symbol.iterator](),a={},o("next"),o("throw"),o("return"),a[Symbol.asyncIterator]=function(){return this},a);function o(c){a[c]=n[c]&&function(f){return new Promise(function(p,g){f=n[c](f),l(p,g,f.done,f.value)})}}function l(c,f,p,g){Promise.resolve(g).then(function(T){c({value:T,done:p})},f)}},eb=function(n,s){return Object.defineProperty?Object.defineProperty(n,"raw",{value:s}):n.raw=s,n};var t=Object.create?function(n,s){Object.defineProperty(n,"default",{enumerable:!0,value:s})}:function(n,s){n.default=s};tb=function(n){if(n&&n.__esModule)return n;var s={};if(n!=null)for(var a in n)a!=="default"&&Object.prototype.hasOwnProperty.call(n,a)&&Mu(s,n,a);return t(s,n),s},rb=function(n){return n&&n.__esModule?n:{default:n}},nb=function(n,s,a,o){if(a==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?n!==s||!o:!s.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?o:a==="a"?o.call(n):o?o.value:s.get(n)},sb=function(n,s,a,o,l){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?n!==s||!l:!s.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?l.call(n,a):l?l.value=a:s.set(n,a),a},ib=function(n,s){if(s===null||typeof s!="object"&&typeof s!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?s===n:n.has(s)},r("__extends",UT),r("__assign",WT),r("__rest",qT),r("__decorate",jT),r("__param",$T),r("__metadata",GT),r("__awaiter",HT),r("__generator",BT),r("__exportStar",zT),r("__createBinding",Mu),r("__values",Ou),r("__read",Ah),r("__spread",VT),r("__spreadArrays",KT),r("__spreadArray",ZT),r("__await",fi),r("__asyncGenerator",XT),r("__asyncDelegator",QT),r("__asyncValues",JT),r("__makeTemplateObject",eb),r("__importStar",tb),r("__importDefault",rb),r("__classPrivateFieldGet",nb),r("__classPrivateFieldSet",sb),r("__classPrivateFieldIn",ib)})});var Hb=S(($b,Gb)=>{(function(r){var e=Object.hasOwnProperty,t=Array.isArray?Array.isArray:function(_){return Object.prototype.toString.call(_)==="[object Array]"},n=10,s=typeof process=="object"&&typeof process.nextTick=="function",a=typeof Symbol=="function",o=typeof Reflect=="object",l=typeof setImmediate=="function",c=l?setImmediate:setTimeout,f=a?o&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(y){var _=Object.getOwnPropertyNames(y);return _.push.apply(_,Object.getOwnPropertySymbols(y)),_}:Object.keys;function p(){this._events={},this._conf&&g.call(this,this._conf)}function g(y){y&&(this._conf=y,y.delimiter&&(this.delimiter=y.delimiter),y.maxListeners!==r&&(this._maxListeners=y.maxListeners),y.wildcard&&(this.wildcard=y.wildcard),y.newListener&&(this._newListener=y.newListener),y.removeListener&&(this._removeListener=y.removeListener),y.verboseMemoryLeak&&(this.verboseMemoryLeak=y.verboseMemoryLeak),y.ignoreErrors&&(this.ignoreErrors=y.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function T(y,_){var w="(node) warning: possible EventEmitter memory leak detected. "+y+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(w+=" Event name: "+_+"."),typeof process!="undefined"&&process.emitWarning){var k=new Error(w);k.name="MaxListenersExceededWarning",k.emitter=this,k.count=y,process.emitWarning(k)}else console.error(w),console.trace&&console.trace()}var O=function(y,_,w){var k=arguments.length;switch(k){case 0:return[];case 1:return[y];case 2:return[y,_];case 3:return[y,_,w];default:for(var D=new Array(k);k--;)D[k]=arguments[k];return D}};function b(y,_){for(var w={},k,D=y.length,M=_?_.length:0,E=0;E<D;E++)k=y[E],w[k]=E<M?_[E]:r;return w}function x(y,_,w){this._emitter=y,this._target=_,this._listeners={},this._listenersCount=0;var k,D;if((w.on||w.off)&&(k=w.on,D=w.off),_.addEventListener?(k=_.addEventListener,D=_.removeEventListener):_.addListener?(k=_.addListener,D=_.removeListener):_.on&&(k=_.on,D=_.off),!k&&!D)throw Error("target does not implement any known event API");if(typeof k!="function")throw TypeError("on method must be a function");if(typeof D!="function")throw TypeError("off method must be a function");this._on=k,this._off=D;var M=y._observers;M?M.push(this):y._observers=[this]}Object.assign(x.prototype,{subscribe:function(y,_,w){var k=this,D=this._target,M=this._emitter,E=this._listeners,C=function(){var A=O.apply(null,arguments),N={data:A,name:_,original:y};if(w){var j=w.call(D,N);j!==!1&&M.emit.apply(M,[N.name].concat(A));return}M.emit.apply(M,[_].concat(A))};if(E[y])throw Error("Event '"+y+"' is already listening");this._listenersCount++,M._newListener&&M._removeListener&&!k._onNewListener?(this._onNewListener=function(A){A===_&&E[y]===null&&(E[y]=C,k._on.call(D,y,C))},M.on("newListener",this._onNewListener),this._onRemoveListener=function(A){A===_&&!M.hasListeners(A)&&E[y]&&(E[y]=null,k._off.call(D,y,C))},E[y]=null,M.on("removeListener",this._onRemoveListener)):(E[y]=C,k._on.call(D,y,C))},unsubscribe:function(y){var _=this,w=this._listeners,k=this._emitter,D,M,E=this._off,C=this._target,A;if(y&&typeof y!="string")throw TypeError("event must be a string");function N(){_._onNewListener&&(k.off("newListener",_._onNewListener),k.off("removeListener",_._onRemoveListener),_._onNewListener=null,_._onRemoveListener=null);var j=be.call(k,_);k._observers.splice(j,1)}if(y){if(D=w[y],!D)return;E.call(C,y,D),delete w[y],--this._listenersCount||N()}else{for(M=f(w),A=M.length;A-- >0;)y=M[A],E.call(C,y,w[y]);this._listeners={},this._listenersCount=0,N()}}});function I(y,_,w,k){var D=Object.assign({},_);if(!y)return D;if(typeof y!="object")throw TypeError("options must be an object");var M=Object.keys(y),E=M.length,C,A,N;function j(pe){throw Error('Invalid "'+C+'" option value'+(pe?". Reason: "+pe:""))}for(var Ee=0;Ee<E;Ee++){if(C=M[Ee],!k&&!e.call(_,C))throw Error('Unknown "'+C+'" option');A=y[C],A!==r&&(N=w[C],D[C]=N?N(A,j):A)}return D}function $(y,_){return(typeof y!="function"||!y.hasOwnProperty("prototype"))&&_("value must be a constructor"),y}function H(y){var _="value must be type of "+y.join("|"),w=y.length,k=y[0],D=y[1];return w===1?function(M,E){if(typeof M===k)return M;E(_)}:w===2?function(M,E){var C=typeof M;if(C===k||C===D)return M;E(_)}:function(M,E){for(var C=typeof M,A=w;A-- >0;)if(C===y[A])return M;E(_)}}var W=H(["function"]),ke=H(["object","function"]);function Te(y,_,w){var k,D,M=0,E,C=new y(function(A,N,j){w=I(w,{timeout:0,overload:!1},{timeout:function(Ce,K){return Ce*=1,(typeof Ce!="number"||Ce<0||!Number.isFinite(Ce))&&K("timeout must be a positive number"),Ce}}),k=!w.overload&&typeof y.prototype.cancel=="function"&&typeof j=="function";function Ee(){D&&(D=null),M&&(clearTimeout(M),M=0)}var pe=function(Ce){Ee(),A(Ce)},le=function(Ce){Ee(),N(Ce)};k?_(pe,le,j):(D=[function(Ce){le(Ce||Error("canceled"))}],_(pe,le,function(Ce){if(E)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof Ce!="function")throw TypeError("onCancel callback must be a function");D.push(Ce)}),E=!0),w.timeout>0&&(M=setTimeout(function(){var Ce=Error("timeout");Ce.code="ETIMEDOUT",M=0,C.cancel(Ce),N(Ce)},w.timeout))});return k||(C.cancel=function(A){if(!!D){for(var N=D.length,j=1;j<N;j++)D[j](A);D[0](A),D=null}}),C}function be(y){var _=this._observers;if(!_)return-1;for(var w=_.length,k=0;k<w;k++)if(_[k]._target===y)return k;return-1}function ee(y,_,w,k,D){if(!w)return null;if(k===0){var M=typeof _;if(M==="string"){var E,C,A=0,N=0,j=this.delimiter,Ee=j.length;if((C=_.indexOf(j))!==-1){E=new Array(5);do E[A++]=_.slice(N,C),N=C+Ee;while((C=_.indexOf(j,N))!==-1);E[A++]=_.slice(N),_=E,D=A}else _=[_],D=1}else M==="object"?D=_.length:(_=[_],D=1)}var pe=null,le,Ce,K,qe,Qe,dt=_[k],Or=_[k+1],at,je;if(k===D)w._listeners&&(typeof w._listeners=="function"?(y&&y.push(w._listeners),pe=[w]):(y&&y.push.apply(y,w._listeners),pe=[w]));else if(dt==="*"){for(at=f(w),C=at.length;C-- >0;)le=at[C],le!=="_listeners"&&(je=ee(y,_,w[le],k+1,D),je&&(pe?pe.push.apply(pe,je):pe=je));return pe}else if(dt==="**"){for(Qe=k+1===D||k+2===D&&Or==="*",Qe&&w._listeners&&(pe=ee(y,_,w,D,D)),at=f(w),C=at.length;C-- >0;)le=at[C],le!=="_listeners"&&(le==="*"||le==="**"?(w[le]._listeners&&!Qe&&(je=ee(y,_,w[le],D,D),je&&(pe?pe.push.apply(pe,je):pe=je)),je=ee(y,_,w[le],k,D)):le===Or?je=ee(y,_,w[le],k+2,D):je=ee(y,_,w[le],k,D),je&&(pe?pe.push.apply(pe,je):pe=je));return pe}else w[dt]&&(pe=ee(y,_,w[dt],k+1,D));if(Ce=w["*"],Ce&&ee(y,_,Ce,k+1,D),K=w["**"],K)if(k<D)for(K._listeners&&ee(y,_,K,D,D),at=f(K),C=at.length;C-- >0;)le=at[C],le!=="_listeners"&&(le===Or?ee(y,_,K[le],k+2,D):le===dt?ee(y,_,K[le],k+1,D):(qe={},qe[le]=K[le],ee(y,_,{"**":qe},k+1,D)));else K._listeners?ee(y,_,K,D,D):K["*"]&&K["*"]._listeners&&ee(y,_,K["*"],D,D);return pe}function ne(y,_,w){var k=0,D=0,M,E=this.delimiter,C=E.length,A;if(typeof y=="string")if((M=y.indexOf(E))!==-1){A=new Array(5);do A[k++]=y.slice(D,M),D=M+C;while((M=y.indexOf(E,D))!==-1);A[k++]=y.slice(D)}else A=[y],k=1;else A=y,k=y.length;if(k>1){for(M=0;M+1<k;M++)if(A[M]==="**"&&A[M+1]==="**")return}var N=this.listenerTree,j;for(M=0;M<k;M++)if(j=A[M],N=N[j]||(N[j]={}),M===k-1)return N._listeners?(typeof N._listeners=="function"&&(N._listeners=[N._listeners]),w?N._listeners.unshift(_):N._listeners.push(_),!N._listeners.warned&&this._maxListeners>0&&N._listeners.length>this._maxListeners&&(N._listeners.warned=!0,T.call(this,N._listeners.length,j))):N._listeners=_,!0;return!0}function Ft(y,_,w,k){for(var D=f(y),M=D.length,E,C,A,N=y._listeners,j;M-- >0;)C=D[M],E=y[C],C==="_listeners"?A=w:A=w?w.concat(C):[C],j=k||typeof C=="symbol",N&&_.push(j?A:A.join(this.delimiter)),typeof E=="object"&&Ft.call(this,E,_,A,j);return _}function gt(y){for(var _=f(y),w=_.length,k,D,M;w-- >0;)D=_[w],k=y[D],k&&(M=!0,D!=="_listeners"&&!gt(k)&&delete y[D]);return M}function V(y,_,w){this.emitter=y,this.event=_,this.listener=w}V.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function q(y,_,w){if(w===!0)D=!0;else if(w===!1)k=!0;else{if(!w||typeof w!="object")throw TypeError("options should be an object or true");var k=w.async,D=w.promisify,M=w.nextTick,E=w.objectify}if(k||M||D){var C=_,A=_._origin||_;if(M&&!s)throw Error("process.nextTick is not supported");D===r&&(D=_.constructor.name==="AsyncFunction"),_=function(){var N=arguments,j=this,Ee=this.event;return D?M?Promise.resolve():new Promise(function(pe){c(pe)}).then(function(){return j.event=Ee,C.apply(j,N)}):(M?process.nextTick:c)(function(){j.event=Ee,C.apply(j,N)})},_._async=!0,_._origin=A}return[_,E?new V(this,y,_):this]}function P(y){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,g.call(this,y)}P.EventEmitter2=P,P.prototype.listenTo=function(y,_,w){if(typeof y!="object")throw TypeError("target musts be an object");var k=this;w=I(w,{on:r,off:r,reducers:r},{on:W,off:W,reducers:ke});function D(M){if(typeof M!="object")throw TypeError("events must be an object");var E=w.reducers,C=be.call(k,y),A;C===-1?A=new x(k,y,w):A=k._observers[C];for(var N=f(M),j=N.length,Ee,pe=typeof E=="function",le=0;le<j;le++)Ee=N[le],A.subscribe(Ee,M[Ee]||Ee,pe?E:E&&E[Ee])}return t(_)?D(b(_)):D(typeof _=="string"?b(_.split(/\s+/)):_),this},P.prototype.stopListeningTo=function(y,_){var w=this._observers;if(!w)return!1;var k=w.length,D,M=!1;if(y&&typeof y!="object")throw TypeError("target should be an object");for(;k-- >0;)D=w[k],(!y||D._target===y)&&(D.unsubscribe(_),M=!0);return M},P.prototype.delimiter=".",P.prototype.setMaxListeners=function(y){y!==r&&(this._maxListeners=y,this._conf||(this._conf={}),this._conf.maxListeners=y)},P.prototype.getMaxListeners=function(){return this._maxListeners},P.prototype.event="",P.prototype.once=function(y,_,w){return this._once(y,_,!1,w)},P.prototype.prependOnceListener=function(y,_,w){return this._once(y,_,!0,w)},P.prototype._once=function(y,_,w,k){return this._many(y,1,_,w,k)},P.prototype.many=function(y,_,w,k){return this._many(y,_,w,!1,k)},P.prototype.prependMany=function(y,_,w,k){return this._many(y,_,w,!0,k)},P.prototype._many=function(y,_,w,k,D){var M=this;if(typeof w!="function")throw new Error("many only accepts instances of Function");function E(){return--_===0&&M.off(y,E),w.apply(this,arguments)}return E._origin=w,this._on(y,E,k,D)},P.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||p.call(this);var y=arguments[0],_,w=this.wildcard,k,D,M,E,C;if(y==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(w&&(_=y,y!=="newListener"&&y!=="removeListener"&&typeof y=="object")){if(D=y.length,a){for(M=0;M<D;M++)if(typeof y[M]=="symbol"){C=!0;break}}C||(y=y.join(this.delimiter))}var A=arguments.length,N;if(this._all&&this._all.length)for(N=this._all.slice(),M=0,D=N.length;M<D;M++)switch(this.event=y,A){case 1:N[M].call(this,y);break;case 2:N[M].call(this,y,arguments[1]);break;case 3:N[M].call(this,y,arguments[1],arguments[2]);break;default:N[M].apply(this,arguments)}if(w)N=[],ee.call(this,N,_,this.listenerTree,0,D);else if(N=this._events[y],typeof N=="function"){switch(this.event=y,A){case 1:N.call(this);break;case 2:N.call(this,arguments[1]);break;case 3:N.call(this,arguments[1],arguments[2]);break;default:for(k=new Array(A-1),E=1;E<A;E++)k[E-1]=arguments[E];N.apply(this,k)}return!0}else N&&(N=N.slice());if(N&&N.length){if(A>3)for(k=new Array(A-1),E=1;E<A;E++)k[E-1]=arguments[E];for(M=0,D=N.length;M<D;M++)switch(this.event=y,A){case 1:N[M].call(this);break;case 2:N[M].call(this,arguments[1]);break;case 3:N[M].call(this,arguments[1],arguments[2]);break;default:N[M].apply(this,k)}return!0}else if(!this.ignoreErrors&&!this._all&&y==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},P.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||p.call(this);var y=arguments[0],_=this.wildcard,w,k,D,M,E,C;if(y==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(_&&(w=y,y!=="newListener"&&y!=="removeListener"&&typeof y=="object")){if(M=y.length,a){for(E=0;E<M;E++)if(typeof y[E]=="symbol"){k=!0;break}}k||(y=y.join(this.delimiter))}var A=[],N=arguments.length,j;if(this._all)for(E=0,M=this._all.length;E<M;E++)switch(this.event=y,N){case 1:A.push(this._all[E].call(this,y));break;case 2:A.push(this._all[E].call(this,y,arguments[1]));break;case 3:A.push(this._all[E].call(this,y,arguments[1],arguments[2]));break;default:A.push(this._all[E].apply(this,arguments))}if(_?(j=[],ee.call(this,j,w,this.listenerTree,0)):j=this._events[y],typeof j=="function")switch(this.event=y,N){case 1:A.push(j.call(this));break;case 2:A.push(j.call(this,arguments[1]));break;case 3:A.push(j.call(this,arguments[1],arguments[2]));break;default:for(D=new Array(N-1),C=1;C<N;C++)D[C-1]=arguments[C];A.push(j.apply(this,D))}else if(j&&j.length){if(j=j.slice(),N>3)for(D=new Array(N-1),C=1;C<N;C++)D[C-1]=arguments[C];for(E=0,M=j.length;E<M;E++)switch(this.event=y,N){case 1:A.push(j[E].call(this));break;case 2:A.push(j[E].call(this,arguments[1]));break;case 3:A.push(j[E].call(this,arguments[1],arguments[2]));break;default:A.push(j[E].apply(this,D))}}else if(!this.ignoreErrors&&!this._all&&y==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(A)},P.prototype.on=function(y,_,w){return this._on(y,_,!1,w)},P.prototype.prependListener=function(y,_,w){return this._on(y,_,!0,w)},P.prototype.onAny=function(y){return this._onAny(y,!1)},P.prototype.prependAny=function(y){return this._onAny(y,!0)},P.prototype.addListener=P.prototype.on,P.prototype._onAny=function(y,_){if(typeof y!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),_?this._all.unshift(y):this._all.push(y),this},P.prototype._on=function(y,_,w,k){if(typeof y=="function")return this._onAny(y,_),this;if(typeof _!="function")throw new Error("on only accepts instances of Function");this._events||p.call(this);var D=this,M;return k!==r&&(M=q.call(this,y,_,k),_=M[0],D=M[1]),this._newListener&&this.emit("newListener",y,_),this.wildcard?(ne.call(this,y,_,w),D):(this._events[y]?(typeof this._events[y]=="function"&&(this._events[y]=[this._events[y]]),w?this._events[y].unshift(_):this._events[y].push(_),!this._events[y].warned&&this._maxListeners>0&&this._events[y].length>this._maxListeners&&(this._events[y].warned=!0,T.call(this,this._events[y].length,y))):this._events[y]=_,D)},P.prototype.off=function(y,_){if(typeof _!="function")throw new Error("removeListener only takes instances of Function");var w,k=[];if(this.wildcard){var D=typeof y=="string"?y.split(this.delimiter):y.slice();if(k=ee.call(this,null,D,this.listenerTree,0),!k)return this}else{if(!this._events[y])return this;w=this._events[y],k.push({_listeners:w})}for(var M=0;M<k.length;M++){var E=k[M];if(w=E._listeners,t(w)){for(var C=-1,A=0,N=w.length;A<N;A++)if(w[A]===_||w[A].listener&&w[A].listener===_||w[A]._origin&&w[A]._origin===_){C=A;break}if(C<0)continue;return this.wildcard?E._listeners.splice(C,1):this._events[y].splice(C,1),w.length===0&&(this.wildcard?delete E._listeners:delete this._events[y]),this._removeListener&&this.emit("removeListener",y,_),this}else(w===_||w.listener&&w.listener===_||w._origin&&w._origin===_)&&(this.wildcard?delete E._listeners:delete this._events[y],this._removeListener&&this.emit("removeListener",y,_))}return this.listenerTree&&gt(this.listenerTree),this},P.prototype.offAny=function(y){var _=0,w=0,k;if(y&&this._all&&this._all.length>0){for(k=this._all,_=0,w=k.length;_<w;_++)if(y===k[_])return k.splice(_,1),this._removeListener&&this.emit("removeListenerAny",y),this}else{if(k=this._all,this._removeListener)for(_=0,w=k.length;_<w;_++)this.emit("removeListenerAny",k[_]);this._all=[]}return this},P.prototype.removeListener=P.prototype.off,P.prototype.removeAllListeners=function(y){if(y===r)return!this._events||p.call(this),this;if(this.wildcard){var _=ee.call(this,null,y,this.listenerTree,0),w,k;if(!_)return this;for(k=0;k<_.length;k++)w=_[k],w._listeners=null;this.listenerTree&&gt(this.listenerTree)}else this._events&&(this._events[y]=null);return this},P.prototype.listeners=function(y){var _=this._events,w,k,D,M,E;if(y===r){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!_)return[];for(w=f(_),M=w.length,D=[];M-- >0;)k=_[w[M]],typeof k=="function"?D.push(k):D.push.apply(D,k);return D}else{if(this.wildcard){if(E=this.listenerTree,!E)return[];var C=[],A=typeof y=="string"?y.split(this.delimiter):y.slice();return ee.call(this,C,A,E,0),C}return _?(k=_[y],k?typeof k=="function"?[k]:k:[]):[]}},P.prototype.eventNames=function(y){var _=this._events;return this.wildcard?Ft.call(this,this.listenerTree,[],null,y):_?f(_):[]},P.prototype.listenerCount=function(y){return this.listeners(y).length},P.prototype.hasListeners=function(y){if(this.wildcard){var _=[],w=typeof y=="string"?y.split(this.delimiter):y.slice();return ee.call(this,_,w,this.listenerTree,0),_.length>0}var k=this._events,D=this._all;return!!(D&&D.length||k&&(y===r?f(k).length:k[y]))},P.prototype.listenersAny=function(){return this._all?this._all:[]},P.prototype.waitFor=function(y,_){var w=this,k=typeof _;return k==="number"?_={timeout:_}:k==="function"&&(_={filter:_}),_=I(_,{timeout:0,filter:r,handleError:!1,Promise,overload:!1},{filter:W,Promise:$}),Te(_.Promise,function(D,M,E){function C(){var A=_.filter;if(!(A&&!A.apply(w,arguments)))if(w.off(y,C),_.handleError){var N=arguments[0];N?M(N):D(O.apply(null,arguments).slice(1))}else D(O.apply(null,arguments))}E(function(){w.off(y,C)}),w._on(y,C,!1)},{timeout:_.timeout,overload:_.overload})};function J(y,_,w){w=I(w,{Promise,timeout:0,overload:!1},{Promise:$});var k=w.Promise;return Te(k,function(D,M,E){var C;if(typeof y.addEventListener=="function"){C=function(){D(O.apply(null,arguments))},E(function(){y.removeEventListener(_,C)}),y.addEventListener(_,C,{once:!0});return}var A=function(){N&&y.removeListener("error",N),D(O.apply(null,arguments))},N;_!=="error"&&(N=function(j){y.removeListener(_,A),M(j)},y.once("error",N)),E(function(){N&&y.removeListener("error",N),y.removeListener(_,A)}),y.once(_,A)},{timeout:w.timeout,overload:w.overload})}var Y=P.prototype;if(Object.defineProperties(P,{defaultMaxListeners:{get:function(){return Y._maxListeners},set:function(y){if(typeof y!="number"||y<0||Number.isNaN(y))throw TypeError("n must be a non-negative number");Y._maxListeners=y},enumerable:!0},once:{value:J,writable:!0,configurable:!0}}),Object.defineProperties(Y,{_maxListeners:{value:n,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),typeof define=="function"&&define.amd)define(function(){return P});else if(typeof $b=="object")Gb.exports=P;else{var oe=new Function("","return this")();oe.EventEmitter2=P}})()});var Zr=S(Xn=>{"use strict";Xn.__esModule=!0;var gF;(function(r){r.AND="AND",r.OR="OR",r.XOR="XOR",r.NOT="NOT"})(gF=Xn.Operators||(Xn.Operators={}));var _F;(function(r){r.OPEN_PARENTHESIS="(",r.CLOSE_PARENTHESIS=")"})(_F=Xn.StructuralCharacters||(Xn.StructuralCharacters={}));var TF;(function(r){r.IDENTIFIER="IDENTIFIER",r.OPERATOR="OPERATOR",r.STRUCTURAL_CHARACTER="STRUCTURAL_CHARACTER",r.EOF="EOF",r.COMMENT="COMMENT"})(TF=Xn.Tokens||(Xn.Tokens={}))});var up=S(ul=>{"use strict";ul.__esModule=!0;var nt=Zr();ul.OPERATOR_PRECEDENCE={NOT:0,XOR:1,AND:2,OR:3};ul.VALID_TOKENS={identifierOnly:[{name:nt.Tokens.IDENTIFIER},{name:nt.Tokens.STRUCTURAL_CHARACTER,value:nt.StructuralCharacters.OPEN_PARENTHESIS}],identifierOrNot:[{name:nt.Tokens.IDENTIFIER},{name:nt.Tokens.STRUCTURAL_CHARACTER,value:nt.StructuralCharacters.OPEN_PARENTHESIS},{name:nt.Tokens.OPERATOR,value:nt.Operators.NOT}],binaryOperator:[{name:nt.Tokens.OPERATOR,value:nt.Operators.AND},{name:nt.Tokens.OPERATOR,value:nt.Operators.OR},{name:nt.Tokens.OPERATOR,value:nt.Operators.XOR}],binaryOperatorOrClose:[{name:nt.Tokens.OPERATOR,value:nt.Operators.AND},{name:nt.Tokens.OPERATOR,value:nt.Operators.OR},{name:nt.Tokens.OPERATOR,value:nt.Operators.XOR},{name:nt.Tokens.STRUCTURAL_CHARACTER,value:nt.StructuralCharacters.CLOSE_PARENTHESIS}]}});var lp=S(wn=>{"use strict";wn.__esModule=!0;var Ri=Zr();wn.STRUCTURAL_CHARACTERS={"(":Ri.StructuralCharacters.OPEN_PARENTHESIS,")":Ri.StructuralCharacters.CLOSE_PARENTHESIS};wn.OPERATORS={AND:Ri.Operators.AND,OR:Ri.Operators.OR,XOR:Ri.Operators.XOR,NOT:Ri.Operators.NOT};wn.SEPARATORS=new Set([32,9,10,13].map(function(r){return String.fromCodePoint(r)}));wn.QUOTED_IDENTIFIER_DELIMITER=String.fromCodePoint(34);wn.COMMENT_DELIMITER=String.fromCodePoint(35);wn.EOL=String.fromCodePoint(10);wn.ESCAPE_CHARACTER=String.fromCodePoint(92)});var Dv=S(kn=>{"use strict";var cp=kn&&kn.__assign||function(){return cp=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},cp.apply(this,arguments)};kn.__esModule=!0;var Ev=Zr(),Ns=lp();kn.createResult=function(r,e,t){return{token:cp({name:r},e!==null?{value:e}:{}),remainingString:t}};kn.getComment=function(r){for(var e=r.length,t=0;t<r.length;t+=1){var n=r[t];if(n===Ns.EOL){e=t;break}}return kn.createResult(Ev.Tokens.COMMENT,r.slice(0,e),r.slice(e+1))};kn.getQuotedIdentifier=function(r){for(var e=!1,t="",n=null,s=0;s<r.length;s+=1){var a=r[s];if(n===null)a===Ns.QUOTED_IDENTIFIER_DELIMITER?e?t=t.slice(-1)+Ns.QUOTED_IDENTIFIER_DELIMITER:n=s:(a===Ns.ESCAPE_CHARACTER?e=!0:e=!1,t=t+=a);else{if(!Ns.SEPARATORS.has(a)&&!Ns.STRUCTURAL_CHARACTERS[a])throw new Error("Unexpected character: "+a+" Expected ) character or separator");break}}if(n===null)throw new Error("Unexpected end of expression: expected "+Ns.QUOTED_IDENTIFIER_DELIMITER+" character");return kn.createResult(Ev.Tokens.IDENTIFIER,t,r.slice(n+1))}});var Sv=S(dp=>{"use strict";dp.__esModule=!0;var xi=Zr(),lr=lp(),Pi=Dv();dp.lex=function(r){for(var e=null,t=null,n=null,s=0;s<r.length;s+=1){var a=r[s];if(e===null){if(!lr.SEPARATORS.has(a)){var o=lr.STRUCTURAL_CHARACTERS[a];if(o){var l=r[s+1];if(o===xi.StructuralCharacters.CLOSE_PARENTHESIS&&l&&!lr.SEPARATORS.has(l)&&l!==xi.StructuralCharacters.CLOSE_PARENTHESIS)throw new Error("Unexpected character: "+l+". A closing parenthesis should be followed by another closing parenthesis or whitespace");return Pi.createResult(xi.Tokens.STRUCTURAL_CHARACTER,lr.STRUCTURAL_CHARACTERS[a],r.slice(s+1))}if(a===lr.QUOTED_IDENTIFIER_DELIMITER)return Pi.getQuotedIdentifier(r.slice(s+1));if(a===lr.COMMENT_DELIMITER)return Pi.getComment(r.slice(s+1));e=s}}else if(lr.SEPARATORS.has(a)||lr.STRUCTURAL_CHARACTERS[a]){t=s,n=a;break}else if(a===lr.QUOTED_IDENTIFIER_DELIMITER||a===lr.COMMENT_DELIMITER)throw new Error("Unexpected character: "+a)}if(e!==null){t=t!=null?t:r.length;var c=r.slice(e,t),f=r.slice(t);if(lr.OPERATORS[c]){if(n&&!lr.SEPARATORS.has(n))throw new Error("Unexpected character: "+n+". Operators should be separated using whitespace");return Pi.createResult(xi.Tokens.OPERATOR,lr.OPERATORS[c],f)}else return Pi.createResult(xi.Tokens.IDENTIFIER,c,f)}return Pi.createResult(xi.Tokens.EOF,null,"")}});var Ov=S(En=>{"use strict";var bF=En&&En.__spreadArrays||function(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),s=0,e=0;e<t;e++)for(var a=arguments[e],o=0,l=a.length;o<l;o++,s++)n[s]=a[o];return n};En.__esModule=!0;var vF=Sv(),Ai=Zr(),ll=up();En.newTokenGenerator=function(r){var e=r;return function(t,n){for(n===void 0&&(n=!1);;){var s=vF.lex(e),a=s.token,o=s.remainingString;if(e=o,a.name!==Ai.Tokens.COMMENT)return En.validateToken(a,t,n),a}}};En.getValue=function(r,e){var t=r(ll.VALID_TOKENS.identifierOrNot),n=t.value===Ai.Operators.NOT;n&&(t=r(ll.VALID_TOKENS.identifierOnly));var s=t.name===Ai.Tokens.STRUCTURAL_CHARACTER?e(r,!0):[t];return n?bF(s,[{name:Ai.Tokens.OPERATOR,value:Ai.Operators.NOT}]):s};En.previousOperatorTakesPrecedent=function(r,e){return ll.OPERATOR_PRECEDENCE[r]<=ll.OPERATOR_PRECEDENCE[e]};En.validateToken=function(r,e,t){if(t===void 0&&(t=!1),r.name===Ai.Tokens.EOF){if(t)return;throw new Error("Unexpected end of expression")}for(var n=0,s=e;n<s.length;n++){var a=s[n];if(a.name===r.name&&(!a.value||a.value===r.value))return}throw new TypeError("Invalid token")}});var hp=S(co=>{"use strict";var Ni=co&&co.__spreadArrays||function(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),s=0,e=0;e<t;e++)for(var a=arguments[e],o=0,l=a.length;o<l;o++,s++)n[s]=a[o];return n};co.__esModule=!0;var Mv=Zr(),Rv=up(),cl=Ov();co.parse=function(r){if(typeof r!="string")throw new Error("Expected string but received "+typeof r);var e=cl.newTokenGenerator(r);return fp(e)};var fp=function(r,e){e===void 0&&(e=!1);for(var t=Ni(cl.getValue(r,fp)),n=[];;){var s=e?Rv.VALID_TOKENS.binaryOperatorOrClose:Rv.VALID_TOKENS.binaryOperator,a=r(s,!e);if(a.name===Mv.Tokens.EOF||a.name===Mv.Tokens.STRUCTURAL_CHARACTER)return Ni(t,Ni(n).reverse());for(;n.length;){var o=n[n.length-1]||null;if(o&&cl.previousOperatorTakesPrecedent(o.value,a.value))t=Ni(t,[o]),n=n.slice(0,-1);else break}n=Ni(n,[a]),t=Ni(t,cl.getValue(r,fp))}}});var pp=S(Dn=>{"use strict";Dn.__esModule=!0;var xv=Zr();Dn.andUtil=function(r,e){return r&&e};Dn.orUtil=function(r,e){return r||e};Dn.xorUtil=function(r,e){return r!==e};Dn.notUtil=function(r){return!r};Dn.isIdentifier=function(r){var e=r.name,t=r.value;return e===xv.Tokens.IDENTIFIER&&typeof t=="string"};Dn.isOperator=function(r){var e=r.name,t=r.value;return e===xv.Tokens.OPERATOR&&typeof t=="string"};Dn.throwInvalidExpression=function(r){throw new TypeError("Invalid postfix expression: "+r)}});var Pv=S(gp=>{"use strict";var fo;gp.__esModule=!0;var mp=Zr(),yp=pp();gp.OPERATOR_MAP=(fo={},fo[mp.Operators.AND]=yp.andUtil,fo[mp.Operators.OR]=yp.orUtil,fo[mp.Operators.XOR]=yp.xorUtil,fo)});var Nv=S(Is=>{"use strict";var _p=Is&&Is.__spreadArrays||function(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),s=0,e=0;e<t;e++)for(var a=arguments[e],o=0,l=a.length;o<l;o++,s++)n[s]=a[o];return n};Is.__esModule=!0;var wF=hp(),Av=Zr(),kF=Pv(),Cs=pp();Is.getEvaluator=function(r){var e=wF.parse(r);return function(t){return Is.evaluate(e,t)}};Is.evaluate=function(r,e){if(!Array.isArray(r))throw new Error(r+" should be an array. evaluate takes in a parsed expression. Use in combination with parse or use getEvaluator");var t=r.reduce(function(n,s,a){if(!(s&&(Cs.isIdentifier(s)||Cs.isOperator(s))))throw new Error("Invalid token: "+s+". Found in parsed expression at index "+a);if(s.name===Av.Tokens.IDENTIFIER)return _p(n,[Boolean(e[s.value])]);var o=n[n.length-2],l=n[n.length-1];if(s.value===Av.Operators.NOT)return l===void 0&&Cs.throwInvalidExpression("missing identifier"),_p(n.slice(0,-1),[Cs.notUtil(l)]);(l===void 0||o===void 0)&&Cs.throwInvalidExpression("missing identifier");var c=kF.OPERATOR_MAP[s.value];return c||Cs.throwInvalidExpression("unknown operator"),_p(n.slice(0,-2),[c(o,l)])},[]);return t.length!==1&&Cs.throwInvalidExpression("too many identifiers after evaluation"),t[0]}});var Iv=S(ho=>{"use strict";ho.__esModule=!0;var Cv=Nv();ho.getEvaluator=Cv.getEvaluator;ho.evaluate=Cv.evaluate;var EF=hp();ho.parse=EF.parse});var RF={};Ik(RF,{default:()=>vl});module.exports=Fk(RF);var Qv=require("obsidian");var yi=require("obsidian");var PF=new Error("timeout while waiting for mutex to become available"),AF=new Error("mutex already locked"),Lk=new Error("request for lock canceled"),Yk=function(r,e,t,n){function s(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function l(p){try{f(n.next(p))}catch(g){o(g)}}function c(p){try{f(n.throw(p))}catch(g){o(g)}}function f(p){p.done?a(p.value):s(p.value).then(l,c)}f((n=n.apply(r,e||[])).next())})},Ul=class{constructor(e,t=Lk){this._value=e,this._cancelError=t,this._weightedQueues=[],this._weightedWaiters=[]}acquire(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise((t,n)=>{this._weightedQueues[e-1]||(this._weightedQueues[e-1]=[]),this._weightedQueues[e-1].push({resolve:t,reject:n}),this._dispatch()})}runExclusive(e,t=1){return Yk(this,void 0,void 0,function*(){let[n,s]=yield this.acquire(t);try{return yield e(n)}finally{s()}})}waitForUnlock(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);return new Promise(t=>{this._weightedWaiters[e-1]||(this._weightedWaiters[e-1]=[]),this._weightedWaiters[e-1].push(t),this._dispatch()})}isLocked(){return this._value<=0}getValue(){return this._value}setValue(e){this._value=e,this._dispatch()}release(e=1){if(e<=0)throw new Error(`invalid weight ${e}: must be positive`);this._value+=e,this._dispatch()}cancel(){this._weightedQueues.forEach(e=>e.forEach(t=>t.reject(this._cancelError))),this._weightedQueues=[]}_dispatch(){var e;for(let t=this._value;t>0;t--){let n=(e=this._weightedQueues[t-1])===null||e===void 0?void 0:e.shift();if(!n)continue;let s=this._value,a=t;this._value-=t,t=this._value+1,n.resolve([s,this._newReleaser(a)])}this._drainUnlockWaiters()}_newReleaser(e){let t=!1;return()=>{t||(t=!0,this.release(e))}}_drainUnlockWaiters(){for(let e=this._value;e>0;e--)!this._weightedWaiters[e-1]||(this._weightedWaiters[e-1].forEach(t=>t()),this._weightedWaiters[e-1]=[])}},Uk=function(r,e,t,n){function s(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function l(p){try{f(n.next(p))}catch(g){o(g)}}function c(p){try{f(n.throw(p))}catch(g){o(g)}}function f(p){p.done?a(p.value):s(p.value).then(l,c)}f((n=n.apply(r,e||[])).next())})},Po=class{constructor(e){this._semaphore=new Ul(1,e)}acquire(){return Uk(this,void 0,void 0,function*(){let[,e]=yield this._semaphore.acquire();return e})}runExclusive(e){return this._semaphore.runExclusive(()=>e())}isLocked(){return this._semaphore.isLocked()}waitForUnlock(){return this._semaphore.waitForUnlock()}release(){this._semaphore.isLocked()&&this._semaphore.release()}cancel(){return this._semaphore.cancel()}};var Eu=Cn(mt()),ci=Cn(ku());var _s=Cn(ku()),Ht=class{constructor(e,t){this.start=e,this.end=t,t.isBefore(e)&&(this.start=t,this.end=e),this.start=this.start.startOf("day"),this.end=this.end.startOf("day")}static buildRelative(e){let t=e==="week"?"isoWeek":e;return new Ht((0,_s.default)().startOf(t).startOf("day"),(0,_s.default)().endOf(t).startOf("day"))}static buildInvalid(){return new Ht(_s.default.invalid(),_s.default.invalid())}isValid(){return this.start.isValid()&&this.end.isValid()}moveToPrevious(e){let t=_s.default.duration(1,e);this.start.subtract(t),this.end.subtract(t),(e==="month"||e==="quarter")&&(this.end=this.end.endOf(e).startOf("day"))}moveToNext(e){let t=_s.default.duration(1,e);this.start.add(t),this.end.add(t),(e==="month"||e==="quarter")&&(this.end=this.end.endOf(e).startOf("day"))}};var ir=class{static parseDate(e,t=!1){return(0,ci.default)(Eu.parseDate(e,void 0,{forwardDate:t})).startOf("day")}static parseDateRange(e,t=!1){let n=[ir.parseRelativeDateRange,ir.parseNumberedDateRange,ir.parseAbsoluteDateRange];for(let s of n){let a=s(e,t);if(a.isValid())return a}return Ht.buildInvalid()}static parseAbsoluteDateRange(e,t){let n=Eu.parse(e,void 0,{forwardDate:t});if(n.length===0)return Ht.buildInvalid();let s=n[0].start,a=n[1]&&n[1].start?n[1].start:s,o=(0,ci.default)(s.date()),l=(0,ci.default)(a.date());return new Ht(o,l)}static parseRelativeDateRange(e,t){let n=/(last|this|next) (week|month|quarter|year)/,s=e.match(n);if(s&&s.length===3){let a=s[1],o=s[2],l=Ht.buildRelative(o);switch(a){case"last":l.moveToPrevious(o);break;case"next":l.moveToNext(o);break}return l}return Ht.buildInvalid()}static parseNumberedDateRange(e,t){let n=[[/^\s*[0-9]{4}\s*$/,"YYYY","year"],[/^\s*[0-9]{4}-Q[1-4]\s*$/,"YYYY-Q","quarter"],[/^\s*[0-9]{4}-[0-9]{2}\s*$/,"YYYY-MM","month"],[/^\s*[0-9]{4}-W[0-9]{2}\s*$/,"YYYY-WW","isoWeek"]];for(let[s,a,o]of n){let l=e.match(s);if(l){let c=l[0].trim();return new Ht((0,ci.default)(c,a).startOf(o),(0,ci.default)(c,a).endOf(o))}}return Ht.buildInvalid()}};var nI={td:"today",tm:"tomorrow",yd:"yesterday",tw:"this week",nw:"next week",weekend:"sat",we:"sat"};function di(r){for(let[e,t]of Object.entries(nI))r=r.replace(RegExp(`\\b${e}\\s`,"i"),t);return r}var Du=["MO","TU","WE","TH","FR","SA","SU"],ct=function(){function r(e,t){if(t===0)throw new Error("Can't create weekday with n == 0");this.weekday=e,this.n=t}return r.fromStr=function(e){return new r(Du.indexOf(e))},r.prototype.nth=function(e){return this.n===e?this:new r(this.weekday,e)},r.prototype.equals=function(e){return this.weekday===e.weekday&&this.n===e.n},r.prototype.toString=function(){var e=Du[this.weekday];return this.n&&(e=(this.n>0?"+":"")+String(this.n)+e),e},r.prototype.getJsWeekday=function(){return this.weekday===6?0:this.weekday+1},r}();var Ve=function(r){return r!=null},ar=function(r){return typeof r=="number"},Ph=function(r){return typeof r=="string"&&Du.includes(r)},Ct=Array.isArray,kr=function(r,e){e===void 0&&(e=r),arguments.length===1&&(e=r,r=0);for(var t=[],n=r;n<e;n++)t.push(n);return t};var we=function(r,e){var t=0,n=[];if(Ct(r))for(;t<e;t++)n[t]=[].concat(r);else for(;t<e;t++)n[t]=r;return n},LT=function(r){return Ct(r)?r:[r]};function Ts(r,e,t){t===void 0&&(t=" ");var n=String(r);return e=e>>0,n.length>e?String(n):(e=e-n.length,e>t.length&&(t+=we(t,e/t.length)),t.slice(0,e)+String(n))}var YT=function(r,e,t){var n=r.split(e);return t?n.slice(0,t).concat([n.slice(t).join(e)]):n},Yt=function(r,e){var t=r%e;return t*e<0?t+e:t},Su=function(r,e){return{div:Math.floor(r/e),mod:Yt(r,e)}},or=function(r){return!Ve(r)||r.length===0},it=function(r){return!or(r)},De=function(r,e){return it(r)&&r.indexOf(e)!==-1};var jn;(function(r){r.MONTH_DAYS=[31,28,31,30,31,30,31,31,30,31,30,31],r.ONE_DAY=1e3*60*60*24,r.MAXYEAR=9999,r.ORDINAL_BASE=new Date(Date.UTC(1970,0,1)),r.PY_WEEKDAYS=[6,0,1,2,3,4,5],r.getYearDay=function(e){var t=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate());return Math.ceil((t.valueOf()-new Date(e.getUTCFullYear(),0,1).valueOf())/r.ONE_DAY)+1},r.isLeapYear=function(e){return e%4===0&&e%100!==0||e%400===0},r.isDate=function(e){return e instanceof Date},r.isValidDate=function(e){return r.isDate(e)&&!isNaN(e.getTime())},r.tzOffset=function(e){return e.getTimezoneOffset()*60*1e3},r.daysBetween=function(e,t){var n=e.getTime()-r.tzOffset(e),s=t.getTime()-r.tzOffset(t),a=n-s;return Math.round(a/r.ONE_DAY)},r.toOrdinal=function(e){return r.daysBetween(e,r.ORDINAL_BASE)},r.fromOrdinal=function(e){return new Date(r.ORDINAL_BASE.getTime()+e*r.ONE_DAY)},r.getMonthDays=function(e){var t=e.getUTCMonth();return t===1&&r.isLeapYear(e.getUTCFullYear())?29:r.MONTH_DAYS[t]},r.getWeekday=function(e){return r.PY_WEEKDAYS[e.getUTCDay()]},r.monthRange=function(e,t){var n=new Date(Date.UTC(e,t,1));return[r.getWeekday(n),r.getMonthDays(n)]},r.combine=function(e,t){return t=t||e,new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))},r.clone=function(e){var t=new Date(e.getTime());return t},r.cloneDates=function(e){for(var t=[],n=0;n<e.length;n++)t.push(r.clone(e[n]));return t},r.sort=function(e){e.sort(function(t,n){return t.getTime()-n.getTime()})},r.timeToUntilString=function(e,t){t===void 0&&(t=!0);var n=new Date(e);return[Ts(n.getUTCFullYear().toString(),4,"0"),Ts(n.getUTCMonth()+1,2,"0"),Ts(n.getUTCDate(),2,"0"),"T",Ts(n.getUTCHours(),2,"0"),Ts(n.getUTCMinutes(),2,"0"),Ts(n.getUTCSeconds(),2,"0"),t?"Z":""].join("")},r.untilStringToDate=function(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z?)?$/,n=t.exec(e);if(!n)throw new Error("Invalid UNTIL value: ".concat(e));return new Date(Date.UTC(parseInt(n[1],10),parseInt(n[2],10)-1,parseInt(n[3],10),parseInt(n[5],10)||0,parseInt(n[6],10)||0,parseInt(n[7],10)||0))}})(jn||(jn={}));var se=jn;var sI=function(){function r(e,t){this.minDate=null,this.maxDate=null,this._result=[],this.total=0,this.method=e,this.args=t,e==="between"?(this.maxDate=t.inc?t.before:new Date(t.before.getTime()-1),this.minDate=t.inc?t.after:new Date(t.after.getTime()+1)):e==="before"?this.maxDate=t.inc?t.dt:new Date(t.dt.getTime()-1):e==="after"&&(this.minDate=t.inc?t.dt:new Date(t.dt.getTime()+1))}return r.prototype.accept=function(e){++this.total;var t=this.minDate&&e<this.minDate,n=this.maxDate&&e>this.maxDate;if(this.method==="between"){if(t)return!0;if(n)return!1}else if(this.method==="before"){if(n)return!1}else if(this.method==="after")return t?!0:(this.add(e),!1);return this.add(e)},r.prototype.add=function(e){return this._result.push(e),!0},r.prototype.getValue=function(){var e=this._result;switch(this.method){case"all":case"between":return e;case"before":case"after":default:return e.length?e[e.length-1]:null}},r.prototype.clone=function(){return new r(this.method,this.args)},r}(),yn=sI;var ob=Cn(ab(),1),{__extends:hi,__assign:Bt,__rest:_Y,__decorate:TY,__param:bY,__metadata:vY,__awaiter:wY,__generator:kY,__exportStar:EY,__createBinding:DY,__values:SY,__read:OY,__spread:MY,__spreadArrays:RY,__spreadArray:U,__await:xY,__asyncGenerator:PY,__asyncDelegator:AY,__asyncValues:NY,__makeTemplateObject:CY,__importStar:IY,__importDefault:FY,__classPrivateFieldGet:LY,__classPrivateFieldSet:YY,__classPrivateFieldIn:UY}=ob.default;var iI=function(r){hi(e,r);function e(t,n,s){var a=r.call(this,t,n)||this;return a.iterator=s,a}return e.prototype.add=function(t){return this.iterator(t,this._result.length)?(this._result.push(t),!0):!1},e}(yn),Nh=iI;var aI={dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],tokens:{SKIP:/^[ \r\n\t]+|^\.$/,number:/^[1-9][0-9]*/,numberAsText:/^(one|two|three)/i,every:/^every/i,"day(s)":/^days?/i,"weekday(s)":/^weekdays?/i,"week(s)":/^weeks?/i,"hour(s)":/^hours?/i,"minute(s)":/^minutes?/i,"month(s)":/^months?/i,"year(s)":/^years?/i,on:/^(on|in)/i,at:/^(at)/i,the:/^the/i,first:/^first/i,second:/^second/i,third:/^third/i,nth:/^([1-9][0-9]*)(\.|th|nd|rd|st)/i,last:/^last/i,for:/^for/i,"time(s)":/^times?/i,until:/^(un)?til/i,monday:/^mo(n(day)?)?/i,tuesday:/^tu(e(s(day)?)?)?/i,wednesday:/^we(d(n(esday)?)?)?/i,thursday:/^th(u(r(sday)?)?)?/i,friday:/^fr(i(day)?)?/i,saturday:/^sa(t(urday)?)?/i,sunday:/^su(n(day)?)?/i,january:/^jan(uary)?/i,february:/^feb(ruary)?/i,march:/^mar(ch)?/i,april:/^apr(il)?/i,may:/^may/i,june:/^june?/i,july:/^july?/i,august:/^aug(ust)?/i,september:/^sep(t(ember)?)?/i,october:/^oct(ober)?/i,november:/^nov(ember)?/i,december:/^dec(ember)?/i,comma:/^(,\s*|(and|or)\s*)+/i}},bs=aI;var ub=function(r,e){return r.indexOf(e)!==-1},oI=function(r){return r.toString()},uI=function(r,e,t){return"".concat(e," ").concat(t,", ").concat(r)},lI=function(){function r(e,t,n,s){if(t===void 0&&(t=oI),n===void 0&&(n=bs),s===void 0&&(s=uI),this.text=[],this.language=n||bs,this.gettext=t,this.dateFormatter=s,this.rrule=e,this.options=e.options,this.origOptions=e.origOptions,this.origOptions.bymonthday){var a=[].concat(this.options.bymonthday),o=[].concat(this.options.bynmonthday);a.sort(function(p,g){return p-g}),o.sort(function(p,g){return g-p}),this.bymonthday=a.concat(o),this.bymonthday.length||(this.bymonthday=null)}if(Ve(this.origOptions.byweekday)){var l=Ct(this.origOptions.byweekday)?this.origOptions.byweekday:[this.origOptions.byweekday],c=String(l);this.byweekday={allWeeks:l.filter(function(p){return!p.n}),someWeeks:l.filter(function(p){return Boolean(p.n)}),isWeekdays:c.indexOf("MO")!==-1&&c.indexOf("TU")!==-1&&c.indexOf("WE")!==-1&&c.indexOf("TH")!==-1&&c.indexOf("FR")!==-1&&c.indexOf("SA")===-1&&c.indexOf("SU")===-1,isEveryDay:c.indexOf("MO")!==-1&&c.indexOf("TU")!==-1&&c.indexOf("WE")!==-1&&c.indexOf("TH")!==-1&&c.indexOf("FR")!==-1&&c.indexOf("SA")!==-1&&c.indexOf("SU")!==-1};var f=function(p,g){return p.weekday-g.weekday};this.byweekday.allWeeks.sort(f),this.byweekday.someWeeks.sort(f),this.byweekday.allWeeks.length||(this.byweekday.allWeeks=null),this.byweekday.someWeeks.length||(this.byweekday.someWeeks=null)}else this.byweekday=null}return r.isFullyConvertible=function(e){var t=!0;if(!(e.options.freq in r.IMPLEMENTED)||e.origOptions.until&&e.origOptions.count)return!1;for(var n in e.origOptions){if(ub(["dtstart","wkst","freq"],n))return!0;if(!ub(r.IMPLEMENTED[e.options.freq],n))return!1}return t},r.prototype.isFullyConvertible=function(){return r.isFullyConvertible(this.rrule)},r.prototype.toString=function(){var e=this.gettext;if(!(this.options.freq in r.IMPLEMENTED))return e("RRule error: Unable to fully convert this rrule to text");if(this.text=[e("every")],this[X.FREQUENCIES[this.options.freq]](),this.options.until){this.add(e("until"));var t=this.options.until;this.add(this.dateFormatter(t.getUTCFullYear(),this.language.monthNames[t.getUTCMonth()],t.getUTCDate()))}else this.options.count&&this.add(e("for")).add(this.options.count.toString()).add(this.plural(this.options.count)?e("times"):e("time"));return this.isFullyConvertible()||this.add(e("(~ approximate)")),this.text.join("")},r.prototype.HOURLY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("hours"):e("hour"))},r.prototype.MINUTELY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("minutes"):e("minute"))},r.prototype.DAILY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()),this.byweekday&&this.byweekday.isWeekdays?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(this.plural(this.options.interval)?e("days"):e("day")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday?this._byweekday():this.origOptions.byhour&&this._byhour()},r.prototype.WEEKLY=function(){var e=this.gettext;this.options.interval!==1&&this.add(this.options.interval.toString()).add(this.plural(this.options.interval)?e("weeks"):e("week")),this.byweekday&&this.byweekday.isWeekdays?this.options.interval===1?this.add(this.plural(this.options.interval)?e("weekdays"):e("weekday")):this.add(e("on")).add(e("weekdays")):this.byweekday&&this.byweekday.isEveryDay?this.add(this.plural(this.options.interval)?e("days"):e("day")):(this.options.interval===1&&this.add(e("week")),this.origOptions.bymonth&&(this.add(e("in")),this._bymonth()),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday())},r.prototype.MONTHLY=function(){var e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()).add(e("months")),this.plural(this.options.interval)&&this.add(e("in"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("months"):e("month"))),this.bymonthday?this._bymonthday():this.byweekday&&this.byweekday.isWeekdays?this.add(e("on")).add(e("weekdays")):this.byweekday&&this._byweekday()},r.prototype.YEARLY=function(){var e=this.gettext;this.origOptions.bymonth?(this.options.interval!==1&&(this.add(this.options.interval.toString()),this.add(e("years"))),this._bymonth()):(this.options.interval!==1&&this.add(this.options.interval.toString()),this.add(this.plural(this.options.interval)?e("years"):e("year"))),this.bymonthday?this._bymonthday():this.byweekday&&this._byweekday(),this.options.byyearday&&this.add(e("on the")).add(this.list(this.options.byyearday,this.nth,e("and"))).add(e("day")),this.options.byweekno&&this.add(e("in")).add(this.plural(this.options.byweekno.length)?e("weeks"):e("week")).add(this.list(this.options.byweekno,void 0,e("and")))},r.prototype._bymonthday=function(){var e=this.gettext;this.byweekday&&this.byweekday.allWeeks?this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext,e("or"))).add(e("the")).add(this.list(this.bymonthday,this.nth,e("or"))):this.add(e("on the")).add(this.list(this.bymonthday,this.nth,e("and")))},r.prototype._byweekday=function(){var e=this.gettext;this.byweekday.allWeeks&&!this.byweekday.isWeekdays&&this.add(e("on")).add(this.list(this.byweekday.allWeeks,this.weekdaytext)),this.byweekday.someWeeks&&(this.byweekday.allWeeks&&this.add(e("and")),this.add(e("on the")).add(this.list(this.byweekday.someWeeks,this.weekdaytext,e("and"))))},r.prototype._byhour=function(){var e=this.gettext;this.add(e("at")).add(this.list(this.origOptions.byhour,void 0,e("and")))},r.prototype._bymonth=function(){this.add(this.list(this.options.bymonth,this.monthtext,this.gettext("and")))},r.prototype.nth=function(e){e=parseInt(e.toString(),10);var t,n=this.gettext;if(e===-1)return n("last");var s=Math.abs(e);switch(s){case 1:case 21:case 31:t=s+n("st");break;case 2:case 22:t=s+n("nd");break;case 3:case 23:t=s+n("rd");break;default:t=s+n("th")}return e<0?t+" "+n("last"):t},r.prototype.monthtext=function(e){return this.language.monthNames[e-1]},r.prototype.weekdaytext=function(e){var t=ar(e)?(e+1)%7:e.getJsWeekday();return(e.n?this.nth(e.n)+" ":"")+this.language.dayNames[t]},r.prototype.plural=function(e){return e%100!==1},r.prototype.add=function(e){return this.text.push(" "),this.text.push(e),this},r.prototype.list=function(e,t,n,s){var a=this;s===void 0&&(s=","),Ct(e)||(e=[e]);var o=function(c,f,p){for(var g="",T=0;T<c.length;T++)T!==0&&(T===c.length-1?g+=" "+p+" ":g+=f+" "),g+=c[T];return g};t=t||function(c){return c.toString()};var l=function(c){return t&&t.call(a,c)};return n?o(e.map(l),s,n):e.map(l).join(s+" ")},r}(),Hr=lI;var cI=function(){function r(e){this.done=!0,this.rules=e}return r.prototype.start=function(e){return this.text=e,this.done=!1,this.nextSymbol()},r.prototype.isDone=function(){return this.done&&this.symbol===null},r.prototype.nextSymbol=function(){var e,t;this.symbol=null,this.value=null;do{if(this.done)return!1;var n=void 0;e=null;for(var s in this.rules){n=this.rules[s];var a=n.exec(this.text);a&&(e===null||a[0].length>e[0].length)&&(e=a,t=s)}if(e!=null&&(this.text=this.text.substr(e[0].length),this.text===""&&(this.done=!0)),e==null){this.done=!0,this.symbol=null,this.value=null;return}}while(t==="SKIP");return this.symbol=t,this.value=e,!0},r.prototype.accept=function(e){if(this.symbol===e){if(this.value){var t=this.value;return this.nextSymbol(),t}return this.nextSymbol(),!0}return!1},r.prototype.acceptNumber=function(){return this.accept("number")},r.prototype.expect=function(e){if(this.accept(e))return!0;throw new Error("expected "+e+" but found "+this.symbol)},r}();function Ba(r,e){e===void 0&&(e=bs);var t={},n=new cI(e.tokens);if(!n.start(r))return null;return s(),t;function s(){n.expect("every");var T=n.acceptNumber();if(T&&(t.interval=parseInt(T[0],10)),n.isDone())throw new Error("Unexpected end");switch(n.symbol){case"day(s)":t.freq=X.DAILY,n.nextSymbol()&&(o(),g());break;case"weekday(s)":t.freq=X.WEEKLY,t.byweekday=[X.MO,X.TU,X.WE,X.TH,X.FR],n.nextSymbol(),g();break;case"week(s)":t.freq=X.WEEKLY,n.nextSymbol()&&(a(),g());break;case"hour(s)":t.freq=X.HOURLY,n.nextSymbol()&&(a(),g());break;case"minute(s)":t.freq=X.MINUTELY,n.nextSymbol()&&(a(),g());break;case"month(s)":t.freq=X.MONTHLY,n.nextSymbol()&&(a(),g());break;case"year(s)":t.freq=X.YEARLY,n.nextSymbol()&&(a(),g());break;case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":t.freq=X.WEEKLY;var O=n.symbol.substr(0,2).toUpperCase();if(t.byweekday=[X[O]],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");var b=c();if(!b)throw new Error("Unexpected symbol "+n.symbol+", expected weekday");t.byweekday.push(X[b]),n.nextSymbol()}p(),g();break;case"january":case"february":case"march":case"april":case"may":case"june":case"july":case"august":case"september":case"october":case"november":case"december":if(t.freq=X.YEARLY,t.bymonth=[l()],!n.nextSymbol())return;for(;n.accept("comma");){if(n.isDone())throw new Error("Unexpected end");var x=l();if(!x)throw new Error("Unexpected symbol "+n.symbol+", expected month");t.bymonth.push(x),n.nextSymbol()}a(),g();break;default:throw new Error("Unknown symbol")}}function a(){var T=n.accept("on"),O=n.accept("the");if(!!(T||O))do{var b=f(),x=c(),I=l();if(b)x?(n.nextSymbol(),t.byweekday||(t.byweekday=[]),t.byweekday.push(X[x].nth(b))):(t.bymonthday||(t.bymonthday=[]),t.bymonthday.push(b),n.accept("day(s)"));else if(x)n.nextSymbol(),t.byweekday||(t.byweekday=[]),t.byweekday.push(X[x]);else if(n.symbol==="weekday(s)")n.nextSymbol(),t.byweekday||(t.byweekday=[X.MO,X.TU,X.WE,X.TH,X.FR]);else if(n.symbol==="week(s)"){n.nextSymbol();var $=n.acceptNumber();if(!$)throw new Error("Unexpected symbol "+n.symbol+", expected week number");for(t.byweekno=[parseInt($[0],10)];n.accept("comma");){if($=n.acceptNumber(),!$)throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");t.byweekno.push(parseInt($[0],10))}}else if(I)n.nextSymbol(),t.bymonth||(t.bymonth=[]),t.bymonth.push(I);else return}while(n.accept("comma")||n.accept("the")||n.accept("on"))}function o(){var T=n.accept("at");if(!!T)do{var O=n.acceptNumber();if(!O)throw new Error("Unexpected symbol "+n.symbol+", expected hour");for(t.byhour=[parseInt(O[0],10)];n.accept("comma");){if(O=n.acceptNumber(),!O)throw new Error("Unexpected symbol "+n.symbol+"; expected hour");t.byhour.push(parseInt(O[0],10))}}while(n.accept("comma")||n.accept("at"))}function l(){switch(n.symbol){case"january":return 1;case"february":return 2;case"march":return 3;case"april":return 4;case"may":return 5;case"june":return 6;case"july":return 7;case"august":return 8;case"september":return 9;case"october":return 10;case"november":return 11;case"december":return 12;default:return!1}}function c(){switch(n.symbol){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":return n.symbol.substr(0,2).toUpperCase();default:return!1}}function f(){switch(n.symbol){case"last":return n.nextSymbol(),-1;case"first":return n.nextSymbol(),1;case"second":return n.nextSymbol(),n.accept("last")?-2:2;case"third":return n.nextSymbol(),n.accept("last")?-3:3;case"nth":var T=parseInt(n.value[1],10);if(T<-366||T>366)throw new Error("Nth out of range: "+T);return n.nextSymbol(),n.accept("last")?-T:T;default:return!1}}function p(){n.accept("on"),n.accept("the");var T=f();if(!!T)for(t.bymonthday=[T],n.nextSymbol();n.accept("comma");){if(T=f(),!T)throw new Error("Unexpected symbol "+n.symbol+"; expected monthday");t.bymonthday.push(T),n.nextSymbol()}}function g(){if(n.symbol==="until"){var T=Date.parse(n.text);if(!T)throw new Error("Cannot parse until date:"+n.text);t.until=new Date(T)}else n.accept("for")&&(t.count=parseInt(n.value[0],10),n.expect("number"))}}var _e;(function(r){r[r.YEARLY=0]="YEARLY",r[r.MONTHLY=1]="MONTHLY",r[r.WEEKLY=2]="WEEKLY",r[r.DAILY=3]="DAILY",r[r.HOURLY=4]="HOURLY",r[r.MINUTELY=5]="MINUTELY",r[r.SECONDLY=6]="SECONDLY"})(_e||(_e={}));function za(r){return r<_e.HOURLY}var lb=function(r,e){return e===void 0&&(e=bs),new X(Ba(r,e)||void 0)},pi=["count","until","interval","byweekday","bymonthday","bymonth"];Hr.IMPLEMENTED=[];Hr.IMPLEMENTED[_e.HOURLY]=pi;Hr.IMPLEMENTED[_e.MINUTELY]=pi;Hr.IMPLEMENTED[_e.DAILY]=["byhour"].concat(pi);Hr.IMPLEMENTED[_e.WEEKLY]=pi;Hr.IMPLEMENTED[_e.MONTHLY]=pi;Hr.IMPLEMENTED[_e.YEARLY]=["byweekno","byyearday"].concat(pi);var cb=function(r,e,t,n){return new Hr(r,e,t,n).toString()},db=Hr.isFullyConvertible;var mi=function(){function r(e,t,n,s){this.hour=e,this.minute=t,this.second=n,this.millisecond=s||0}return r.prototype.getHours=function(){return this.hour},r.prototype.getMinutes=function(){return this.minute},r.prototype.getSeconds=function(){return this.second},r.prototype.getMilliseconds=function(){return this.millisecond},r.prototype.getTime=function(){return(this.hour*60*60+this.minute*60+this.second)*1e3+this.millisecond},r}();var fb=function(r){hi(e,r);function e(t,n,s,a,o,l,c){var f=r.call(this,a,o,l,c)||this;return f.year=t,f.month=n,f.day=s,f}return e.fromDate=function(t){return new this(t.getUTCFullYear(),t.getUTCMonth()+1,t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.valueOf()%1e3)},e.prototype.getWeekday=function(){return jn.getWeekday(new Date(this.getTime()))},e.prototype.getTime=function(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond)).getTime()},e.prototype.getDay=function(){return this.day},e.prototype.getMonth=function(){return this.month},e.prototype.getYear=function(){return this.year},e.prototype.addYears=function(t){this.year+=t},e.prototype.addMonths=function(t){if(this.month+=t,this.month>12){var n=Math.floor(this.month/12),s=Yt(this.month,12);this.month=s,this.year+=n,this.month===0&&(this.month=12,--this.year)}},e.prototype.addWeekly=function(t,n){n>this.getWeekday()?this.day+=-(this.getWeekday()+1+(6-n))+t*7:this.day+=-(this.getWeekday()-n)+t*7,this.fixDay()},e.prototype.addDaily=function(t){this.day+=t,this.fixDay()},e.prototype.addHours=function(t,n,s){for(n&&(this.hour+=Math.floor((23-this.hour)/t)*t);;){this.hour+=t;var a=Su(this.hour,24),o=a.div,l=a.mod;if(o&&(this.hour=l,this.addDaily(o)),or(s)||De(s,this.hour))break}},e.prototype.addMinutes=function(t,n,s,a){for(n&&(this.minute+=Math.floor((1439-(this.hour*60+this.minute))/t)*t);;){this.minute+=t;var o=Su(this.minute,60),l=o.div,c=o.mod;if(l&&(this.minute=c,this.addHours(l,!1,s)),(or(s)||De(s,this.hour))&&(or(a)||De(a,this.minute)))break}},e.prototype.addSeconds=function(t,n,s,a,o){for(n&&(this.second+=Math.floor((86399-(this.hour*3600+this.minute*60+this.second))/t)*t);;){this.second+=t;var l=Su(this.second,60),c=l.div,f=l.mod;if(c&&(this.second=f,this.addMinutes(c,!1,s,a)),(or(s)||De(s,this.hour))&&(or(a)||De(a,this.minute))&&(or(o)||De(o,this.second)))break}},e.prototype.fixDay=function(){if(!(this.day<=28)){var t=jn.monthRange(this.year,this.month-1)[1];if(!(this.day<=t))for(;this.day>t;){if(this.day-=t,++this.month,this.month===13&&(this.month=1,++this.year,this.year>jn.MAXYEAR))return;t=jn.monthRange(this.year,this.month-1)[1]}}},e.prototype.add=function(t,n){var s=t.freq,a=t.interval,o=t.wkst,l=t.byhour,c=t.byminute,f=t.bysecond;switch(s){case _e.YEARLY:return this.addYears(a);case _e.MONTHLY:return this.addMonths(a);case _e.WEEKLY:return this.addWeekly(a,o);case _e.DAILY:return this.addDaily(a);case _e.HOURLY:return this.addHours(a,n,l);case _e.MINUTELY:return this.addMinutes(a,n,l,c);case _e.SECONDLY:return this.addSeconds(a,n,l,c,f)}},e}(mi);function Ch(r){for(var e=[],t=Object.keys(r),n=0,s=t;n<s.length;n++){var a=s[n];De(mb,a)||e.push(a),se.isDate(r[a])&&!se.isValidDate(r[a])&&e.push(a)}if(e.length)throw new Error("Invalid options: "+e.join(", "));return Bt({},r)}function hb(r){var e=Bt(Bt({},Va),Ch(r));if(Ve(e.byeaster)&&(e.freq=X.YEARLY),!(Ve(e.freq)&&X.FREQUENCIES[e.freq]))throw new Error("Invalid frequency: ".concat(e.freq," ").concat(r.freq));if(e.dtstart||(e.dtstart=new Date(new Date().setMilliseconds(0))),Ve(e.wkst)?ar(e.wkst)||(e.wkst=e.wkst.weekday):e.wkst=X.MO.weekday,Ve(e.bysetpos)){ar(e.bysetpos)&&(e.bysetpos=[e.bysetpos]);for(var t=0;t<e.bysetpos.length;t++){var n=e.bysetpos[t];if(n===0||!(n>=-366&&n<=366))throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}if(!(Boolean(e.byweekno)||it(e.byweekno)||it(e.byyearday)||Boolean(e.bymonthday)||it(e.bymonthday)||Ve(e.byweekday)||Ve(e.byeaster)))switch(e.freq){case X.YEARLY:e.bymonth||(e.bymonth=e.dtstart.getUTCMonth()+1),e.bymonthday=e.dtstart.getUTCDate();break;case X.MONTHLY:e.bymonthday=e.dtstart.getUTCDate();break;case X.WEEKLY:e.byweekday=[se.getWeekday(e.dtstart)];break}if(Ve(e.bymonth)&&!Ct(e.bymonth)&&(e.bymonth=[e.bymonth]),Ve(e.byyearday)&&!Ct(e.byyearday)&&ar(e.byyearday)&&(e.byyearday=[e.byyearday]),!Ve(e.bymonthday))e.bymonthday=[],e.bynmonthday=[];else if(Ct(e.bymonthday)){for(var s=[],a=[],t=0;t<e.bymonthday.length;t++){var n=e.bymonthday[t];n>0?s.push(n):n<0&&a.push(n)}e.bymonthday=s,e.bynmonthday=a}else e.bymonthday<0?(e.bynmonthday=[e.bymonthday],e.bymonthday=[]):(e.bynmonthday=[],e.bymonthday=[e.bymonthday]);if(Ve(e.byweekno)&&!Ct(e.byweekno)&&(e.byweekno=[e.byweekno]),!Ve(e.byweekday))e.bynweekday=null;else if(ar(e.byweekday))e.byweekday=[e.byweekday],e.bynweekday=null;else if(Ph(e.byweekday))e.byweekday=[ct.fromStr(e.byweekday).weekday],e.bynweekday=null;else if(e.byweekday instanceof ct)!e.byweekday.n||e.freq>X.MONTHLY?(e.byweekday=[e.byweekday.weekday],e.bynweekday=null):(e.bynweekday=[[e.byweekday.weekday,e.byweekday.n]],e.byweekday=null);else{for(var o=[],l=[],t=0;t<e.byweekday.length;t++){var c=e.byweekday[t];if(ar(c)){o.push(c);continue}else if(Ph(c)){o.push(ct.fromStr(c).weekday);continue}!c.n||e.freq>X.MONTHLY?o.push(c.weekday):l.push([c.weekday,c.n])}e.byweekday=it(o)?o:null,e.bynweekday=it(l)?l:null}return Ve(e.byhour)?ar(e.byhour)&&(e.byhour=[e.byhour]):e.byhour=e.freq<X.HOURLY?[e.dtstart.getUTCHours()]:null,Ve(e.byminute)?ar(e.byminute)&&(e.byminute=[e.byminute]):e.byminute=e.freq<X.MINUTELY?[e.dtstart.getUTCMinutes()]:null,Ve(e.bysecond)?ar(e.bysecond)&&(e.bysecond=[e.bysecond]):e.bysecond=e.freq<X.SECONDLY?[e.dtstart.getUTCSeconds()]:null,{parsedOptions:e}}function pb(r){var e=r.dtstart.getTime()%1e3;if(!za(r.freq))return[];var t=[];return r.byhour.forEach(function(n){r.byminute.forEach(function(s){r.bysecond.forEach(function(a){t.push(new mi(n,s,a,e))})})}),t}function Za(r){var e=r.split(`
`).map(dI).filter(function(t){return t!==null});return Bt(Bt({},e[0]),e[1])}function Ka(r){var e={},t=/DTSTART(?:;TZID=([^:=]+?))?(?::|=)([^;\s]+)/i.exec(r);if(!t)return e;var n=t[1],s=t[2];return n&&(e.tzid=n),e.dtstart=se.untilStringToDate(s),e}function dI(r){if(r=r.replace(/^\s+|\s+$/,""),!r.length)return null;var e=/^([A-Z]+?)[:;]/.exec(r.toUpperCase());if(!e)return yb(r);var t=e[1];switch(t.toUpperCase()){case"RRULE":case"EXRULE":return yb(r);case"DTSTART":return Ka(r);default:throw new Error("Unsupported RFC prop ".concat(t," in ").concat(r))}}function yb(r){var e=r.replace(/^RRULE:/i,""),t=Ka(e),n=r.replace(/^(?:RRULE|EXRULE):/i,"").split(";");return n.forEach(function(s){var a=s.split("="),o=a[0],l=a[1];switch(o.toUpperCase()){case"FREQ":t.freq=_e[l.toUpperCase()];break;case"WKST":t.wkst=Er[l.toUpperCase()];break;case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":var c=fI(l),f=o.toLowerCase();t[f]=c;break;case"BYWEEKDAY":case"BYDAY":t.byweekday=hI(l);break;case"DTSTART":case"TZID":var p=Ka(r);t.tzid=p.tzid,t.dtstart=p.dtstart;break;case"UNTIL":t.until=se.untilStringToDate(l);break;case"BYEASTER":t.byeaster=Number(l);break;default:throw new Error("Unknown RRULE property '"+o+"'")}}),t}function fI(r){if(r.indexOf(",")!==-1){var e=r.split(",");return e.map(gb)}return gb(r)}function gb(r){return/^[+-]?\d+$/.test(r)?Number(r):r}function hI(r){var e=r.split(",");return e.map(function(t){if(t.length===2)return Er[t];var n=t.match(/^([+-]?\d{1,2})([A-Z]{2})$/);if(!n||n.length<3)throw new SyntaxError("Invalid weekday string: ".concat(t));var s=Number(n[1]),a=n[2],o=Er[a].weekday;return new ct(o,s)})}var vs=function(){function r(e,t){if(isNaN(e.getTime()))throw new RangeError("Invalid date passed to DateWithZone");this.date=e,this.tzid=t}return Object.defineProperty(r.prototype,"isUTC",{get:function(){return!this.tzid||this.tzid.toUpperCase()==="UTC"},enumerable:!1,configurable:!0}),r.prototype.toString=function(){var e=se.timeToUntilString(this.date.getTime(),this.isUTC);return this.isUTC?":".concat(e):";TZID=".concat(this.tzid,":").concat(e)},r.prototype.getTime=function(){return this.date.getTime()},r.prototype.rezonedDate=function(){var e;if(this.isUTC)return this.date;var t=Intl.DateTimeFormat().resolvedOptions().timeZone,n=new Date(this.date.toLocaleString(void 0,{timeZone:t})),s=new Date(this.date.toLocaleString(void 0,{timeZone:(e=this.tzid)!==null&&e!==void 0?e:"UTC"})),a=s.getTime()-n.getTime();return new Date(this.date.getTime()-a)},r}();function Xa(r){for(var e=[],t="",n=Object.keys(r),s=Object.keys(Va),a=0;a<n.length;a++)if(n[a]!=="tzid"&&!!De(s,n[a])){var o=n[a].toUpperCase(),l=r[n[a]],c="";if(!(!Ve(l)||Ct(l)&&!l.length)){switch(o){case"FREQ":c=X.FREQUENCIES[r.freq];break;case"WKST":ar(l)?c=new ct(l).toString():c=l.toString();break;case"BYWEEKDAY":o="BYDAY",c=LT(l).map(function(O){return O instanceof ct?O:Ct(O)?new ct(O[0],O[1]):new ct(O)}).toString();break;case"DTSTART":t=pI(l,r.tzid);break;case"UNTIL":c=se.timeToUntilString(l,!r.tzid);break;default:if(Ct(l)){for(var f=[],p=0;p<l.length;p++)f[p]=String(l[p]);c=f.toString()}else c=String(l)}c&&e.push([o,c])}}var g=e.map(function(O){var b=O[0],x=O[1];return"".concat(b,"=").concat(x.toString())}).join(";"),T="";return g!==""&&(T="RRULE:".concat(g)),[t,T].filter(function(O){return!!O}).join(`
`)}function pI(r,e){return r?"DTSTART"+new vs(new Date(r),e).toString():""}function mI(r,e){return Array.isArray(r)?!Array.isArray(e)||r.length!==e.length?!1:r.every(function(t,n){return t.getTime()===e[n].getTime()}):r instanceof Date?e instanceof Date&&r.getTime()===e.getTime():r===e}var _b=function(){function r(){this.all=!1,this.before=[],this.after=[],this.between=[]}return r.prototype._cacheAdd=function(e,t,n){t&&(t=t instanceof Date?se.clone(t):se.cloneDates(t)),e==="all"?this.all=t:(n._value=t,this[e].push(n))},r.prototype._cacheGet=function(e,t){var n=!1,s=t?Object.keys(t):[],a=function(p){for(var g=0;g<s.length;g++){var T=s[g];if(!mI(t[T],p[T]))return!0}return!1},o=this[e];if(e==="all")n=this.all;else if(Ct(o))for(var l=0;l<o.length;l++){var c=o[l];if(!(s.length&&a(c))){n=c._value;break}}if(!n&&this.all){for(var f=new yn(e,t),l=0;l<this.all.length&&f.accept(this.all[l]);l++);n=f.getValue(),this._cacheAdd(e,n,t)}return Ct(n)?se.cloneDates(n):n instanceof Date?se.clone(n):n},r}();var Tb=U(U(U(U(U(U(U(U(U(U(U(U(U([],we(1,31),!0),we(2,28),!0),we(3,31),!0),we(4,30),!0),we(5,31),!0),we(6,30),!0),we(7,31),!0),we(8,31),!0),we(9,30),!0),we(10,31),!0),we(11,30),!0),we(12,31),!0),we(1,7),!0),bb=U(U(U(U(U(U(U(U(U(U(U(U(U([],we(1,31),!0),we(2,29),!0),we(3,31),!0),we(4,30),!0),we(5,31),!0),we(6,30),!0),we(7,31),!0),we(8,31),!0),we(9,30),!0),we(10,31),!0),we(11,30),!0),we(12,31),!0),we(1,7),!0),yI=kr(1,29),gI=kr(1,30),$n=kr(1,31),Ut=kr(1,32),vb=U(U(U(U(U(U(U(U(U(U(U(U(U([],Ut,!0),gI,!0),Ut,!0),$n,!0),Ut,!0),$n,!0),Ut,!0),Ut,!0),$n,!0),Ut,!0),$n,!0),Ut,!0),Ut.slice(0,7),!0),wb=U(U(U(U(U(U(U(U(U(U(U(U(U([],Ut,!0),yI,!0),Ut,!0),$n,!0),Ut,!0),$n,!0),Ut,!0),Ut,!0),$n,!0),Ut,!0),$n,!0),Ut,!0),Ut.slice(0,7),!0),_I=kr(-28,0),TI=kr(-29,0),Gn=kr(-30,0),Wt=kr(-31,0),kb=U(U(U(U(U(U(U(U(U(U(U(U(U([],Wt,!0),TI,!0),Wt,!0),Gn,!0),Wt,!0),Gn,!0),Wt,!0),Wt,!0),Gn,!0),Wt,!0),Gn,!0),Wt,!0),Wt.slice(0,7),!0),Eb=U(U(U(U(U(U(U(U(U(U(U(U(U([],Wt,!0),_I,!0),Wt,!0),Gn,!0),Wt,!0),Gn,!0),Wt,!0),Wt,!0),Gn,!0),Wt,!0),Gn,!0),Wt,!0),Wt.slice(0,7),!0),Db=[0,31,60,91,121,152,182,213,244,274,305,335,366],Sb=[0,31,59,90,120,151,181,212,243,273,304,334,365],Ih=function(){for(var r=[],e=0;e<55;e++)r=r.concat(kr(7));return r}();function Ob(r,e){var t=new Date(Date.UTC(r,0,1)),n=se.isLeapYear(r)?366:365,s=se.isLeapYear(r+1)?366:365,a=se.toOrdinal(t),o=se.getWeekday(t),l=Bt(Bt({yearlen:n,nextyearlen:s,yearordinal:a,yearweekday:o},bI(r)),{wnomask:null});if(or(e.byweekno))return l;l.wnomask=we(0,n+7);var c,f,p=c=Yt(7-o+e.wkst,7);p>=4?(p=0,f=l.yearlen+Yt(o-e.wkst,7)):f=n-p;for(var g=Math.floor(f/7),T=Yt(f,7),O=Math.floor(g+T/4),b=0;b<e.byweekno.length;b++){var x=e.byweekno[b];if(x<0&&(x+=O+1),x>0&&x<=O){var I=void 0;x>1?(I=p+(x-1)*7,p!==c&&(I-=7-c)):I=p;for(var $=0;$<7&&(l.wnomask[I]=1,I++,l.wdaymask[I]!==e.wkst);$++);}}if(De(e.byweekno,1)){var I=p+O*7;if(p!==c&&(I-=7-c),I<n)for(var b=0;b<7&&(l.wnomask[I]=1,I+=1,l.wdaymask[I]!==e.wkst);b++);}if(p){var H=void 0;if(De(e.byweekno,-1))H=-1;else{var W=se.getWeekday(new Date(Date.UTC(r-1,0,1))),ke=Yt(7-W.valueOf()+e.wkst,7),Te=se.isLeapYear(r-1)?366:365,be=void 0;ke>=4?(ke=0,be=Te+Yt(W-e.wkst,7)):be=n-p,H=Math.floor(52+Yt(be,7)/4)}if(De(e.byweekno,H))for(var I=0;I<p;I++)l.wnomask[I]=1}return l}function bI(r){var e=se.isLeapYear(r)?366:365,t=new Date(Date.UTC(r,0,1)),n=se.getWeekday(t);return e===365?{mmask:Tb,mdaymask:wb,nmdaymask:Eb,wdaymask:Ih.slice(n),mrange:Sb}:{mmask:bb,mdaymask:vb,nmdaymask:kb,wdaymask:Ih.slice(n),mrange:Db}}function Mb(r,e,t,n,s,a){var o={lastyear:r,lastmonth:e,nwdaymask:[]},l=[];if(a.freq===X.YEARLY)if(or(a.bymonth))l=[[0,t]];else for(var c=0;c<a.bymonth.length;c++)e=a.bymonth[c],l.push(n.slice(e-1,e+1));else a.freq===X.MONTHLY&&(l=[n.slice(e-1,e+1)]);if(or(l))return o;o.nwdaymask=we(0,t);for(var c=0;c<l.length;c++)for(var f=l[c],p=f[0],g=f[1]-1,T=0;T<a.bynweekday.length;T++){var O=void 0,b=a.bynweekday[T],x=b[0],I=b[1];I<0?(O=g+(I+1)*7,O-=Yt(s[O]-x,7)):(O=p+(I-1)*7,O+=Yt(7-s[O]+x,7)),p<=O&&O<=g&&(o.nwdaymask[O]=1)}return o}function Rb(r,e){e===void 0&&(e=0);var t=r%19,n=Math.floor(r/100),s=r%100,a=Math.floor(n/4),o=n%4,l=Math.floor((n+8)/25),c=Math.floor((n-l+1)/3),f=Math.floor(19*t+n-a-c+15)%30,p=Math.floor(s/4),g=s%4,T=Math.floor(32+2*o+2*p-f-g)%7,O=Math.floor((t+11*f+22*T)/451),b=Math.floor((f+T-7*O+114)/31),x=(f+T-7*O+114)%31+1,I=Date.UTC(r,b-1,x+e),$=Date.UTC(r,0,1);return[Math.ceil((I-$)/(1e3*60*60*24))]}var vI=function(){function r(e){this.options=e}return r.prototype.rebuild=function(e,t){var n=this.options;if(e!==this.lastyear&&(this.yearinfo=Ob(e,n)),it(n.bynweekday)&&(t!==this.lastmonth||e!==this.lastyear)){var s=this.yearinfo,a=s.yearlen,o=s.mrange,l=s.wdaymask;this.monthinfo=Mb(e,t,a,o,l,n)}Ve(n.byeaster)&&(this.eastermask=Rb(e,n.byeaster))},Object.defineProperty(r.prototype,"lastyear",{get:function(){return this.monthinfo?this.monthinfo.lastyear:null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lastmonth",{get:function(){return this.monthinfo?this.monthinfo.lastmonth:null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"yearlen",{get:function(){return this.yearinfo.yearlen},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"yearordinal",{get:function(){return this.yearinfo.yearordinal},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mrange",{get:function(){return this.yearinfo.mrange},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"wdaymask",{get:function(){return this.yearinfo.wdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mmask",{get:function(){return this.yearinfo.mmask},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"wnomask",{get:function(){return this.yearinfo.wnomask},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"nwdaymask",{get:function(){return this.monthinfo?this.monthinfo.nwdaymask:[]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"nextyearlen",{get:function(){return this.yearinfo.nextyearlen},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mdaymask",{get:function(){return this.yearinfo.mdaymask},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"nmdaymask",{get:function(){return this.yearinfo.nmdaymask},enumerable:!1,configurable:!0}),r.prototype.ydayset=function(){return[kr(this.yearlen),0,this.yearlen]},r.prototype.mdayset=function(e,t){for(var n=this.mrange[t-1],s=this.mrange[t],a=we(null,this.yearlen),o=n;o<s;o++)a[o]=o;return[a,n,s]},r.prototype.wdayset=function(e,t,n){for(var s=we(null,this.yearlen+7),a=se.toOrdinal(new Date(Date.UTC(e,t-1,n)))-this.yearordinal,o=a,l=0;l<7&&(s[a]=a,++a,this.wdaymask[a]!==this.options.wkst);l++);return[s,o,a]},r.prototype.ddayset=function(e,t,n){var s=we(null,this.yearlen),a=se.toOrdinal(new Date(Date.UTC(e,t-1,n)))-this.yearordinal;return s[a]=a,[s,a,a+1]},r.prototype.htimeset=function(e,t,n,s){var a=this,o=[];return this.options.byminute.forEach(function(l){o=o.concat(a.mtimeset(e,l,n,s))}),se.sort(o),o},r.prototype.mtimeset=function(e,t,n,s){var a=this.options.bysecond.map(function(o){return new mi(e,t,o,s)});return se.sort(a),a},r.prototype.stimeset=function(e,t,n,s){return[new mi(e,t,n,s)]},r.prototype.getdayset=function(e){switch(e){case _e.YEARLY:return this.ydayset.bind(this);case _e.MONTHLY:return this.mdayset.bind(this);case _e.WEEKLY:return this.wdayset.bind(this);case _e.DAILY:return this.ddayset.bind(this);default:return this.ddayset.bind(this)}},r.prototype.gettimeset=function(e){switch(e){case _e.HOURLY:return this.htimeset.bind(this);case _e.MINUTELY:return this.mtimeset.bind(this);case _e.SECONDLY:return this.stimeset.bind(this)}},r}(),xb=vI;function Pb(r,e,t,n,s,a){for(var o=[],l=0;l<r.length;l++){var c=void 0,f=void 0,p=r[l];p<0?(c=Math.floor(p/e.length),f=Yt(p,e.length)):(c=Math.floor((p-1)/e.length),f=Yt(p-1,e.length));for(var g=[],T=t;T<n;T++){var O=a[T];!Ve(O)||g.push(O)}var b=void 0;c<0?b=g.slice(c)[0]:b=g[c];var x=e[f],I=se.fromOrdinal(s.yearordinal+b),$=se.combine(I,x);De(o,$)||o.push($)}return se.sort(o),o}function xu(r,e){var t=e.dtstart,n=e.freq,s=e.interval,a=e.until,o=e.bysetpos,l=e.count;if(l===0||s===0)return gn(r);var c=fb.fromDate(t),f=new xb(e);f.rebuild(c.year,c.month);for(var p=EI(f,c,e);;){var g=f.getdayset(n)(c.year,c.month,c.day),T=g[0],O=g[1],b=g[2],x=kI(T,O,b,f,e);if(it(o))for(var I=Pb(o,p,O,b,f,T),$=0;$<I.length;$++){var H=I[$];if(a&&H>a)return gn(r);if(H>=t){var W=Ab(H,e);if(!r.accept(W)||l&&(--l,!l))return gn(r)}}else for(var $=O;$<b;$++){var ke=T[$];if(!!Ve(ke))for(var Te=se.fromOrdinal(f.yearordinal+ke),be=0;be<p.length;be++){var ee=p[be],H=se.combine(Te,ee);if(a&&H>a)return gn(r);if(H>=t){var W=Ab(H,e);if(!r.accept(W)||l&&(--l,!l))return gn(r)}}}if(e.interval===0||(c.add(e,x),c.year>se.MAXYEAR))return gn(r);za(n)||(p=f.gettimeset(n)(c.hour,c.minute,c.second,0)),f.rebuild(c.year,c.month)}}function wI(r,e,t){var n=t.bymonth,s=t.byweekno,a=t.byweekday,o=t.byeaster,l=t.bymonthday,c=t.bynmonthday,f=t.byyearday;return it(n)&&!De(n,r.mmask[e])||it(s)&&!r.wnomask[e]||it(a)&&!De(a,r.wdaymask[e])||it(r.nwdaymask)&&!r.nwdaymask[e]||o!==null&&!De(r.eastermask,e)||(it(l)||it(c))&&!De(l,r.mdaymask[e])&&!De(c,r.nmdaymask[e])||it(f)&&(e<r.yearlen&&!De(f,e+1)&&!De(f,-r.yearlen+e)||e>=r.yearlen&&!De(f,e+1-r.yearlen)&&!De(f,-r.nextyearlen+e-r.yearlen))}function Ab(r,e){return new vs(r,e.tzid).rezonedDate()}function gn(r){return r.getValue()}function kI(r,e,t,n,s){for(var a=!1,o=e;o<t;o++){var l=r[o];a=wI(n,l,s),a&&(r[l]=null)}return a}function EI(r,e,t){var n=t.freq,s=t.byhour,a=t.byminute,o=t.bysecond;return za(n)?pb(t):n>=X.HOURLY&&it(s)&&!De(s,e.hour)||n>=X.MINUTELY&&it(a)&&!De(a,e.minute)||n>=X.SECONDLY&&it(o)&&!De(o,e.second)?[]:r.gettimeset(n)(e.hour,e.minute,e.second,e.millisecond)}var Er={MO:new ct(0),TU:new ct(1),WE:new ct(2),TH:new ct(3),FR:new ct(4),SA:new ct(5),SU:new ct(6)},Va={freq:_e.YEARLY,dtstart:null,interval:1,wkst:Er.MO,count:null,until:null,tzid:null,bysetpos:null,bymonth:null,bymonthday:null,bynmonthday:null,byyearday:null,byweekno:null,byweekday:null,bynweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null},mb=Object.keys(Va),X=function(){function r(e,t){e===void 0&&(e={}),t===void 0&&(t=!1),this._cache=t?null:new _b,this.origOptions=Ch(e);var n=hb(e).parsedOptions;this.options=n}return r.parseText=function(e,t){return Ba(e,t)},r.fromText=function(e,t){return lb(e,t)},r.fromString=function(e){return new r(r.parseString(e)||void 0)},r.prototype._iter=function(e){return xu(e,this.options)},r.prototype._cacheGet=function(e,t){return this._cache?this._cache._cacheGet(e,t):!1},r.prototype._cacheAdd=function(e,t,n){if(!!this._cache)return this._cache._cacheAdd(e,t,n)},r.prototype.all=function(e){if(e)return this._iter(new Nh("all",{},e));var t=this._cacheGet("all");return t===!1&&(t=this._iter(new yn("all",{})),this._cacheAdd("all",t)),t},r.prototype.between=function(e,t,n,s){if(n===void 0&&(n=!1),!se.isValidDate(e)||!se.isValidDate(t))throw new Error("Invalid date passed in to RRule.between");var a={before:t,after:e,inc:n};if(s)return this._iter(new Nh("between",a,s));var o=this._cacheGet("between",a);return o===!1&&(o=this._iter(new yn("between",a)),this._cacheAdd("between",o,a)),o},r.prototype.before=function(e,t){if(t===void 0&&(t=!1),!se.isValidDate(e))throw new Error("Invalid date passed in to RRule.before");var n={dt:e,inc:t},s=this._cacheGet("before",n);return s===!1&&(s=this._iter(new yn("before",n)),this._cacheAdd("before",s,n)),s},r.prototype.after=function(e,t){if(t===void 0&&(t=!1),!se.isValidDate(e))throw new Error("Invalid date passed in to RRule.after");var n={dt:e,inc:t},s=this._cacheGet("after",n);return s===!1&&(s=this._iter(new yn("after",n)),this._cacheAdd("after",s,n)),s},r.prototype.count=function(){return this.all().length},r.prototype.toString=function(){return Xa(this.origOptions)},r.prototype.toText=function(e,t,n){return cb(this,e,t,n)},r.prototype.isFullyConvertibleToText=function(){return db(this)},r.prototype.clone=function(){return new r(this.origOptions)},r.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"],r.YEARLY=_e.YEARLY,r.MONTHLY=_e.MONTHLY,r.WEEKLY=_e.WEEKLY,r.DAILY=_e.DAILY,r.HOURLY=_e.HOURLY,r.MINUTELY=_e.MINUTELY,r.SECONDLY=_e.SECONDLY,r.MO=Er.MO,r.TU=Er.TU,r.WE=Er.WE,r.TH=Er.TH,r.FR=Er.FR,r.SA=Er.SA,r.SU=Er.SU,r.parseString=Za,r.optionsToString=Xa,r}();function Nb(r,e,t,n,s,a){var o={},l=r.accept;function c(T,O){t.forEach(function(b){b.between(T,O,!0).forEach(function(x){o[Number(x)]=!0})})}s.forEach(function(T){var O=new vs(T,a).rezonedDate();o[Number(O)]=!0}),r.accept=function(T){var O=Number(T);return isNaN(O)?l.call(this,T):!o[O]&&(c(new Date(O-1),new Date(O+1)),!o[O])?(o[O]=!0,l.call(this,T)):!0},r.method==="between"&&(c(r.args.after,r.args.before),r.accept=function(T){var O=Number(T);return o[O]?!0:(o[O]=!0,l.call(this,T))});for(var f=0;f<n.length;f++){var p=new vs(n[f],a).rezonedDate();if(!r.accept(new Date(p.getTime())))break}e.forEach(function(T){xu(r,T.options)});var g=r._result;switch(se.sort(g),r.method){case"all":case"between":return g;case"before":return g.length&&g[g.length-1]||null;case"after":default:return g.length&&g[0]||null}}var Cb={dtstart:null,cache:!1,unfold:!1,forceset:!1,compatible:!1,tzid:null};function DI(r,e){var t=[],n=[],s=[],a=[],o=Ka(r),l=o.dtstart,c=o.tzid,f=xI(r,e.unfold);return f.forEach(function(p){var g;if(!!p){var T=RI(p),O=T.name,b=T.parms,x=T.value;switch(O.toUpperCase()){case"RRULE":if(b.length)throw new Error("unsupported RRULE parm: ".concat(b.join(",")));t.push(Za(p));break;case"RDATE":var I=(g=/RDATE(?:;TZID=([^:=]+))?/i.exec(p))!==null&&g!==void 0?g:[],$=I[1];$&&!c&&(c=$),n=n.concat(Ib(x,b));break;case"EXRULE":if(b.length)throw new Error("unsupported EXRULE parm: ".concat(b.join(",")));s.push(Za(x));break;case"EXDATE":a=a.concat(Ib(x,b));break;case"DTSTART":break;default:throw new Error("unsupported property: "+O)}}}),{dtstart:l,tzid:c,rrulevals:t,rdatevals:n,exrulevals:s,exdatevals:a}}function SI(r,e){var t=DI(r,e),n=t.rrulevals,s=t.rdatevals,a=t.exrulevals,o=t.exdatevals,l=t.dtstart,c=t.tzid,f=e.cache===!1;if(e.compatible&&(e.forceset=!0,e.unfold=!0),e.forceset||n.length>1||s.length||a.length||o.length){var p=new Lh(f);return p.dtstart(l),p.tzid(c||void 0),n.forEach(function(T){p.rrule(new X(Fh(T,l,c),f))}),s.forEach(function(T){p.rdate(T)}),a.forEach(function(T){p.exrule(new X(Fh(T,l,c),f))}),o.forEach(function(T){p.exdate(T)}),e.compatible&&e.dtstart&&p.rdate(l),p}var g=n[0]||{};return new X(Fh(g,g.dtstart||e.dtstart||l,g.tzid||e.tzid||c),f)}function Pu(r,e){return e===void 0&&(e={}),SI(r,OI(e))}function Fh(r,e,t){return Bt(Bt({},r),{dtstart:e,tzid:t})}function OI(r){var e=[],t=Object.keys(r),n=Object.keys(Cb);if(t.forEach(function(s){De(n,s)||e.push(s)}),e.length)throw new Error("Invalid options: "+e.join(", "));return Bt(Bt({},Cb),r)}function MI(r){if(r.indexOf(":")===-1)return{name:"RRULE",value:r};var e=YT(r,":",1),t=e[0],n=e[1];return{name:t,value:n}}function RI(r){var e=MI(r),t=e.name,n=e.value,s=t.split(";");if(!s)throw new Error("empty property name");return{name:s[0].toUpperCase(),parms:s.slice(1),value:n}}function xI(r,e){if(e===void 0&&(e=!1),r=r&&r.trim(),!r)throw new Error("Invalid empty string");if(!e)return r.split(/\s/);for(var t=r.split(`
`),n=0;n<t.length;){var s=t[n]=t[n].replace(/\s+$/g,"");s?n>0&&s[0]===" "?(t[n-1]+=s.slice(1),t.splice(n,1)):n+=1:t.splice(n,1)}return t}function PI(r){r.forEach(function(e){if(!/(VALUE=DATE(-TIME)?)|(TZID=)/.test(e))throw new Error("unsupported RDATE/EXDATE parm: "+e)})}function Ib(r,e){return PI(e),r.split(",").map(function(t){return se.untilStringToDate(t)})}function Fb(r){var e=this;return function(t){if(t!==void 0&&(e["_".concat(r)]=t),e["_".concat(r)]!==void 0)return e["_".concat(r)];for(var n=0;n<e._rrule.length;n++){var s=e._rrule[n].origOptions[r];if(s)return s}}}var Lh=function(r){hi(e,r);function e(t){t===void 0&&(t=!1);var n=r.call(this,{},t)||this;return n.dtstart=Fb.apply(n,["dtstart"]),n.tzid=Fb.apply(n,["tzid"]),n._rrule=[],n._rdate=[],n._exrule=[],n._exdate=[],n}return e.prototype._iter=function(t){return Nb(t,this._rrule,this._exrule,this._rdate,this._exdate,this.tzid())},e.prototype.rrule=function(t){Lb(t,this._rrule)},e.prototype.exrule=function(t){Lb(t,this._exrule)},e.prototype.rdate=function(t){Yb(t,this._rdate)},e.prototype.exdate=function(t){Yb(t,this._exdate)},e.prototype.rrules=function(){return this._rrule.map(function(t){return Pu(t.toString())})},e.prototype.exrules=function(){return this._exrule.map(function(t){return Pu(t.toString())})},e.prototype.rdates=function(){return this._rdate.map(function(t){return new Date(t.getTime())})},e.prototype.exdates=function(){return this._exdate.map(function(t){return new Date(t.getTime())})},e.prototype.valueOf=function(){var t=[];return!this._rrule.length&&this._dtstart&&(t=t.concat(Xa({dtstart:this._dtstart}))),this._rrule.forEach(function(n){t=t.concat(n.toString().split(`
`))}),this._exrule.forEach(function(n){t=t.concat(n.toString().split(`
`).map(function(s){return s.replace(/^RRULE:/,"EXRULE:")}).filter(function(s){return!/^DTSTART/.test(s)}))}),this._rdate.length&&t.push(Ub("RDATE",this._rdate,this.tzid())),this._exdate.length&&t.push(Ub("EXDATE",this._exdate,this.tzid())),t},e.prototype.toString=function(){return this.valueOf().join(`
`)},e.prototype.clone=function(){var t=new e(!!this._cache);return this._rrule.forEach(function(n){return t.rrule(n.clone())}),this._exrule.forEach(function(n){return t.exrule(n.clone())}),this._rdate.forEach(function(n){return t.rdate(new Date(n.getTime()))}),this._exdate.forEach(function(n){return t.exdate(new Date(n.getTime()))}),t},e}(X);function Lb(r,e){if(!(r instanceof X))throw new TypeError(String(r)+" is not RRule instance");De(e.map(String),String(r))||e.push(r)}function Yb(r,e){if(!(r instanceof Date))throw new TypeError(String(r)+" is not Date instance");De(e.map(Number),Number(r))||(e.push(r),se.sort(e))}function Ub(r,e,t){var n=!t||t.toUpperCase()==="UTC",s=n?"".concat(r,":"):"".concat(r,";TZID=").concat(t,":"),a=e.map(function(o){return se.timeToUntilString(o.valueOf(),n)}).join(",");return"".concat(s).concat(a)}function Br(r,e){return r!==null&&e===null?-1:r===null&&e!==null?1:r!==null&&e!==null?r.isValid()&&!e.isValid()?-1:!r.isValid()&&e.isValid()||r.isAfter(e)?1:r.isBefore(e)?-1:0:0}var Ot=class{constructor({rrule:e,baseOnToday:t,referenceDate:n,startDate:s,scheduledDate:a,dueDate:o}){this.rrule=e,this.baseOnToday=t,this.referenceDate=n,this.startDate=s,this.scheduledDate=a,this.dueDate=o}static fromText({recurrenceRuleText:e,startDate:t,scheduledDate:n,dueDate:s}){try{let a=e.match(/^([a-zA-Z0-9, !]+?)( when done)?$/i);if(a==null)return null;let o=a[1].trim(),l=a[2]!==void 0,c=X.parseText(o);if(c!==null){let f=null;s?f=window.moment(s):n?f=window.moment(n):t&&(f=window.moment(t)),!l&&f!==null?c.dtstart=window.moment(f).startOf("day").utc(!0).toDate():c.dtstart=window.moment().startOf("day").utc(!0).toDate();let p=new X(c);return new Ot({rrule:p,baseOnToday:l,referenceDate:f,startDate:t,scheduledDate:n,dueDate:s})}}catch(a){}return null}toText(){let e=this.rrule.toText();return this.baseOnToday&&(e+=" when done"),e}next(){var t;let e;if(this.baseOnToday){let n=window.moment(),s=new X(tr(Ae({},this.rrule.origOptions),{dtstart:n.startOf("day").utc(!0).toDate()}));e=this.nextAfter(n.endOf("day"),s)}else{let n=window.moment((t=this.referenceDate)!=null?t:void 0).endOf("day");e=this.nextAfter(n,this.rrule)}if(e!==null){let n=null,s=null,a=null;if(this.referenceDate){if(this.startDate){let o=window.moment.duration(this.startDate.diff(this.referenceDate));n=window.moment(e),n.add(Math.round(o.asDays()),"days")}if(this.scheduledDate){let o=window.moment.duration(this.scheduledDate.diff(this.referenceDate));s=window.moment(e),s.add(Math.round(o.asDays()),"days")}if(this.dueDate){let o=window.moment.duration(this.dueDate.diff(this.referenceDate));a=window.moment(e),a.add(Math.round(o.asDays()),"days")}}return{startDate:n,scheduledDate:s,dueDate:a}}return null}identicalTo(e){return this.baseOnToday!==e.baseOnToday||Br(this.startDate,e.startDate)!==0||Br(this.scheduledDate,e.scheduledDate)!==0||Br(this.dueDate,e.dueDate)!==0?!1:this.toText()===e.toText()}nextAfter(e,t){e.utc(!0);let n=window.moment(t.after(e.toDate())),s=this.toText(),a=s.match(/every( \d+)? month(s)?(.*)?/);a!==null&&(s.includes(" on ")||(n=Ot.nextAfterMonths(e,n,t,a[1])));let o=s.match(/every( \d+)? year(s)?(.*)?/);return o!==null&&(n=Ot.nextAfterYears(e,n,t,o[1])),Ot.addTimezone(n).toDate()}static nextAfterMonths(e,t,n,s){let a=1;for(s!==void 0&&(a=Number.parseInt(s.trim(),10));Ot.isSkippingTooManyMonths(e,t,a);)t=Ot.fromOneDayEarlier(e,n);return t}static isSkippingTooManyMonths(e,t,n){let s=t.month()-e.month();return s+=(t.year()-e.year())*12,s>n}static nextAfterYears(e,t,n,s){let a=1;for(s!==void 0&&(a=Number.parseInt(s.trim(),10));Ot.isSkippingTooManyYears(e,t,a);)t=Ot.fromOneDayEarlier(e,n);return t}static isSkippingTooManyYears(e,t,n){return t.year()-e.year()>n}static fromOneDayEarlier(e,t){e.subtract(1,"days").endOf("day");let n=t.origOptions;return n.dtstart=e.startOf("day").toDate(),t=new X(n),window.moment(t.after(e.toDate()))}static addTimezone(e){return window.moment.utc(e).local(!0).startOf("day")}};function Yh(r){let e=[r.startDateSymbol,r.scheduledDateSymbol,r.dueDateSymbol].join("|");return(t,n,s)=>{let a=[];return a=a.concat(NI(t,n,s,e)),a=a.concat(CI(t,n,s,r.recurrenceSymbol)),a=a.concat(AI(t,n,s,r)),a.length>0&&!a.some(o=>o.suggestionType==="match")&&a.unshift({suggestionType:"empty",displayText:"\u23CE",appendText:`
`}),a=a.slice(0,s.autoSuggestMaxItems),a}}function AI(r,e,t,n){let s=c=>Object.values(n.prioritySymbols).some(f=>f.length>0&&c.includes(f)),a=[];if(r.includes(n.dueDateSymbol)||a.push({displayText:`${n.dueDateSymbol} due date`,appendText:`${n.dueDateSymbol} `}),r.includes(n.startDateSymbol)||a.push({displayText:`${n.startDateSymbol} start date`,appendText:`${n.startDateSymbol} `}),r.includes(n.scheduledDateSymbol)||a.push({displayText:`${n.scheduledDateSymbol} scheduled date`,appendText:`${n.scheduledDateSymbol} `}),s(r)||(a.push({displayText:`${n.prioritySymbols.High} high priority`,appendText:`${n.prioritySymbols.High} `}),a.push({displayText:`${n.prioritySymbols.Medium} medium priority`,appendText:`${n.prioritySymbols.Medium} `}),a.push({displayText:`${n.prioritySymbols.Low} low priority`,appendText:`${n.prioritySymbols.Low} `})),r.includes(n.recurrenceSymbol)||a.push({displayText:`${n.recurrenceSymbol} recurring (repeat)`,appendText:`${n.recurrenceSymbol} `}),!r.includes(n.createdDateSymbol)){let f=ir.parseDate("today",!0).format(ie.dateFormat);a.push({textToMatch:`${n.createdDateSymbol} created`,displayText:`${n.createdDateSymbol} created today (${f})`,appendText:`${n.createdDateSymbol} ${f} `})}let o=Uh(r,/([a-zA-Z'_-]*)/g,e),l=[];if(o&&o.length>0){let c=o[0];if(c.length>=Math.max(1,t.autoSuggestMinMatch)){let f=a.filter(p=>(p.textToMatch||p.displayText).toLowerCase().includes(c.toLowerCase()));for(let p of f)l.push({suggestionType:"match",displayText:p.displayText,appendText:p.appendText,insertAt:o.index,insertSkip:c.length})}}return l.length===0&&t.autoSuggestMinMatch===0?a:l}function NI(r,e,t,n){let s=["today","tomorrow","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","next week","next month","next year"],a=[],o=new RegExp(`(${n})\\s*([0-9a-zA-Z ]*)`,"ug"),l=Uh(r,o,e);if(l&&l.length>=2){let c=l[1],f=l[2];if(f.length<t.autoSuggestMinMatch)return[];let p=f&&f.length>1?ir.parseDate(di(f),!0):null;p&&p.isValid()&&a.push({displayText:`${p.format(ie.dateFormat)}`,appendText:`${c} ${p.format(ie.dateFormat)} `,insertAt:l.index,insertSkip:l[0].length});let g=1,T=5,O=s.filter(b=>f&&f.length>=g&&b.toLowerCase().includes(f.toLowerCase())).slice(0,T);O.length===0&&(O=s.slice(0,T));for(let b of O){let I=`${ir.parseDate(b,!0).format(ie.dateFormat)}`;a.push({suggestionType:"match",displayText:`${b} (${I})`,appendText:`${c} ${I} `,insertAt:l.index,insertSkip:l[0].length})}}return a}function CI(r,e,t,n){var c;let s=["every","every day","every week","every month","every month on the","every year","every week on Sunday","every week on Monday","every week on Tuesday","every week on Wednesday","every week on Thursday","every week on Friday","every week on Saturday"],a=[],o=new RegExp(`(${n})\\s*([0-9a-zA-Z ]*)`,"ug"),l=Uh(r,o,e);if(l&&l.length>=2){let f=l[1],p=l[2];if(p.length<t.autoSuggestMinMatch)return[];if(p.length>0){let b=(c=Ot.fromText({recurrenceRuleText:p,startDate:null,scheduledDate:null,dueDate:null}))==null?void 0:c.toText();if(b){let x=`${f} ${b} `;if(a.push({suggestionType:"match",displayText:`\u2705 ${b}`,appendText:x,insertAt:l.index,insertSkip:l[0].length}),l[0]==x)return[]}}let g=1,T=t.autoSuggestMaxItems/2,O=s.filter(b=>p&&p.length>=g&&b.toLowerCase().includes(p.toLowerCase())).slice(0,T);O.length===0&&p.trim().length===0&&(O=s.slice(0,T));for(let b of O)a.push({suggestionType:"match",displayText:`${b}`,appendText:`${f} ${b} `,insertAt:l.index,insertSkip:l[0].length})}return a}function Uh(r,e,t){let n=r.matchAll(e);for(let s of n)if((s==null?void 0:s.index)&&s.index<=t&&t<=s.index+s[0].length)return s}var Qa=class{constructor(){this.hideTaskCount=!1;this.hideBacklinks=!1;this.hidePriority=!1;this.hideCreatedDate=!1;this.hideStartDate=!1;this.hideScheduledDate=!1;this.hideDoneDate=!1;this.hideDueDate=!1;this.hideRecurrenceRule=!1;this.hideEditButton=!1;this.hideUrgency=!0;this.shortMode=!1;this.explainQuery=!1}},Hn=class{constructor(e,t){this.defaultLayout=["description","priority","recurrenceRule","createdDate","startDate","scheduledDate","dueDate","doneDate","blockLink"];this.hiddenComponents=[];this.specificClasses=[];e?this.options=e:this.options=new Qa,t?this.layoutComponents=t:this.layoutComponents=this.defaultLayout,this.layoutComponents=this.applyOptions(this.options)}applyOptions(e){let t=(a,o,l)=>o?(this.specificClasses.push(`tasks-layout-hide-${l}`),this.hiddenComponents.push(l),a.filter(c=>c!=l)):a,n=(a,o)=>{a&&this.specificClasses.push(`tasks-layout-hide-${o}`)},s=this.layoutComponents;return s=t(s,e.hidePriority,"priority"),s=t(s,e.hideRecurrenceRule,"recurrenceRule"),s=t(s,e.hideCreatedDate,"createdDate"),s=t(s,e.hideStartDate,"startDate"),s=t(s,e.hideScheduledDate,"scheduledDate"),s=t(s,e.hideDueDate,"dueDate"),s=t(s,e.hideDoneDate,"doneDate"),n(e.hideUrgency,"urgency"),n(e.hideBacklinks,"backlinks"),n(e.hideEditButton,"edit-button"),e.shortMode&&this.specificClasses.push("tasks-layout-short-mode"),s}};var Wh={prioritySymbols:{High:"\u23EB",Medium:"\u{1F53C}",Low:"\u{1F53D}",None:""},startDateSymbol:"\u{1F6EB}",createdDateSymbol:"\u2795",scheduledDateSymbol:"\u23F3",dueDateSymbol:"\u{1F4C5}",doneDateSymbol:"\u2705",recurrenceSymbol:"\u{1F501}",TaskFormatRegularExpressions:{priorityRegex:/([⏫🔼🔽])$/u,startDateRegex:/🛫 *(\d{4}-\d{2}-\d{2})$/u,createdDateRegex:/➕ *(\d{4}-\d{2}-\d{2})$/u,scheduledDateRegex:/[⏳⌛] *(\d{4}-\d{2}-\d{2})$/u,dueDateRegex:/[📅📆🗓] *(\d{4}-\d{2}-\d{2})$/u,doneDateRegex:/✅ *(\d{4}-\d{2}-\d{2})$/u,recurrenceRegex:/🔁 ?([a-zA-Z0-9, !]+)$/iu}},ws=class{constructor(e){this.symbols=e}serialize(e){let t=new Hn,n="";for(let s of t.layoutComponents)n+=this.componentToString(e,t,s);return n}componentToString(e,t,n){var g;let{prioritySymbols:s,startDateSymbol:a,createdDateSymbol:o,scheduledDateSymbol:l,doneDateSymbol:c,recurrenceSymbol:f,dueDateSymbol:p}=this.symbols;switch(n){case"description":return e.description;case"priority":{let T="";return e.priority==="1"?T=" "+s.High:e.priority==="2"?T=" "+s.Medium:e.priority==="4"&&(T=" "+s.Low),T}case"startDate":return e.startDate?t.options.shortMode?" "+a:` ${a} ${e.startDate.format(ie.dateFormat)}`:"";case"createdDate":return e.createdDate?t.options.shortMode?" "+o:` ${o} ${e.createdDate.format(ie.dateFormat)}`:"";case"scheduledDate":return!e.scheduledDate||e.scheduledDateIsInferred?"":t.options.shortMode?" "+l:` ${l} ${e.scheduledDate.format(ie.dateFormat)}`;case"doneDate":return e.doneDate?t.options.shortMode?" "+c:` ${c} ${e.doneDate.format(ie.dateFormat)}`:"";case"dueDate":return e.dueDate?t.options.shortMode?" "+p:` ${p} ${e.dueDate.format(ie.dateFormat)}`:"";case"recurrenceRule":return e.recurrence?t.options.shortMode?" "+f:` ${f} ${e.recurrence.toText()}`:"";case"blockLink":return(g=e.blockLink)!=null?g:"";default:throw new Error(`Don't know how to render task component of type '${n}'`)}}parsePriority(e){let{prioritySymbols:t}=this.symbols;switch(e){case t.Low:return"4";case t.Medium:return"2";case t.High:return"1";default:return"3"}}deserialize(e){let{TaskFormatRegularExpressions:t}=this.symbols,n,s="3",a=null,o=null,l=null,c=null,f=null,p="",g=null,T="",O=20,b=0;do{n=!1;let x=e.match(t.priorityRegex);x!==null&&(s=this.parsePriority(x[1]),e=e.replace(t.priorityRegex,"").trim(),n=!0);let I=e.match(t.doneDateRegex);I!==null&&(c=window.moment(I[1],ie.dateFormat),e=e.replace(t.doneDateRegex,"").trim(),n=!0);let $=e.match(t.dueDateRegex);$!==null&&(l=window.moment($[1],ie.dateFormat),e=e.replace(t.dueDateRegex,"").trim(),n=!0);let H=e.match(t.scheduledDateRegex);H!==null&&(o=window.moment(H[1],ie.dateFormat),e=e.replace(t.scheduledDateRegex,"").trim(),n=!0);let W=e.match(t.startDateRegex);W!==null&&(a=window.moment(W[1],ie.dateFormat),e=e.replace(t.startDateRegex,"").trim(),n=!0);let ke=e.match(t.createdDateRegex);ke!==null&&(f=window.moment(ke[1],ie.dateFormat),e=e.replace(t.createdDateRegex,"").trim(),n=!0);let Te=e.match(t.recurrenceRegex);Te!==null&&(p=Te[1].trim(),e=e.replace(t.recurrenceRegex,"").trim(),n=!0);let be=e.match(ie.hashTagsFromEnd);if(be!=null){e=e.replace(ie.hashTagsFromEnd,"").trim(),n=!0;let ee=be[0].trim();T=T.length>0?[ee,T].join(" "):ee}b++}while(n&&b<=O);return p.length>0&&(g=Ot.fromText({recurrenceRuleText:p,startDate:a,scheduledDate:o,dueDate:l})),T.length>0&&(e+=" "+T),{description:e,priority:s,startDate:a,createdDate:f,scheduledDate:o,dueDate:l,doneDate:c,recurrence:g,tags:Ge.extractHashtags(e)}}};function ks(r){let e=["(?:",/(?=[^\]]+\])\[/,"|",/(?=[^)]+\))\(/,")",/ */,r,/ */,/[)\]]/,/$/].map(t=>t instanceof RegExp?t.source:t).join("");return new RegExp(e,r.flags)}var qh={prioritySymbols:{High:"priority:: high",Medium:"priority:: medium",Low:"priority:: low",None:""},startDateSymbol:"start::",createdDateSymbol:"created::",scheduledDateSymbol:"scheduled::",dueDateSymbol:"due::",doneDateSymbol:"completion::",recurrenceSymbol:"repeat::",TaskFormatRegularExpressions:{priorityRegex:ks(/priority:: *(high|medium|low)/),startDateRegex:ks(/start:: *(\d{4}-\d{2}-\d{2})/),createdDateRegex:ks(/created:: *(\d{4}-\d{2}-\d{2})/),scheduledDateRegex:ks(/scheduled:: *(\d{4}-\d{2}-\d{2})/),dueDateRegex:ks(/due:: *(\d{4}-\d{2}-\d{2})/),doneDateRegex:ks(/completion:: *(\d{4}-\d{2}-\d{2})/),recurrenceRegex:ks(/repeat:: *([a-zA-Z0-9, !]+)/)}},Au=class extends ws{constructor(){super(qh)}parsePriority(e){switch(e){case"high":return"1";case"medium":return"2";case"low":return"4";default:return"3"}}componentToString(e,t,n){let s=super.componentToString(e,t,n);return s!==""&&!["blockLink","description"].includes(n)?` [${s.trim()}]`:s}};var Dr=(o=>(o.TODO="TODO",o.DONE="DONE",o.IN_PROGRESS="IN_PROGRESS",o.CANCELLED="CANCELLED",o.NON_TASK="NON_TASK",o.EMPTY="EMPTY",o))(Dr||{}),Mt=class{constructor(e,t,n,s,a="TODO"){this.symbol=e,this.name=t,this.nextStatusSymbol=n,this.availableAsCommand=s,this.type=a}};var Xt=class{get symbol(){return this.configuration.symbol}get name(){return this.configuration.name}get nextStatusSymbol(){return this.configuration.nextStatusSymbol}get availableAsCommand(){return this.configuration.availableAsCommand}get type(){return this.configuration.type}constructor(e){this.configuration=e}static makeDone(){return new Xt(new Mt("x","Done"," ",!0,"DONE"))}static makeEmpty(){return new Xt(new Mt("","EMPTY","",!0,"EMPTY"))}static makeTodo(){return new Xt(new Mt(" ","Todo","x",!0,"TODO"))}static makeCancelled(){return new Xt(new Mt("-","Cancelled"," ",!0,"CANCELLED"))}static makeInProgress(){return new Xt(new Mt("/","In Progress","x",!0,"IN_PROGRESS"))}static getTypeForUnknownSymbol(e){switch(e){case"x":case"X":return"DONE";case"/":return"IN_PROGRESS";case"-":return"CANCELLED";case"":return"EMPTY";case" ":default:return"TODO"}}static getTypeFromStatusTypeString(e){return Dr[e]||"TODO"}static createUnknownStatus(e){return new Xt(new Mt(e,"Unknown","x",!1,"TODO"))}static createFromImportedValue(e){let t=e[0],n=Xt.getTypeFromStatusTypeString(e[3]);return new Xt(new Mt(t,e[1],e[2],!1,n))}isCompleted(){return this.type==="DONE"}previewText(){let e="";return Xt.tasksPluginCanCreateCommandsForStatuses()&&this.availableAsCommand&&(e=" Available as a command."),`- [${this.symbol}] => [${this.nextStatusSymbol}], name: '${this.name}', type: '${this.configuration.type}'.${e}`}static tasksPluginCanCreateCommandsForStatuses(){return!1}},he=Xt;he.DONE=Xt.makeDone(),he.EMPTY=Xt.makeEmpty(),he.TODO=Xt.makeTodo();var Nu=class{constructor(e=!1,t=!1){this.ignoreSortInstructions=e,this.showTaskHiddenData=t}};var yt=class{constructor(){this.coreStatuses=[he.makeTodo().configuration,he.makeDone().configuration],this.customStatuses=[he.makeInProgress().configuration,he.makeCancelled().configuration]}static addStatus(e,t){e.push(t)}static replaceStatus(e,t,n){let s=this.findStatusIndex(t,e);return s<=-1?!1:(e.splice(s,1,n),!0)}static findStatusIndex(e,t){let n=new he(e);return t.findIndex(s=>new he(s).previewText()==n.previewText())}static deleteStatus(e,t){let n=this.findStatusIndex(t,e);return n<=-1?!1:(e.splice(n,1),!0)}static deleteAllCustomStatuses(e){e.customStatuses.splice(0)}static resetAllCustomStatuses(e){yt.deleteAllCustomStatuses(e),new yt().customStatuses.forEach(n=>{yt.addStatus(e.customStatuses,n)})}static bulkAddStatusCollection(e,t){let n=[];return t.forEach(s=>{e.customStatuses.find(o=>o.symbol==s[0]&&o.name==s[1]&&o.nextStatusSymbol==s[2])?n.push(`The status ${s[1]} (${s[0]}) is already added.`):yt.addStatus(e.customStatuses,he.createFromImportedValue(s))}),n}static applyToStatusRegistry(e,t){t.clearStatuses(),e.coreStatuses.forEach(n=>{t.add(n)}),e.customStatuses.forEach(n=>{t.add(n)})}};var Wb=[{index:9999,internalName:"INTERNAL_TESTING_ENABLED_BY_DEFAULT",displayName:"Test Item. Used to validate the Feature Framework.",description:"Description",enabledByDefault:!0,stable:!1}];var zr=class{constructor(e,t,n,s,a,o){this.internalName=e;this.index=t;this.description=n;this.displayName=s;this.enabledByDefault=a;this.stable=o}static get values(){let e=[];return Wb.forEach(t=>{e=[...e,new zr(t.internalName,t.index,t.description,t.displayName,t.enabledByDefault,t.stable)]}),e}static get settingsFlags(){let e={};return zr.values.forEach(t=>{e[t.internalName]=t.enabledByDefault}),e}static fromString(e){for(let t of zr.values)if(e===t.internalName)return t;throw new RangeError(`Illegal argument passed to fromString(): ${e} does not correspond to any available Feature ${this.prototype.constructor.name}`)}};function Cu(r){return r.replace(/([.*+?^${}()|[\]/\\])/g,"\\$1")}var Sr=class{static get(){let{globalFilter:e}=de();return e}static set(e){Rt({globalFilter:e})}static reset(){Rt({globalFilter:Sr.empty})}static isEmpty(){return Sr.get()===Sr.empty}static equals(e){return Sr.get()===e}static includedIn(e){let t=Sr.get();return e.includes(t)}static prependTo(e){return Sr.get()+" "+e}static removeAsWordFrom(e){if(Sr.isEmpty())return e;let t=RegExp("(^|\\s)"+Cu(Sr.get())+"($|\\s)","ug");return e.search(t)>-1&&(e=e.replace(t,"$1$2").replace("  "," ").trim()),e}static removeAsSubstringFrom(e){let t=Sr.get();return e.replace(t,"").trim()}static removeAsSubstringFromDependingOnSettings(e){let{removeGlobalFilter:t}=de();return t?Sr.removeAsSubstringFrom(e):e}},Fe=Sr;Fe.empty="";var _n={tasksPluginEmoji:{displayName:"Tasks Emoji Format",taskSerializer:new ws(Wh),buildSuggestions:Yh(Wh)},dataview:{displayName:"Dataview",taskSerializer:new Au,buildSuggestions:Yh(qh)}},FI={globalFilter:Fe.empty,removeGlobalFilter:!1,taskFormat:"tasksPluginEmoji",setCreatedDate:!1,setDoneDate:!0,autoSuggestInEditor:!0,autoSuggestMinMatch:0,autoSuggestMaxItems:6,provideAccessKeys:!0,useFilenameAsScheduledDate:!1,filenameAsDateFolders:[],statusSettings:new yt,features:zr.settingsFlags,generalSettings:{},headingOpened:{},debugSettings:new Nu},Bn=Ae({},FI),de=()=>{for(let r in zr.settingsFlags)Bn.features[r]===void 0&&(Bn.features[r]=zr.settingsFlags[r]);return Bn.statusSettings.customStatuses.forEach((r,e,t)=>{var s,a;let n=he.getTypeFromStatusTypeString(r.type);t[e]=new Mt((s=r.symbol)!=null?s:" ",r.name,(a=r.nextStatusSymbol)!=null?a:"x",r.availableAsCommand,n)}),Ae({},Bn)},Rt=r=>(Bn=Ae(Ae({},Bn),r),de());var Es=(r,e)=>(Bn.generalSettings[r]=e,de()),jb=r=>{var e;return(e=Bn.features[r])!=null?e:!1};function eo(){return _n[de().taskFormat]}var He=class{constructor(){this._registeredStatuses=[];this.addDefaultStatusTypes()}get registeredStatuses(){return this._registeredStatuses.filter(({symbol:e})=>e!==he.EMPTY.symbol)}static getInstance(){return He.instance||(He.instance=new He),He.instance}add(e){this.hasSymbol(e.symbol)||(e instanceof he?this._registeredStatuses.push(e):this._registeredStatuses.push(new he(e)))}bySymbol(e){return this.hasSymbol(e)?this.getSymbol(e):he.EMPTY}bySymbolOrCreate(e){return this.hasSymbol(e)?this.getSymbol(e):he.createUnknownStatus(e)}byName(e){return this._registeredStatuses.filter(({name:t})=>t===e).length>0?this._registeredStatuses.filter(({name:t})=>t===e)[0]:he.EMPTY}resetToDefaultStatuses(){this.clearStatuses(),this.addDefaultStatusTypes()}clearStatuses(){this._registeredStatuses=[]}getNextStatus(e){if(e.nextStatusSymbol!==""){let t=this.bySymbol(e.nextStatusSymbol);if(t!==null)return t}return he.EMPTY}getNextStatusOrCreate(e){let t=this.getNextStatus(e);return t.type!=="EMPTY"?t:he.createUnknownStatus(e.nextStatusSymbol)}findUnknownStatuses(e){let t=e.filter(a=>!this.hasSymbol(a.symbol)),n=new He,s=[];return t.forEach(a=>{if(n.hasSymbol(a.symbol))return;let o=He.copyStatusWithNewName(a,`Unknown (${a.symbol})`);s.push(o),n.add(o)}),s}static copyStatusWithNewName(e,t){let n=new Mt(e.symbol,t,e.nextStatusSymbol,e.availableAsCommand,e.type);return new he(n)}getSymbol(e){return this._registeredStatuses.filter(({symbol:t})=>t===e)[0]}hasSymbol(e){return this._registeredStatuses.find(t=>t.symbol===e)!==void 0}addDefaultStatusTypes(){[he.makeTodo(),he.makeInProgress(),he.makeDone(),he.makeCancelled()].forEach(t=>{this.add(t)})}};var bn=class{static calculate(e){let t=0;if(e.dueDate!==null){let n=Math.round(window.moment().diff(e.dueDate)/bn.milliSecondsPerDay),s;n>=7?s=1:n>=-14?s=(n+14)*.8/21+.2:s=.2,t+=s*bn.dueCoefficient}switch(e.scheduledDate!==null&&window.moment().isSameOrAfter(e.scheduledDate)&&(t+=1*bn.scheduledCoefficient),e.startDate!==null&&window.moment().isBefore(e.startDate)&&(t+=1*bn.startedCoefficient),e.priority){case"1":t+=1*bn.priorityCoefficient;break;case"2":t+=.65*bn.priorityCoefficient;break;case"3":t+=.325*bn.priorityCoefficient;break}return t}},Tn=bn;Tn.dueCoefficient=12,Tn.scheduledCoefficient=5,Tn.startedCoefficient=-3,Tn.priorityCoefficient=6,Tn.milliSecondsPerDay=1e3*60*60*24;var Jb=require("obsidian");var no=require("obsidian");var Bb=Cn(ku()),LI=require("obsidian"),zb=Cn(Hb());var jh=class extends zb.EventEmitter2{constructor(){super(...arguments);this.options={minLevels:{"":"info",tasks:"info"}};this.consoleLoggerRegistered=!1;this.arrAvg=t=>t.reduce((n,s)=>n+s,0)/t.length}configure(t){return this.options=Object.assign({},this.options,t),this}getLogger(t){let n="none",s="";for(let a in this.options.minLevels)t.startsWith(a)&&a.length>=s.length&&(n=this.options.minLevels[a],s=a);return new $h(this,t,n)}onLogEntry(t){return this.on("log",t),this}registerConsoleLogger(){return this.consoleLoggerRegistered?this:(this.onLogEntry(t=>{let n=`[${(0,Bb.default)().format("YYYY-MM-DD-HH:mm:ss.SSS")}][${t.level}][${t.module}]`;switch(t.traceId&&(n+=`[${t.traceId}]`),n+=` ${t.message}`,t.objects===void 0&&(t.objects=""),t.level){case"trace":console.trace(n,t.objects);break;case"debug":console.debug(n,t.objects);break;case"info":console.info(n,t.objects);break;case"warn":console.warn(n,t.objects);break;case"error":console.error(n,t.objects);break;default:console.log(`{${t.level}} ${n}`,t.objects)}}),this.consoleLoggerRegistered=!0,this)}},Iu=new jh,$h=class{constructor(e,t,n){this.levels={trace:1,debug:2,info:3,warn:4,error:5};this.logManager=e,this.module=t,this.minLevel=this.levelToInt(n)}levelToInt(e){return e.toLowerCase()in this.levels?this.levels[e.toLowerCase()]:99}log(e,t,n){if(this.levelToInt(e)<this.minLevel)return;let a={level:e,module:this.module,message:t,objects:n,traceId:void 0};this.logManager.emit("log",a)}trace(e,t){this.log("trace",e,t)}debug(e,t){this.log("debug",e,t)}info(e,t){this.log("info",e,t)}warn(e,t){this.log("warn",e,t)}error(e,t){this.log("error",e,t)}logWithId(e,t,n,s){if(this.levelToInt(e)<this.minLevel)return;let o={level:e,module:this.module,message:n,objects:s,traceId:t};this.logManager.emit("log",o)}traceWithId(e,t,n){this.logWithId("trace",e,t,n)}debugWithId(e,t,n){this.logWithId("debug",e,t,n)}infoWithId(e,t,n){this.logWithId("info",e,t,n)}warnWithId(e,t,n){this.logWithId("warn",e,t,n)}errorWithId(e,t,n){this.logWithId("error",e,t,n)}};var to,Gh,Hh,YI=["md"],ro=Iu.getLogger("tasks"),Vb=({metadataCache:r,vault:e,workspace:t})=>{to=r,Gh=e,Hh=t},Yu=t=>Q(void 0,[t],function*({originalTask:r,newTasks:e}){if(Gh===void 0||to===void 0||Hh===void 0){Fu("Tasks: cannot use File before initializing it.");return}Array.isArray(e)||(e=[e]),ro.debug(`replaceTaskWithTasks entered. ${r.path}`),Zb({originalTask:r,newTasks:e,vault:Gh,metadataCache:to,workspace:Hh,previousTries:0})});function Fu(r){console.error(r),new no.Notice(r,15e3)}function Kb(r){console.warn(r),new no.Notice(r,1e4)}function UI(r){ro.debug(r)}var zn=class extends Error{},Lu=class extends Error{},Zb=o=>Q(void 0,[o],function*({originalTask:r,newTasks:e,vault:t,metadataCache:n,workspace:s,previousTries:a}){ro.debug(`tryRepetitive after ${a} previous tries`);let l=()=>{if(a>10){let f=`Tasks: Could not find the correct task line to update.

The task line not updated is:
${r.originalMarkdown}

In this markdown file:
"${r.taskLocation.path}"

Note: further clicks on this checkbox will usually now be ignored until the file is opened (or certain, specific edits are made - it's complicated).

Recommendations:

1. Close all panes that have the above file open, and then re-open the file.

2. Check for exactly identical copies of the task line, in this file, and see if you can make them different.
`;Fu(f);return}let c=Math.min(Math.pow(10,a),100);ro.debug(`timeout = ${c}`),setTimeout(()=>{Zb({originalTask:r,newTasks:e,vault:t,metadataCache:n,workspace:s,previousTries:a+1})},c)};try{let[c,f,p]=yield Xb(r,t),g=[...p.slice(0,c),...e.map(T=>T.toFileLineString()),...p.slice(c+1)];yield t.modify(f,g.join(`
`))}catch(c){if(c instanceof zn)return c.message&&Kb(c.message),l();if(c instanceof Lu)return l();c instanceof Error&&Fu(c.message)}});function Xb(r,e){return Q(this,null,function*(){if(to===void 0)throw new zn;let t=e.getAbstractFileByPath(r.path);if(!(t instanceof no.TFile))throw new zn(`Tasks: No file found for task ${r.description}. Retrying ...`);if(!YI.includes(t.extension))throw new Error(`Tasks: Does not support files with the ${t.extension} file extension.`);let n=to.getFileCache(t);if(n==null||n===null)throw new zn(`Tasks: No file cache found for file ${t.path}. Retrying ...`);let s=n.listItems;if(s===void 0||s.length===0)throw new zn(`Tasks: No list items found in file cache of ${t.path}. Retrying ...`);let o=(yield e.read(t)).split(`
`),l=WI(r,o,s,UI);if(l===void 0)throw new Lu;return[l,t,o]})}function Bh(r,e){return Q(this,null,function*(){try{let[t,n,s]=yield Xb(r,e);return[t,n]}catch(t){t instanceof zn?t.message&&Kb(t.message):t instanceof Error&&Fu(t.message)}})}function Qb(r,e){return r<e.length}function WI(r,e,t,n){let s=qI(r,e);return s!==void 0||(s=jI(r,e),s!==void 0)?s:$I(r,e,t,n)}function qI(r,e){let t=r.taskLocation.lineNumber;if(Qb(t,e)&&e[t]===r.originalMarkdown)return ro.debug(`Found original markdown at original line number ${t}`),t}function jI(r,e){let t=[];for(let n=0;n<e.length;n++)e[n]===r.originalMarkdown&&t.push(n);if(t.length===1)return t[0]}function $I(r,e,t,n){let s,a=0;for(let o of t){let l=o.position.start.line;if(!Qb(l,e))return;if(l<r.taskLocation.sectionStart||o.task===void 0)continue;let c=e[l];if(Fe.includedIn(c)){if(a===r.taskLocation.sectionIndex){if(c===r.originalMarkdown)s=l;else{n(`Tasks: Unable to find task in file ${r.taskLocation.path}.
Expected task:
${r.originalMarkdown}
Found task:
${c}`);return}break}a++}}return s}var Vn={description:"task-description",priority:"task-priority",dueDate:"task-due",startDate:"task-start",createdDate:"task-created",scheduledDate:"task-scheduled",doneDate:"task-done",recurrenceRule:"task-recurring",blockLink:""},GI=7,HI="far";function BI(r,e,t){return Q(this,null,function*(){yield Jb.MarkdownRenderer.renderMarkdown(r,e,t,null)})}function ev(r,e,t=null){return Q(this,null,function*(){var l;t||(t=BI);let n=document.createElement("li");e.parentUlElement.appendChild(n),n.classList.add("task-list-item","plugin-tasks-list-item");let s=document.createElement("span");n.appendChild(s),s.classList.add("tasks-list-text");let a=yield zI(r,e,s,t);for(let c in a)n.dataset[c]=a[c];let o=document.createElement("input");return n.appendChild(o),o.classList.add("task-list-item-checkbox"),o.type="checkbox",r.status.symbol!==" "&&(o.checked=!0,n.classList.add("is-checked")),o.addEventListener("click",c=>{c.preventDefault(),c.stopPropagation(),o.disabled=!0;let f=r.toggle();Yu({originalTask:r,newTasks:f})}),n.prepend(o),n.setAttribute("data-task",r.status.symbol.trim()),n.setAttribute("data-line",e.listIndex.toString()),n.setAttribute("data-task-status-name",r.status.name),n.setAttribute("data-task-status-type",r.status.type),o.setAttribute("data-line",e.listIndex.toString()),(l=e.layoutOptions)!=null&&l.shortMode&&QI({task:r,element:s,isFilenameUnique:e.isFilenameUnique}),n})}function zI(r,e,t,n){return Q(this,null,function*(){let s={},a=new Hn(e.layoutOptions),o=_n.tasksPluginEmoji.taskSerializer;for(let l of a.layoutComponents){let c=o.componentToString(r,a,l);if(c){l==="description"&&(c=Fe.removeAsSubstringFromDependingOnSettings(c));let f=document.createElement("span");if(t.appendChild(f),f){let p=document.createElement("span");f.appendChild(p),yield VI(p,c,l,r,n);let[g,T]=zh(l,r);KI(l,p),f.classList.add(...g);for(let O in T)f.dataset[O]=T[O];s=Ae(Ae({},s),T)}}}for(let l of a.hiddenComponents){let[c,f]=zh(l,r);s=Ae(Ae({},s),f)}if(s.taskPriority===void 0){let[l,c]=zh("priority",r);s=Ae(Ae({},s),c)}return s})}function VI(r,e,t,n,s){return Q(this,null,function*(){if(t==="description"){let{debugSettings:a}=de();a.showTaskHiddenData&&(e+=`<br>\u{1F41B} <b>${n.lineNumber}</b> . ${n.sectionStart} . ${n.sectionIndex} . '<code>${n.originalMarkdown}</code>'<br>'<code>${n.path}</code>' > '<code>${n.precedingHeader}</code>'<br>`),yield s(e,r,n.path);let o=r.querySelector("blockquote"),l=o!=null?o:r,c=l.querySelector("p");if(c!==null){for(;c.firstChild;)l.insertBefore(c.firstChild,c);c.remove()}r.querySelectorAll("p").forEach(f=>{f.hasChildNodes()||f.remove()}),r.querySelectorAll(".footnotes").forEach(f=>{f.remove()})}else r.innerHTML=e})}function zh(r,e){let t=[],n={},s=(a,o)=>{let l=ZI(a);l&&(n[o]=l)};switch(r){case"description":t.push(Vn.description);break;case"priority":{let a=null;e.priority==="1"?a="high":e.priority==="2"?a="medium":e.priority==="4"?a="low":a="normal",n.taskPriority=a,t.push(Vn.priority);break}case"createdDate":{let a=e.createdDate;a&&(t.push(Vn.createdDate),s(a,"taskCreated"));break}case"dueDate":{let a=e.dueDate;a&&(t.push(Vn.dueDate),s(a,"taskDue"));break}case"startDate":{let a=e.startDate;a&&(t.push(Vn.startDate),s(a,"taskStart"));break}case"scheduledDate":{let a=e.scheduledDate;a&&(t.push(Vn.scheduledDate),s(a,"taskScheduled"));break}case"doneDate":{let a=e.doneDate;a&&(t.push(Vn.doneDate),s(a,"taskDone"));break}case"recurrenceRule":{t.push(Vn.recurrenceRule);break}}return[t,n]}function KI(r,e){if(r==="description"){let t=e.getElementsByClassName("tag");for(let n=0;n<t.length;n++){let s=t[n].textContent;if(s){let a=XI(s),o=t[n];a&&(o.dataset.tagName=a)}}}}function ZI(r){let e=window.moment().startOf("day"),t="",n=e.diff(r,"days");return isNaN(n)?null:n===0?"today":(n>0?t+="past-":n<0&&(t+="future-"),Math.abs(n)<=GI?t+=Math.abs(n).toString()+"d":t+=HI,t)}function XI(r){let e=/["&\x00\r\n]/g,t=r.replace(e,"-");return t=t.replace(/^[-_]+/,""),t.length>0?t:null}function QI({task:r,element:e,isFilenameUnique:t}){let{recurrenceSymbol:n,startDateSymbol:s,createdDateSymbol:a,scheduledDateSymbol:o,dueDateSymbol:l,doneDateSymbol:c}=_n.tasksPluginEmoji.taskSerializer.symbols;e.addEventListener("mouseenter",()=>{let f=e.createDiv();f.addClasses(["tooltip","pop-up"]),r.recurrence&&f.createDiv().setText(`${n} ${r.recurrence.toText()}`),r.createdDate&&f.createDiv().setText(so({signifier:a,date:r.createdDate})),r.startDate&&f.createDiv().setText(so({signifier:s,date:r.startDate})),r.scheduledDate&&f.createDiv().setText(so({signifier:o,date:r.scheduledDate})),r.dueDate&&f.createDiv().setText(so({signifier:l,date:r.dueDate})),r.doneDate&&f.createDiv().setText(so({signifier:c,date:r.doneDate}));let p=r.getLinkText({isFilenameUnique:t});p&&f.createDiv().setText(`\u{1F517} ${p}`),e.addEventListener("mouseleave",()=>{f.remove()})})}function so({signifier:r,date:e}){return`${r} ${e.format(ie.dateFormat)} (${e.from(window.moment().startOf("day"))})`}var Qt=class{static fromPath(e){let{useFilenameAsScheduledDate:t,filenameAsDateFolders:n}=de();return!t||!this.matchesAnyFolder(n,e)?null:this.extractDateFromPath(e)}static matchesAnyFolder(e,t){return e.length===0?!0:e.some(n=>t.startsWith(n+"/"))}static extractDateFromPath(e){let t=Math.max(0,e.lastIndexOf("/")+1),n=e.lastIndexOf("."),s=e.substring(t,n),a=/(\d{4})-(\d{2})-(\d{2})/.exec(s);if(a||(a=/(\d{4})(\d{2})(\d{2})/.exec(s)),a){let o=window.moment([parseInt(a[1]),parseInt(a[2])-1,parseInt(a[3])]);if(o.isValid())return o}return null}static canApplyFallback({startDate:e,scheduledDate:t,dueDate:n}){return e===null&&n===null&&t===null}static updateTaskPath(e,t,n){let s=e.scheduledDate,a=e.scheduledDateIsInferred;return n===null?a&&(a=!1,s=null):a?s=n:this.canApplyFallback(e)&&(s=n,a=!0),new Ge(tr(Ae({},e),{taskLocation:e.taskLocation.fromRenamedFile(t),scheduledDate:s,scheduledDateIsInferred:a}))}static removeInferredStatusIfNeeded(e,t){let n=e.scheduledDateIsInferred?e.scheduledDate:null;return t.map(s=>(n!==null&&!n.isSame(s.scheduledDate,"day")&&(s=new Ge(tr(Ae({},s),{scheduledDateIsInferred:!1}))),s))}};var ur=class{},ie=ur;ie.dateFormat="YYYY-MM-DD",ie.indentationRegex=/^([\s\t>]*)/,ie.listMarkerRegex=/([-*]|[0-9]+\.)/,ie.checkboxRegex=/\[(.)\]/u,ie.afterCheckboxRegex=/ *(.*)/u,ie.taskRegex=new RegExp(ur.indentationRegex.source+ur.listMarkerRegex.source+" +"+ur.checkboxRegex.source+ur.afterCheckboxRegex.source,"u"),ie.nonTaskRegex=new RegExp(ur.indentationRegex.source+ur.listMarkerRegex.source+"? *("+ur.checkboxRegex.source+")?"+ur.afterCheckboxRegex.source,"u"),ie.listItemRegex=new RegExp(ur.indentationRegex.source+ur.listMarkerRegex.source),ie.blockLinkRegex=/ \^[a-zA-Z0-9-]+$/u,ie.hashTags=/(^|\s)#[^ !@#$%^&*(),.?":{}|<>]*/g,ie.hashTagsFromEnd=new RegExp(ur.hashTags.source+"$");var Ge=class{constructor({status:e,description:t,taskLocation:n,indentation:s,listMarker:a,priority:o,createdDate:l,startDate:c,scheduledDate:f,dueDate:p,doneDate:g,recurrence:T,blockLink:O,tags:b,originalMarkdown:x,scheduledDateIsInferred:I}){this._urgency=null;this.status=e,this.description=t,this.indentation=s,this.listMarker=a,this.taskLocation=n,this.tags=b,this.priority=o,this.createdDate=l,this.startDate=c,this.scheduledDate=f,this.dueDate=p,this.doneDate=g,this.recurrence=T,this.blockLink=O,this.originalMarkdown=x,this.scheduledDateIsInferred=I}static fromLine({line:e,taskLocation:t,fallbackDate:n}){let s=e.match(ie.taskRegex);if(s===null)return null;let a=s[4].trim();if(!Fe.includedIn(a))return null;let o=a,l=s[1],c=s[2],f=s[3],p=He.getInstance().bySymbolOrCreate(f),g=o.match(ie.blockLinkRegex),T=g!==null?g[0]:"";T!==""&&(o=o.replace(ie.blockLinkRegex,"").trim());let{taskSerializer:O}=eo(),b=O.deserialize(o),x=!1;return Qt.canApplyFallback(b)&&n!==null&&(b.scheduledDate=n,x=!0),b.tags=b.tags.map(I=>I.trim()),b.tags=b.tags.filter(I=>!Fe.equals(I)),new Ge(tr(Ae({},b),{status:p,indentation:l,listMarker:c,taskLocation:t,blockLink:T,originalMarkdown:e,scheduledDateIsInferred:x}))}toLi(e){return Q(this,null,function*(){return ev(this,e)})}toString(){return eo().taskSerializer.serialize(this)}toFileLineString(){return`${this.indentation}${this.listMarker} [${this.status.symbol}] ${this.toString()}`}toggle(){let e=He.getInstance().getNextStatusOrCreate(this.status),t=null,n=null;if(e.isCompleted()){let{setDoneDate:o}=de();o&&(t=window.moment()),this.recurrence!==null&&(n=this.recurrence.next())}let s=new Ge(tr(Ae({},this),{status:e,doneDate:t})),a=[];if(n!==null){let{setCreatedDate:o}=de(),l=null;o&&(l=window.moment());let c=He.getInstance().getNextStatusOrCreate(e),f=new Ge(tr(Ae(Ae({},this),n),{status:c,blockLink:"",createdDate:l}));a.push(f)}return a.push(s),a}get urgency(){return this._urgency===null&&(this._urgency=Tn.calculate(this)),this._urgency}get path(){return this.taskLocation.path}get filename(){let e=this.path.match(/([^/]+)\.md$/);return e!==null?e[1]:null}get lineNumber(){return this.taskLocation.lineNumber}get sectionStart(){return this.taskLocation.sectionStart}get sectionIndex(){return this.taskLocation.sectionIndex}get precedingHeader(){return this.taskLocation.precedingHeader}getLinkText({isFilenameUnique:e}){let t;return e?t=this.filename:t="/"+this.path,t===null?null:(this.precedingHeader!==null&&this.precedingHeader!==t&&(t=t+" > "+this.precedingHeader),t)}static tasksListsIdentical(e,t){return e.length!==t.length?!1:e.every((n,s)=>n.identicalTo(t[s]))}identicalTo(e){let t=["status","description","path","indentation","listMarker","lineNumber","sectionStart","sectionIndex","precedingHeader","priority","blockLink","scheduledDateIsInferred"];for(let a of t)if(this[a]!==e[a])return!1;if(this.tags.length!==e.tags.length||!this.tags.every(function(a,o){return a===e.tags[o]}))return!1;t=["createdDate","startDate","scheduledDate","dueDate","doneDate"];for(let a of t){let o=this[a],l=e[a];if(Br(o,l)!==0)return!1}let n=this.recurrence,s=e.recurrence;return n===null&&s!==null||n!==null&&s===null?!1:!(n&&s&&!n.identicalTo(s))}static extractHashtags(e){var t,n;return(n=(t=e.match(ie.hashTags))==null?void 0:t.map(s=>s.trim()))!=null?n:[]}};var io=class{constructor(e){this.fetch=e;this._value=void 0}get value(){return this._value===void 0&&(this._value=this.fetch()),this._value}};var It=class{constructor(e,t,n,s,a){this._path=e,this._lineNumber=t,this._sectionStart=n,this._sectionIndex=s,this._precedingHeader=a}static fromUnknownPosition(e){return new It(e,0,0,0,null)}fromRenamedFile(e){return new It(e,this.lineNumber,this.sectionStart,this.sectionIndex,this.precedingHeader)}get path(){return this._path}get lineNumber(){return this._lineNumber}get sectionStart(){return this._sectionStart}get sectionIndex(){return this._sectionIndex}get precedingHeader(){return this._precedingHeader}};var Ds=class{constructor({metadataCache:e,vault:t,events:n}){this.metadataCache=e,this.metadataCacheEventReferences=[],this.vault=t,this.vaultEventReferences=[],this.events=n,this.eventsEventReferences=[],this.tasksMutex=new Po,this.state="Cold",this.tasks=[],this.loadedAfterFirstResolve=!1,this.subscribeToCache(),this.subscribeToVault(),this.subscribeToEvents(),this.loadVault()}unload(){for(let e of this.metadataCacheEventReferences)this.metadataCache.offref(e);for(let e of this.vaultEventReferences)this.vault.offref(e);for(let e of this.eventsEventReferences)this.events.off(e)}getTasks(){return this.tasks}getState(){return this.state}notifySubscribers(){this.events.triggerCacheUpdate({tasks:this.tasks,state:this.state})}subscribeToCache(){let e=this.metadataCache.on("resolved",()=>Q(this,null,function*(){this.loadedAfterFirstResolve||(this.loadedAfterFirstResolve=!0,this.loadVault())}));this.metadataCacheEventReferences.push(e);let t=this.metadataCache.on("changed",n=>{this.tasksMutex.runExclusive(()=>{this.indexFile(n)})});this.metadataCacheEventReferences.push(t)}subscribeToVault(){let{useFilenameAsScheduledDate:e}=de(),t=this.vault.on("create",a=>{a instanceof yi.TFile&&this.tasksMutex.runExclusive(()=>{this.indexFile(a)})});this.vaultEventReferences.push(t);let n=this.vault.on("delete",a=>{a instanceof yi.TFile&&this.tasksMutex.runExclusive(()=>{this.tasks=this.tasks.filter(o=>o.path!==a.path),this.notifySubscribers()})});this.vaultEventReferences.push(n);let s=this.vault.on("rename",(a,o)=>{a instanceof yi.TFile&&this.tasksMutex.runExclusive(()=>{let l=new io(()=>Qt.fromPath(a.path));this.tasks=this.tasks.map(c=>c.path===o?e?Qt.updateTaskPath(c,a.path,l.value):new Ge(tr(Ae({},c),{taskLocation:c.taskLocation.fromRenamedFile(a.path)})):c),this.notifySubscribers()})});this.vaultEventReferences.push(s)}subscribeToEvents(){let e=this.events.onRequestCacheUpdate(t=>{t({tasks:this.tasks,state:this.state})});this.eventsEventReferences.push(e)}loadVault(){return this.tasksMutex.runExclusive(()=>Q(this,null,function*(){this.state="Initializing",yield Promise.all(this.vault.getMarkdownFiles().map(e=>this.indexFile(e))),this.state="Warm",this.notifySubscribers()}))}indexFile(e){return Q(this,null,function*(){let t=this.metadataCache.getFileCache(e);if(t==null)return;let n=this.tasks.filter(o=>o.path===e.path),s=t.listItems,a=[];if(s!==void 0){let o=yield this.vault.cachedRead(e);a=this.getTasksFromFileContent(o,s,t,e)}Ge.tasksListsIdentical(n,a)||(this.getState()=="Warm"&&console.debug(`At least one task, its line number or its heading has changed in ${e.path}: triggering a refresh of all active Tasks blocks in Live Preview and Reading mode views.`),this.tasks=this.tasks.filter(o=>o.path!==e.path),this.tasks.push(...a),this.notifySubscribers())})}getTasksFromFileContent(e,t,n,s){let a=[],o=e.split(`
`),l=o.length,c=new io(()=>Qt.fromPath(s.path)),f=null,p=0;for(let g of t)if(g.task!==void 0){let T=g.position.start.line;if(T>=l)return console.log(`${s.path} Obsidian gave us a line number ${T} past the end of the file. ${l}.`),a;if((f===null||f.position.end.line<T)&&(f=Ds.getSection(T,n.sections),p=0),f===null)continue;let O=o[T];if(O===void 0){console.log(`${s.path}: line ${T} - ignoring 'undefined' line.`);continue}let b;try{b=Ge.fromLine({line:O,taskLocation:new It(s.path,T,f.position.start.line,p,Ds.getPrecedingHeader(T,n.headings)),fallbackDate:c.value})}catch(x){this.reportTaskParsingErrorToUser(x,s,g,O);continue}b!==null&&(p++,a.push(b))}return a}reportTaskParsingErrorToUser(e,t,n,s){let a=`There was an error reading one of the tasks in this vault.
The following task has been ignored, to prevent Tasks queries getting stuck with 'Loading Tasks ...'
Error: ${e}
File: ${t.path}
Line number: ${n.position.start.line}
Task line: ${s}

Please create a bug report for this message at
https://github.com/obsidian-tasks-group/obsidian-tasks/issues/new/choose
to help us find and fix the underlying issue.

Include:
- either a screenshot of the error popup, or copy the text from the console, if on a desktop machine.
- the output from running the Obsidian command 'Show debug info'

The error popup will only be shown when Tasks is starting up, but if the error persists,
it will be shown in the console every time this file is edited during the Obsidian
session.
`;console.error(a),e instanceof Error&&console.error(e.stack),this.state==="Initializing"&&new yi.Notice(a,1e4)}static getSection(e,t){if(t===void 0)return null;for(let n of t)if(n.position.start.line<=e&&n.position.end.line>=e)return n;return null}static getPrecedingHeader(e,t){if(t===void 0)return null;let n=null;for(let s of t){if(s.position.start.line>e)return n;n=s.heading}return n}};var sp=require("obsidian");var _v=require("obsidian");function Os(){}function Zh(r){return r()}function rv(){return Object.create(null)}function Ms(r){r.forEach(Zh)}function sv(r){return typeof r=="function"}function iv(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function av(r){return Object.keys(r).length===0}var ov=!1;function JI(){ov=!0}function eF(){ov=!1}function L(r,e){r.appendChild(e)}function gi(r,e,t){r.insertBefore(e,t||null)}function Rs(r){r.parentNode.removeChild(r)}function Xh(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function ae(r){return document.createElement(r)}function tF(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Jt(r){return document.createTextNode(r)}function Se(){return Jt(" ")}function zt(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function uv(r){return function(e){return e.preventDefault(),r.call(this,e)}}function z(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function rF(r){return Array.from(r.childNodes)}function Qh(r,e){e=""+e,r.wholeText!==e&&(r.data=e)}function Fr(r,e){r.value=e==null?"":e}function Jh(r,e){for(let t=0;t<r.options.length;t+=1){let n=r.options[t];if(n.__value===e){n.selected=!0;return}}r.selectedIndex=-1}function lv(r){let e=r.querySelector(":checked")||r.options[0];return e&&e.__value}function Lr(r,e,t){r.classList[t?"add":"remove"](e)}var Ss=class{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=tF(t.nodeName):this.e=ae(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)gi(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(Rs)}};var uo;function oo(r){uo=r}function nF(){if(!uo)throw new Error("Function called outside component initialization");return uo}function ep(r){nF().$$.on_mount.push(r)}var ao=[];var qu=[],Wu=[],nv=[],sF=Promise.resolve(),Kh=!1;function iF(){Kh||(Kh=!0,sF.then(cv))}function lo(r){Wu.push(r)}var Vh=new Set,Uu=0;function cv(){let r=uo;do{for(;Uu<ao.length;){let e=ao[Uu];Uu++,oo(e),aF(e.$$)}for(oo(null),ao.length=0,Uu=0;qu.length;)qu.pop()();for(let e=0;e<Wu.length;e+=1){let t=Wu[e];Vh.has(t)||(Vh.add(t),t())}Wu.length=0}while(ao.length);for(;nv.length;)nv.pop()();Kh=!1,Vh.clear(),oo(r)}function aF(r){if(r.fragment!==null){r.update(),Ms(r.before_update);let e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(lo)}}var oF=new Set;function uF(r,e){r&&r.i&&(oF.delete(r),r.i(e))}var Rj=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function lF(r,e,t,n){let{fragment:s,on_mount:a,on_destroy:o,after_update:l}=r.$$;s&&s.m(e,t),n||lo(()=>{let c=a.map(Zh).filter(sv);o?o.push(...c):Ms(c),r.$$.on_mount=[]}),l.forEach(lo)}function dv(r,e){let t=r.$$;t.fragment!==null&&(Ms(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function cF(r,e){r.$$.dirty[0]===-1&&(ao.push(r),iF(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function fv(r,e,t,n,s,a,o,l=[-1]){let c=uo;oo(r);let f=r.$$={fragment:null,ctx:null,props:a,update:Os,not_equal:s,bound:rv(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:rv(),dirty:l,skip_bound:!1,root:e.target||c.$$.root};o&&o(f.root);let p=!1;if(f.ctx=t?t(r,e.props||{},(g,T,...O)=>{let b=O.length?O[0]:T;return f.ctx&&s(f.ctx[g],f.ctx[g]=b)&&(!f.skip_bound&&f.bound[g]&&f.bound[g](b),p&&cF(r,g)),T}):[],f.update(),p=!0,Ms(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){JI();let g=rF(e.target);f.fragment&&f.fragment.l(g),g.forEach(Rs)}else f.fragment&&f.fragment.c();e.intro&&uF(r.$$.fragment),lF(r,e.target,e.anchor,e.customElement),eF(),cv()}oo(c)}var dF;typeof HTMLElement=="function"&&(dF=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:r}=this.$$;this.$$.on_disconnect=r.map(Zh).filter(sv);for(let e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(r,e,t){this[r]=t}disconnectedCallback(){Ms(this.$$.on_disconnect)}$destroy(){dv(this,1),this.$destroy=Os}$on(r,e){let t=this.$$.callbacks[r]||(this.$$.callbacks[r]=[]);return t.push(e),()=>{let n=t.indexOf(e);n!==-1&&t.splice(n,1)}}$set(r){this.$$set&&!av(r)&&(this.$$.skip_bound=!0,this.$$set(r),this.$$.skip_bound=!1)}});var ju=class{$destroy(){dv(this,1),this.$destroy=Os}$on(e,t){let n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{let s=n.indexOf(t);s!==-1&&n.splice(s,1)}}$set(e){this.$$set&&!av(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};var rp=Cn(mt());function hv(r,e,t){let n=r.slice();return n[45]=e[t],n}function pv(r,e,t){let n=r.slice();return n[48]=e[t].value,n[49]=e[t].label,n[50]=e[t].symbol,n}function fF(r){let e,t=r[50]+"",n;return{c(){e=ae("span"),n=Jt(t)},m(s,a){gi(s,e,a),L(e,n)},p:Os,d(s){s&&Rs(e)}}}function mv(r){let e,t,n,s,a,o,l,c,f=r[49]+"",p,g,T=r[50]&&r[50].charCodeAt(0)>=256,O,b,x,I,$=T&&fF(r);return{c(){e=ae("span"),t=ae("input"),o=Se(),l=ae("label"),c=ae("span"),p=Jt(f),g=Se(),$&&$.c(),b=Se(),z(t,"type","radio"),z(t,"id",n="priority-"+r[48]),t.__value=s=r[48],t.value=t.__value,z(t,"accesskey",a=r[15](r[49].charAt(0).toLowerCase())),r[33][0].push(t),z(c,"class","accesskey-first"),z(l,"for",O="priority-"+r[48])},m(H,W){gi(H,e,W),L(e,t),t.checked=t.__value===r[1].priority,L(e,o),L(e,l),L(l,c),L(c,p),L(l,g),$&&$.m(l,null),L(e,b),x||(I=zt(t,"change",r[32]),x=!0)},p(H,W){W[0]&32768&&a!==(a=H[15](H[49].charAt(0).toLowerCase()))&&z(t,"accesskey",a),W[0]&3&&(t.checked=t.__value===H[1].priority),T&&$.p(H,W)},d(H){H&&Rs(e),r[33][0].splice(r[33][0].indexOf(t),1),$&&$.d(),x=!1,I()}}}function yv(r){let e,t=r[45].name+"",n,s,a=r[45].symbol+"",o,l,c;return{c(){e=ae("option"),n=Jt(t),s=Jt(" ["),o=Jt(a),l=Jt("]"),e.__value=c=r[45],e.value=e.__value},m(f,p){gi(f,e,p),L(e,n),L(e,s),L(e,o),L(e,l)},p(f,p){p[0]&1&&t!==(t=f[45].name+"")&&Qh(n,t),p[0]&1&&a!==(a=f[45].symbol+"")&&Qh(o,a),p[0]&1&&c!==(c=f[45])&&(e.__value=c,e.value=e.__value)},d(f){f&&Rs(e)}}}function hF(r){let e,t,n,s,a,o,l,c,f,p,g,T,O,b,x,I,$,H,W,ke,Te,be,ee,ne,Ft,gt,V,q,P,J,Y,oe,y,_,w,k,D,M,E,C,A,N,j,Ee,pe,le,Ce,K,qe,Qe,dt,Or,at,je,ft,_t,Sn,Li,$e,Us,Jn,ht,ce,Xr,xt,es,mo,Ur,On,Tt,Yi,dr,Qr,Le,Mn,Ws,ts,Rn,rs,fr,xn,yo,Jr,go,hr,pr,B,qs,_o,pt,ns,Pe,mr=r[20],Lt=[];for(let G=0;G<mr.length;G+=1)Lt[G]=mv(pv(r,mr,G));let tt=r[0],Je=[];for(let G=0;G<tt.length;G+=1)Je[G]=yv(hv(r,tt,G));return{c(){e=ae("div"),t=ae("form"),n=ae("div"),s=ae("label"),s.innerHTML='Descrip<span class="accesskey">t</span>ion',a=Se(),o=ae("textarea"),c=Se(),f=ae("div"),p=ae("label"),g=Jt("Priority"),O=Se();for(let G=0;G<Lt.length;G+=1)Lt[G].c();b=Se(),x=ae("div"),I=ae("label"),I.textContent="Recurs",$=Se(),H=ae("input"),ke=Se(),Te=ae("code"),be=Jt(r[16]),ee=Se(),ne=new Ss(!1),Ft=Se(),gt=ae("label"),gt.textContent="Due",V=Se(),q=ae("input"),J=Se(),Y=ae("code"),oe=Jt(r[19]),y=Se(),_=new Ss(!1),w=Se(),k=ae("label"),k.textContent="Scheduled",D=Se(),M=ae("input"),C=Se(),A=ae("code"),N=Jt(r[18]),j=Se(),Ee=new Ss(!1),pe=Se(),le=ae("label"),le.innerHTML='St<span class="accesskey">a</span>rt',Ce=Se(),K=ae("input"),Qe=Se(),dt=ae("code"),Or=Jt(r[17]),at=Se(),je=new Ss(!1),ft=Se(),_t=ae("div"),Sn=ae("label"),Sn.innerHTML=`Only
                    <span class="accesskey-first">future</span> dates:`,Li=Se(),$e=ae("input"),Jn=Se(),ht=ae("div"),ce=ae("label"),ce.innerHTML='Stat<span class="accesskey">u</span>s',Xr=Se(),xt=ae("select");for(let G=0;G<Je.length;G+=1)Je[G].c();mo=Se(),Ur=ae("div"),On=ae("div"),Tt=ae("label"),Tt.textContent="Completed:",Yi=Se(),dr=ae("input"),Le=Se(),Mn=ae("div"),Ws=ae("span"),Ws.textContent="Created on:",ts=Se(),Rn=ae("code"),rs=Se(),fr=ae("div"),xn=ae("span"),xn.textContent="Done on:",yo=Se(),Jr=ae("code"),go=Se(),hr=ae("div"),pr=ae("button"),B=Jt("Apply"),_o=Se(),pt=ae("button"),pt.textContent="Cancel",z(s,"for","description"),z(o,"id","description"),z(o,"type","text"),z(o,"class","tasks-modal-description"),z(o,"placeholder","Take out the trash"),z(o,"accesskey",l=r[15]("t")),z(n,"class","tasks-modal-section"),z(p,"for",T="priority-"+r[1].priority),z(f,"class","tasks-modal-section tasks-modal-priorities"),z(I,"for","recurrence"),z(I,"class","accesskey-first"),z(H,"id","recurrence"),z(H,"type","text"),z(H,"placeholder","Try 'every 2 weeks on Thursday'."),z(H,"accesskey",W=r[15]("r")),Lr(H,"tasks-modal-error",!r[8]),ne.a=null,z(gt,"for","due"),z(gt,"class","accesskey-first"),z(q,"id","due"),z(q,"type","text"),z(q,"placeholder",tp),z(q,"accesskey",P=r[15]("d")),Lr(q,"tasks-modal-error",!r[7]),_.a=null,z(k,"for","scheduled"),z(k,"class","accesskey-first"),z(M,"id","scheduled"),z(M,"type","text"),z(M,"placeholder",tp),z(M,"accesskey",E=r[15]("s")),Lr(M,"tasks-modal-error",!r[5]),Ee.a=null,z(le,"for","start"),z(K,"id","start"),z(K,"type","text"),z(K,"placeholder",tp),z(K,"accesskey",qe=r[15]("a")),Lr(K,"tasks-modal-error",!r[3]),je.a=null,z(Sn,"for","forwardOnly"),z($e,"id","forwardOnly"),z($e,"type","checkbox"),z($e,"class","task-list-item-checkbox tasks-modal-checkbox"),z($e,"accesskey",Us=r[15]("f")),z(x,"class","tasks-modal-section tasks-modal-dates"),z(ce,"for","status"),z(xt,"id","status-type"),z(xt,"class","dropdown"),z(xt,"accesskey",es=r[15]("u")),r[1].status===void 0&&lo(()=>r[39].call(xt)),z(ht,"class","tasks-modal-section"),z(Tt,"for","status"),z(dr,"id","status"),z(dr,"type","checkbox"),z(dr,"class","task-list-item-checkbox tasks-modal-checkbox"),dr.checked=Qr=r[1].status.isCompleted(),dr.disabled=!0,z(Ur,"class","tasks-modal-section tasks-modal-status"),pr.disabled=qs=!r[14],z(pr,"type","submit"),z(pr,"class","mod-cta"),z(pt,"type","button"),z(hr,"class","tasks-modal-section tasks-modal-buttons"),Lr(t,"with-accesskeys",r[9]),z(e,"class","tasks-modal")},m(G,re){gi(G,e,re),L(e,t),L(t,n),L(n,s),L(n,a),L(n,o),Fr(o,r[1].description),r[31](o),L(t,c),L(t,f),L(f,p),L(p,g),L(f,O);for(let ue=0;ue<Lt.length;ue+=1)Lt[ue].m(f,null);L(t,b),L(t,x),L(x,I),L(x,$),L(x,H),Fr(H,r[1].recurrenceRule),L(x,ke),L(x,Te),L(Te,be),L(Te,ee),ne.m(r[12],Te),L(x,Ft),L(x,gt),L(x,V),L(x,q),Fr(q,r[1].dueDate),L(x,J),L(x,Y),L(Y,oe),L(Y,y),_.m(r[6],Y),L(x,w),L(x,k),L(x,D),L(x,M),Fr(M,r[1].scheduledDate),L(x,C),L(x,A),L(A,N),L(A,j),Ee.m(r[4],A),L(x,pe),L(x,le),L(x,Ce),L(x,K),Fr(K,r[1].startDate),L(x,Qe),L(x,dt),L(dt,Or),L(dt,at),je.m(r[2],dt),L(x,ft),L(x,_t),L(_t,Sn),L(_t,Li),L(_t,$e),$e.checked=r[1].forwardOnly,L(t,Jn),L(t,ht),L(ht,ce),L(ht,Xr),L(ht,xt);for(let ue=0;ue<Je.length;ue+=1)Je[ue].m(xt,null);Jh(xt,r[1].status),L(t,mo),L(t,Ur),L(Ur,On),L(On,Tt),L(On,Yi),L(On,dr),L(Ur,Le),L(Ur,Mn),L(Mn,Ws),L(Mn,ts),L(Mn,Rn),Rn.innerHTML=r[11],L(Ur,rs),L(Ur,fr),L(fr,xn),L(fr,yo),L(fr,Jr),Jr.innerHTML=r[13],L(t,go),L(t,hr),L(hr,pr),L(pr,B),L(hr,_o),L(hr,pt),ns||(Pe=[zt(o,"input",r[30]),zt(o,"keydown",r[23]),zt(o,"paste",r[24]),zt(o,"drop",r[24]),zt(f,"keyup",r[21]),zt(H,"input",r[34]),zt(q,"input",r[35]),zt(M,"input",r[36]),zt(K,"input",r[37]),zt($e,"change",r[38]),zt(xt,"change",r[39]),zt(pt,"click",r[22]),zt(t,"submit",uv(r[25]))],ns=!0)},p(G,re){if(re[0]&32768&&l!==(l=G[15]("t"))&&z(o,"accesskey",l),re[0]&3&&Fr(o,G[1].description),re[0]&3&&T!==(T="priority-"+G[1].priority)&&z(p,"for",T),re[0]&1081346){mr=G[20];let ue;for(ue=0;ue<mr.length;ue+=1){let jt=pv(G,mr,ue);Lt[ue]?Lt[ue].p(jt,re):(Lt[ue]=mv(jt),Lt[ue].c(),Lt[ue].m(f,null))}for(;ue<Lt.length;ue+=1)Lt[ue].d(1);Lt.length=mr.length}if(re[0]&32768&&W!==(W=G[15]("r"))&&z(H,"accesskey",W),re[0]&3&&H.value!==G[1].recurrenceRule&&Fr(H,G[1].recurrenceRule),re[0]&256&&Lr(H,"tasks-modal-error",!G[8]),re[0]&4096&&ne.p(G[12]),re[0]&32768&&P!==(P=G[15]("d"))&&z(q,"accesskey",P),re[0]&3&&q.value!==G[1].dueDate&&Fr(q,G[1].dueDate),re[0]&128&&Lr(q,"tasks-modal-error",!G[7]),re[0]&64&&_.p(G[6]),re[0]&32768&&E!==(E=G[15]("s"))&&z(M,"accesskey",E),re[0]&3&&M.value!==G[1].scheduledDate&&Fr(M,G[1].scheduledDate),re[0]&32&&Lr(M,"tasks-modal-error",!G[5]),re[0]&16&&Ee.p(G[4]),re[0]&32768&&qe!==(qe=G[15]("a"))&&z(K,"accesskey",qe),re[0]&3&&K.value!==G[1].startDate&&Fr(K,G[1].startDate),re[0]&8&&Lr(K,"tasks-modal-error",!G[3]),re[0]&4&&je.p(G[2]),re[0]&32768&&Us!==(Us=G[15]("f"))&&z($e,"accesskey",Us),re[0]&3&&($e.checked=G[1].forwardOnly),re[0]&1){tt=G[0];let ue;for(ue=0;ue<tt.length;ue+=1){let jt=hv(G,tt,ue);Je[ue]?Je[ue].p(jt,re):(Je[ue]=yv(jt),Je[ue].c(),Je[ue].m(xt,null))}for(;ue<Je.length;ue+=1)Je[ue].d(1);Je.length=tt.length}re[0]&32768&&es!==(es=G[15]("u"))&&z(xt,"accesskey",es),re[0]&3&&Jh(xt,G[1].status),re[0]&3&&Qr!==(Qr=G[1].status.isCompleted())&&(dr.checked=Qr),re[0]&2048&&(Rn.innerHTML=G[11]),re[0]&8192&&(Jr.innerHTML=G[13]),re[0]&16384&&qs!==(qs=!G[14])&&(pr.disabled=qs),re[0]&512&&Lr(t,"with-accesskeys",G[9])},i:Os,o:Os,d(G){G&&Rs(e),r[31](null),Xh(Lt,G),Xh(Je,G),ns=!1,Ms(Pe)}}}var tp="Try 'Monday' or 'tomorrow', or [td|tm|yd|tw|nw|we] then space.";function pF(r,e,t){let n;var s;let{task:a}=e,{onSubmit:o}=e,{statusOptions:l}=e,{prioritySymbols:c,recurrenceSymbol:f,startDateSymbol:p,scheduledDateSymbol:g,dueDateSymbol:T}=_n.tasksPluginEmoji.taskSerializer.symbols,O,b={description:"",status:he.TODO,priority:"none",recurrenceRule:"",createdDate:"",startDate:"",scheduledDate:"",dueDate:"",doneDate:"",forwardOnly:!0},x=!0,I="",$="",H=!0,W="",ke=!0,Te="",be=!0,ee="",ne=!0,Ft="",gt=!1,V=!0,q=!0,P=[{value:"low",label:"Low",symbol:c.Low},{value:"none",label:"Normal",symbol:c.None},{value:"medium",label:"Medium",symbol:c.Medium},{value:"high",label:"High",symbol:c.High}];function J(K,qe,Qe=void 0){if(!qe)return`<i>no ${K} date</i>`;let dt=rp.parseDate(qe,Qe,{forwardDate:Qe!=null});return dt!==null?window.moment(dt).format("YYYY-MM-DD"):`<i>invalid ${K} date</i>`}function Y(K,qe){return J(K,qe,b.forwardOnly?new Date:void 0)}function oe(K){let qe=null,Qe=rp.parseDate(K,new Date,{forwardDate:b.forwardOnly});return Qe!==null&&(qe=window.moment(Qe)),qe}ep(()=>{let{provideAccessKeys:K}=de();t(9,V=K);let qe=Fe.removeAsWordFrom(a.description);(qe!=a.description||!Fe.includedIn(a.description))&&(gt=!0);let Qe="none";a.priority==="4"?Qe="low":a.priority==="2"?Qe="medium":a.priority==="1"&&(Qe="high"),t(1,b={description:qe,status:a.status,priority:Qe,recurrenceRule:a.recurrence?a.recurrence.toText():"",createdDate:a.createdDate?a.createdDate.format("YYYY-MM-DD"):"",startDate:a.startDate?a.startDate.format("YYYY-MM-DD"):"",scheduledDate:a.scheduledDate?a.scheduledDate.format("YYYY-MM-DD"):"",dueDate:a.dueDate?a.dueDate.format("YYYY-MM-DD"):"",doneDate:a.doneDate?a.doneDate.format("YYYY-MM-DD"):"",forwardOnly:!0}),setTimeout(()=>{O.focus()},10)});let y=K=>{if(K.key&&!K.altKey&&!K.ctrlKey){let qe=P.find(Qe=>Qe.label.charAt(0).toLowerCase()==K.key);qe&&t(1,b.priority=qe.value,b)}},_=()=>{o([])},w=K=>{K.key==="Enter"&&(K.preventDefault(),q&&D())},k=()=>{setTimeout(()=>{t(1,b.description=b.description.replace(/[\r\n]+/g," "),b)},0)},D=()=>{let K=b.description.trim();gt&&(K=Fe.prependTo(K));let qe=oe(b.startDate),Qe=oe(b.scheduledDate),dt=oe(b.dueDate),Or=null;b.recurrenceRule&&(Or=Ot.fromText({recurrenceRuleText:b.recurrenceRule,startDate:qe,scheduledDate:Qe,dueDate:dt}));let at;switch(b.priority){case"low":at="4";break;case"medium":at="2";break;case"high":at="1";break;default:at="3"}let je=new Ge(Object.assign(Object.assign({},a),{description:K,status:b.status,priority:at,recurrence:Or,startDate:qe,scheduledDate:Qe,dueDate:dt,doneDate:window.moment(b.doneDate,"YYYY-MM-DD").isValid()?window.moment(b.doneDate,"YYYY-MM-DD"):null}));o([je])},M=[[]];function E(){b.description=this.value,t(1,b),t(6,Te),t(2,$),t(4,W),t(0,l)}function C(K){qu[K?"unshift":"push"](()=>{O=K,t(10,O)})}function A(){b.priority=this.__value,t(1,b),t(6,Te),t(2,$),t(4,W),t(0,l)}function N(){b.recurrenceRule=this.value,t(1,b),t(6,Te),t(2,$),t(4,W),t(0,l)}function j(){b.dueDate=this.value,t(1,b),t(6,Te),t(2,$),t(4,W),t(0,l)}function Ee(){b.scheduledDate=this.value,t(1,b),t(6,Te),t(2,$),t(4,W),t(0,l)}function pe(){b.startDate=this.value,t(1,b),t(6,Te),t(2,$),t(4,W),t(0,l)}function le(){b.forwardOnly=this.checked,t(1,b),t(6,Te),t(2,$),t(4,W),t(0,l)}function Ce(){b.status=lv(this),t(1,b),t(6,Te),t(2,$),t(4,W),t(0,l)}return r.$$set=K=>{"task"in K&&t(26,a=K.task),"onSubmit"in K&&t(27,o=K.onSubmit),"statusOptions"in K&&t(0,l=K.statusOptions)},r.$$.update=()=>{if(r.$$.dirty[0]&512){e:t(15,n=K=>V?K:null)}if(r.$$.dirty[0]&66){e:t(1,b.dueDate=di(b.dueDate),b),t(6,Te=Y("due",b.dueDate)),t(7,be=!Te.includes("invalid"))}if(r.$$.dirty[0]&6){e:t(1,b.startDate=di(b.startDate),b),t(2,$=Y("start",b.startDate)),t(3,H=!$.includes("invalid"))}if(r.$$.dirty[0]&18){e:t(1,b.scheduledDate=di(b.scheduledDate),b),t(4,W=Y("scheduled",b.scheduledDate)),t(5,ke=!W.includes("invalid"))}if(r.$$.dirty[0]&268435458){e:if(t(8,ne=!0),!b.recurrenceRule)t(12,ee="<i>not recurring</>");else{let K=t(28,s=Ot.fromText({recurrenceRuleText:b.recurrenceRule,startDate:null,scheduledDate:null,dueDate:null}))===null||s===void 0?void 0:s.toText();K?t(12,ee=K):(t(12,ee="<i>invalid recurrence rule</i>"),t(8,ne=!1))}}if(r.$$.dirty[0]&2){e:t(29,x=b.description.trim()!=="")}if(r.$$.dirty[0]&536871336){e:t(14,q=be&&ne&&ke&&H&&x)}if(r.$$.dirty[0]&2){e:t(11,I=J("created",b.createdDate)),t(13,Ft=J("done",b.doneDate))}},[l,b,$,H,W,ke,Te,be,ne,V,O,I,ee,Ft,q,n,f,p,g,T,P,y,_,w,k,D,a,o,s,x,E,C,A,M,N,j,Ee,pe,le,Ce]}var np=class extends ju{constructor(e){super(),fv(this,e,pF,hF,iv,{task:26,onSubmit:27,statusOptions:0},null,[-1,-1])}},gv=np;var Kn=class extends _v.Modal{constructor({app:t,task:n,onSubmit:s}){super(t);this.task=n,this.onSubmit=a=>{a.length&&s(a),this.close()}}onOpen(){this.titleEl.setText("Create or edit Task");let{contentEl:t}=this,n=this.getKnownStatusesAndCurrentTaskStatusIfNotKnown();new gv({target:t,props:{task:this.task,statusOptions:n,onSubmit:this.onSubmit}})}getKnownStatusesAndCurrentTaskStatusIfNotKnown(){let t=He.getInstance().registeredStatuses;return He.getInstance().bySymbol(this.task.status.symbol)===he.EMPTY&&t.push(this.task.status),t}onClose(){let{contentEl:t}=this;t.empty()}};var $u=({line:r,path:e})=>{var b,x;let t=Qt.fromPath(e),n=Ge.fromLine({line:r,taskLocation:It.fromUnknownPosition(e),fallbackDate:t});if(n!==null)return n;let{setCreatedDate:s}=de(),a=null;s&&(a=window.moment());let o=r.match(ie.nonTaskRegex);if(o===null)return console.error("Tasks: Cannot create task on line:",r),new Ge({status:he.TODO,description:"",taskLocation:It.fromUnknownPosition(e),indentation:"",listMarker:"-",priority:"3",createdDate:a,startDate:null,scheduledDate:null,dueDate:null,doneDate:null,recurrence:null,blockLink:"",tags:[],originalMarkdown:"",scheduledDateIsInferred:!1});let l=o[1],c=(b=o[2])!=null?b:"-",f=(x=o[4])!=null?x:" ",p=He.getInstance().bySymbolOrCreate(f),g=o[5],T=r.match(ie.blockLinkRegex),O=T!==null?T[0]:"";return O!==""&&(g=g.replace(ie.blockLinkRegex,"")),new Ge({status:p,description:g,taskLocation:It.fromUnknownPosition(e),indentation:l,listMarker:c,blockLink:O,priority:"3",createdDate:a,startDate:null,scheduledDate:null,dueDate:null,doneDate:null,recurrence:null,tags:[],originalMarkdown:"",scheduledDateIsInferred:!1})};var Tv=(r,e,t,n)=>{var g;if(r)return t instanceof sp.MarkdownView;if(!(t instanceof sp.MarkdownView))return;let s=(g=t.file)==null?void 0:g.path;if(s===void 0)return;let o=e.getCursor().line,l=e.getLine(o),c=$u({line:l,path:s}),f=T=>{let O=Qt.removeInferredStatusIfNeeded(c,T).map(b=>b.toFileLineString()).join(`
`);e.setLine(o,O)};new Kn({app:n,task:c,onSubmit:f}).open()};var ip=require("obsidian");var bv=(r,e,t)=>{var c;if(r)return t instanceof ip.MarkdownView;if(!(t instanceof ip.MarkdownView))return;let n=(c=t.file)==null?void 0:c.path;if(n===void 0)return;let s=e.getCursor(),a=s.line,o=e.getLine(a),l=mF(o,n);e.setLine(a,l.text),e.setCursor(yF(s,l))},mF=(r,e)=>{let t=Ge.fromLine({line:r,taskLocation:It.fromUnknownPosition(e),fallbackDate:null});if(t!==null){let n=t.toggle().map(s=>s.toFileLineString());return{text:n.join(`
`),moveTo:{line:n.length-1}}}else{let n=r.match(ie.taskRegex);if(n!==null){let s=n[3],o=He.getInstance().bySymbol(s).nextStatusSymbol;return{text:r.replace(ie.taskRegex,`$1- [${o}] $4`)}}else if(ie.listItemRegex.test(r)){let s=r.replace(ie.listItemRegex,"$1$2 [ ]");return{text:s,moveTo:{ch:s.length}}}else{let s=r.replace(ie.indentationRegex,"$1- ");return{text:s,moveTo:{ch:s.length}}}}},yF=(r,e)=>{var a;let t={line:0,ch:r.ch},n=Ae(Ae({},t),(a=e.moveTo)!=null?a:{}),s=e.text.split(`
`)[n.line].length;return{line:r.line+n.line,ch:Math.min(n.ch,s)}};var Gu=class{get app(){return this.plugin.app}constructor({plugin:e}){this.plugin=e,e.addCommand({id:"edit-task",name:"Create or edit task",icon:"pencil",editorCheckCallback:(t,n,s)=>Tv(t,n,s,this.app)}),e.addCommand({id:"toggle-done",name:"Toggle task done",icon:"check-in-circle",editorCheckCallback:bv})}};var Hu=class{constructor({obsidianEvents:e}){this.obsidianEvents=e}onCacheUpdate(e){return this.obsidianEvents.on("obsidian-tasks-plugin:cache-update",e)}triggerCacheUpdate(e){this.obsidianEvents.trigger("obsidian-tasks-plugin:cache-update",e)}onRequestCacheUpdate(e){return this.obsidianEvents.on("obsidian-tasks-plugin:request-cache-update",e)}triggerRequestCacheUpdate(e){this.obsidianEvents.trigger("obsidian-tasks-plugin:request-cache-update",e)}off(e){this.obsidianEvents.offref(e)}};var Bu=class{constructor({plugin:e}){this.markdownPostProcessor=this._markdownPostProcessor.bind(this);e.registerMarkdownPostProcessor(this._markdownPostProcessor.bind(this))}_markdownPostProcessor(e,t){return Q(this,null,function*(){var f;let n=e.findAll(".task-list-item").filter(p=>{var O;let g=(O=p.textContent)==null?void 0:O.split(`
`);if(g===void 0)return!1;let T=null;for(let b=0;b<g.length;b=b+1)if(g[b]!==""){T=g[b];break}return T===null?!1:Fe.includedIn(T)});if(n.length===0)return;let s=t.sourcePath,a=t.getSectionInfo(e);if(a===null)return;let o=a.text.split(`
`),l=0,c=[];for(let p=a.lineStart;p<=a.lineEnd;p++){let g=o[p];if(g===void 0)continue;let T=null,O=Ge.fromLine({line:g,taskLocation:new It(s,p,a.lineStart,l,T),fallbackDate:null});O!==null&&(c.push(O),l++)}for(let p=0;p<n.length;p++){let g=c[p],T=n[p];if(g===void 0||T===void 0)continue;let O=(f=T.getAttr("data-line"))!=null?f:"0",b=Number.parseInt(O,10),x=yield g.toLi({parentUlElement:e,listIndex:b}),I=T.childNodes;for(let W=0;W<I.length;W=W+1){let ke=I[W];ke.nodeName.toLowerCase()==="div"?x.prepend(ke):ke.nodeName.toLowerCase()==="ul"&&x.append(ke)}let $=T.querySelectorAll("[data-footnote-id]"),H=x.querySelectorAll("[data-footnote-id]");if($.length===H.length)for(let W=0;W<$.length;W++)H[W].replaceWith($[W]);T.replaceWith(x)}})}};var vv=require("@codemirror/view"),wv=require("obsidian");var kv=()=>vv.ViewPlugin.fromClass(ap),ap=class{constructor(e){this.view=e,this.handleClickEvent=this.handleClickEvent.bind(this),this.view.dom.addEventListener("click",this.handleClickEvent)}destroy(){this.view.dom.removeEventListener("click",this.handleClickEvent)}handleClickEvent(e){let{target:t}=e;if(!t||!(t instanceof HTMLInputElement)||t.type!=="checkbox")return!1;let n=t.closest("ul.plugin-tasks-query-result, div.callout-content");if(n){if(n.matches("div.callout-content")){let T=`obsidian-tasks-plugin warning: Tasks cannot add or remove completion dates or make the next copy of a recurring task for tasks written inside a callout when you click their checkboxes in Live Preview. 
If you wanted Tasks to do these things, please undo your change, then either click the line of the task and use the "Toggle Task Done" command, or switch to Reading View to click the checkbox.`;console.warn(T),new wv.Notice(T,45e3)}return!1}let{state:s}=this.view,a=this.view.posAtDOM(t),o=s.doc.lineAt(a),l=Ge.fromLine({line:o.text,taskLocation:It.fromUnknownPosition(""),fallbackDate:null});if(console.debug(`Live Preview Extension: toggle called. Position: ${a} Line: ${o.text}`),l===null)return!1;e.preventDefault();let f=l.toggle().map(T=>T.toFileLineString()).join(s.lineBreak),p=s.update({changes:{from:o.from,to:o.to,insert:f}});this.view.dispatch(p);let g=t.checked;return setTimeout(()=>{t.checked=g},1),!0}};var Ii=require("obsidian");var vn=class{constructor(e,t,n){this.property=e,this.comparator=vn.maybeReverse(n,t)}static maybeReverse(e,t){return e?vn.makeReversedComparator(t):t}static makeReversedComparator(e){return(t,n)=>e(t,n)*-1}};var _i=class{constructor(e,t){this.property=e,this.grouper=t}};var Ze=class{canCreateFilterForLine(e){return Ze.lineMatchesFilter(this.filterRegExp(),e)}static lineMatchesFilter(e,t){return e?e.test(t):!1}static getMatch(e,t){return e?t.match(e):null}fieldNameSingular(){return this.fieldName()}fieldNameSingularEscaped(){return Cu(this.fieldNameSingular())}supportsSorting(){return!1}parseSortLine(e){return!this.supportsSorting()||!this.canCreateSorterForLine(e)?null:this.createSorterFromLine(e)}canCreateSorterForLine(e){return this.supportsSorting()?Ze.lineMatchesFilter(this.sorterRegExp(),e):!1}createSorterFromLine(e){if(!this.supportsSorting())return null;let t=Ze.getMatch(this.sorterRegExp(),e);if(t===null)return null;let n=!!t[1];return this.createSorter(n)}sorterRegExp(){if(!this.supportsSorting())throw Error(`sorterRegExp() unimplemented for ${this.fieldNameSingular()}`);return new RegExp(`^sort by ${this.fieldNameSingularEscaped()}( reverse)?`)}comparator(){throw Error(`comparator() unimplemented for ${this.fieldNameSingular()}`)}createSorter(e){return new vn(this.fieldNameSingular(),this.comparator(),e)}createNormalSorter(){return this.createSorter(!1)}createReverseSorter(){return this.createSorter(!0)}supportsGrouping(){return!1}grouper(){throw Error(`grouper() unimplemented for ${this.fieldNameSingular()}`)}createGrouper(){return new _i(this.fieldNameSingular(),this.grouper())}};var Xe=class{constructor(e,t=[],n=""){this.description=e,this.symbol=n,this.children=t}static booleanAnd(e){return this.combineOrCreateExplanation("All of",e,"AND")}static booleanOr(e){return this.combineOrCreateExplanation("At least one of",e,"OR")}static booleanNot(e){return new Xe("None of",e,"NOT")}static booleanXor(e){return new Xe("Exactly one of",e,"XOR")}asString(e=""){if(this.children.length==0)return e+this.description;let t=e;this.symbol===""?t+=this.description:(t+=this.symbol,this.children.length>1&&(t+=` (${this.description})`),t+=":");let n=e+"  ";for(let s=0;s<this.children.length;s++)t+=`
${this.children[s].asString(n)}`;return t}static combineOrCreateExplanation(e,t,n){if(t.length===2){let s=t[0],a=t[1];if(s.symbol===n&&a.symbol==="")return s.children.push(a),s}return new Xe(e,t,n)}};var er=class{constructor(e,t,n){this.instruction=e,this.explanation=n,this.filterFunction=t}explainFilterIndented(e){let t=this.explanation;return t.asString()===this.instruction?`${e}${this.instruction}
`:`${e}${this.instruction} =>
${t.asString("  ")}
`}},Be=class{constructor(e){this.instruction=e}get filter(){return this._filter}set filter(e){this._filter=e}get filterFunction(){if(this._filter)return this._filter.filterFunction}static fromFilter(e){let t=new Be(e.instruction);return t.filter=e,t}static fromError(e,t){let n=new Be(e);return n.error=t,n}};var zu=class{constructor(e,t){this._instruction=e,this._filter=t}canCreateFilterForLine(e){return e==this._instruction}createFilterOrErrorMessage(e){let t=new Be(e);return e===this._instruction?(t.filter=new er(e,this._filter,new Xe(e)),t):(t.error=`do not understand filter: ${e}`,t)}};var Vr=class{constructor(){this._filters=[]}add(e,t){this._filters.push(new zu(e,t))}canCreateFilterForLine(e){for(let t of this._filters)if(t.canCreateFilterForLine(e))return!0;return!1}createFilterOrErrorMessage(e){for(let n of this._filters){let s=n.createFilterOrErrorMessage(e);if(s.error===void 0)return s}let t=new Be(e);return t.error=`do not understand filter: ${e}`,t}};var Zn=class extends Ze{constructor(){super(...arguments);this._filters=new Vr}canCreateFilterForLine(t){return this._filters.canCreateFilterForLine(t)}createFilterOrErrorMessage(t){return this._filters.createFilterOrErrorMessage(t)}filterRegExp(){return null}};var Kr=class extends Zn{constructor(){super(),this._filters.add("done",e=>e.status.type==="DONE"||e.status.type==="CANCELLED"||e.status.type==="NON_TASK"),this._filters.add("not done",e=>e.status.type==="TODO"||e.status.type==="IN_PROGRESS")}fieldName(){return"status"}supportsSorting(){return!0}comparator(){return(e,t)=>{let n=Kr.oldStatusName(e),s=Kr.oldStatusName(t);return n<s?1:n>s?-1:0}}static oldStatusName(e){return e.status.symbol===" "?"Todo":"Done"}supportsGrouping(){return!0}grouper(){return e=>[Kr.oldStatusName(e)]}};var qt=class extends Ze{constructor(t=null){super();t!==null?this.filterInstructions=t:(this.filterInstructions=new Vr,this.filterInstructions.add(`has ${this.fieldName()} date`,n=>this.date(n)!==null),this.filterInstructions.add(`no ${this.fieldName()} date`,n=>this.date(n)===null),this.filterInstructions.add(`${this.fieldName()} date is invalid`,n=>{let s=this.date(n);return s!==null&&!s.isValid()}))}canCreateFilterForLine(t){return this.filterInstructions.canCreateFilterForLine(t)?!0:super.canCreateFilterForLine(t)}createFilterOrErrorMessage(t){let n=this.filterInstructions.createFilterOrErrorMessage(t);if(n.filter!==void 0)return n;let s=new Be(t),a=Ze.getMatch(this.filterRegExp(),t);if(a!==null){let o=a[1],l=a[2],c=a[3],f=ir.parseDateRange(c);if(!f.isValid()){let p=ir.parseDate(o);p.isValid()&&(f=new Ht(p,p))}if(!f.isValid())s.error="do not understand "+this.fieldName()+" date";else{let p=this.buildFilterFunction(l,f),g=qt.buildExplanation(this.fieldNameForExplanation(),l,this.filterResultIfFieldMissing(),f);s.filter=new er(t,p,g)}}else s.error="do not understand query filter ("+this.fieldName()+" date)";return s}buildFilterFunction(t,n){let s;return t==="before"?s=a=>a?a.isBefore(n.start):this.filterResultIfFieldMissing():t==="after"?s=a=>a?a.isAfter(n.end):this.filterResultIfFieldMissing():s=a=>a?a.isSameOrAfter(n.start)&&a.isSameOrBefore(n.end):this.filterResultIfFieldMissing(),this.getFilter(s)}getFilter(t){return n=>t(this.date(n))}filterRegExp(){return new RegExp(`^${this.fieldNameForFilterInstruction()} ((before|after|on|in)? ?(.*))`)}fieldNameForFilterInstruction(){return this.fieldName()}static buildExplanation(t,n,s,a){let o,l="YYYY-MM-DD (dddd Do MMMM YYYY)",c;switch(n){case"before":o=n,c=a.start.format(l);break;case"after":o=n,c=a.end.format(l);break;default:if(a.start.isSame(a.end))o="on",c=a.start.format(l);else{let p=`${t} date is between:`,g=[new Xe(`${a.start.format(l)} and`),new Xe(`${a.end.format(l)} inclusive`)];return s&&g.push(new Xe(`OR no ${t} date`)),new Xe(p,g)}break}let f=`${t} date is ${o} ${c}`;return s&&(f+=` OR no ${t} date`),new Xe(f)}fieldNameForExplanation(){return this.fieldName()}supportsSorting(){return!0}comparator(){return(t,n)=>Br(this.date(t),this.date(n))}supportsGrouping(){return!0}grouper(){return t=>{let n=this.date(t);return n===null?["No "+this.fieldName()+" date"]:[n.format("YYYY-MM-DD dddd")]}}};var Ti=class extends qt{fieldName(){return"due"}date(e){return e.dueDate}filterResultIfFieldMissing(){return!1}};var op=class extends Ze{createFilterOrErrorMessage(e){let t=new Be(e),n=Ze.getMatch(this.filterRegExp(),e);if(n!==null){let s=n[5],a=null;switch(s){case"low":a="4";break;case"none":a="3";break;case"medium":a="2";break;case"high":a="1";break}if(a===null)return t.error="do not understand priority",t;let o=e,l;switch(n[3]){case"above":l=c=>c.priority.localeCompare(a)<0;break;case"below":l=c=>c.priority.localeCompare(a)>0;break;case"not":l=c=>c.priority!==a;break;default:l=c=>c.priority===a,o=`${this.fieldName()} is ${s}`}t.filter=new er(e,l,new Xe(o))}else t.error="do not understand query filter (priority)";return t}fieldName(){return"priority"}filterRegExp(){return op.priorityRegexp}supportsSorting(){return!0}comparator(){return(e,t)=>e.priority.localeCompare(t.priority)}supportsGrouping(){return!0}grouper(){return e=>{let t="ERROR";switch(e.priority){case"1":t="High";break;case"2":t="Medium";break;case"3":t="None";break;case"4":t="Low";break}return[`Priority ${e.priority}: ${t}`]}}},xs=op;xs.priorityRegexp=/^priority(\s+is)?(\s+(above|below|not))?(\s+(low|none|medium|high))$/;var bi=class{matchesAnyOf(e){return e.some(t=>this.matches(t))}};var vi=class extends bi{constructor(t){super();this.stringToFind=t}matches(t){return vi.stringIncludesCaseInsensitive(t,this.stringToFind)}static stringIncludesCaseInsensitive(t,n){return t.toLocaleLowerCase().includes(n.toLocaleLowerCase())}};var wi=class extends bi{constructor(t){super();this.regex=t}static validateAndConstruct(t){let n=/\/((?![*+?])(?:[^\r\n[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*])+)\/((?:g(?:im?|mi?)?|i(?:gm?|mg?)?|m(?:gi?|ig?)?)?)/,s=t.match(n);if(s!==null){let a=new RegExp(s[1],s[2]);return new wi(a)}else return null}matches(t){return t.match(this.regex)!==null}};var ze=class extends Ze{createFilterOrErrorMessage(e){let t=Ze.getMatch(this.filterRegExp(),e);if(t===null)return Be.fromError(e,`do not understand query filter (${this.fieldName()})`);let[n,s,a]=t,o=null;if(s.includes("include"))o=new vi(a);else if(s.includes("regex")&&(o=wi.validateAndConstruct(a),o===null))return Be.fromError(e,`cannot parse regex (${this.fieldName()}); check your leading and trailing slashes for your query`);if(o===null)return Be.fromError(e,`do not understand query filter (${this.fieldName()})`);let l=s.match(/not/)!==null,c=new er(e,this.getFilter(o,l),new Xe(e));return Be.fromFilter(c)}fieldPattern(){return this.fieldNameSingularEscaped()}filterOperatorPattern(){return"includes|does not include|regex matches|regex does not match"}filterRegExp(){return new RegExp(`^(?:${this.fieldPattern()}) (${this.filterOperatorPattern()}) (.*)`)}getFilter(e,t){return n=>{let s=e.matches(this.value(n));return t?!s:s}}comparator(){return(e,t)=>this.value(e).localeCompare(this.value(t),void 0,{numeric:!0})}grouper(){return e=>[this.value(e)]}static escapeMarkdownCharacters(e){return e.replace(/\\/g,"\\\\").replace(/_/g,"\\_")}};var ki=class extends ze{fieldName(){return"path"}value(e){return e.path}supportsSorting(){return!0}supportsGrouping(){return!0}grouper(){return e=>[ze.escapeMarkdownCharacters(e.path.replace(".md",""))]}};var Ei=class extends Ze{canCreateFilterForLine(e){return!1}createFilterOrErrorMessage(e){return Be.fromError(e,"Filtering by urgency is not yet supported")}fieldName(){return"urgency"}filterRegExp(){throw Error(`filterRegExp() unimplemented for ${this.fieldName()}`)}supportsSorting(){return!0}comparator(){return(e,t)=>t.urgency-e.urgency}};var Di=class{static by(e,t){let n=[new Ei().comparator(),new Kr().comparator(),new Ti().comparator(),new xs().comparator(),new ki().comparator()],s=[];for(let a of e)s.push(a.comparator);return t.sort(Di.makeCompositeComparator([...s,...n]))}static makeCompositeComparator(e){return(t,n)=>{for(let s of e){let a=s(t,n);if(a!==0)return a}return 0}}};var Vu=class{constructor(e,t){this.nestingLevel=e,this.name=t}};var Ku=class{constructor(e){this.lastHeadingAtLevel=new Array;let n=e.keys().next().value.length;for(let s=0;s<n;s++)this.lastHeadingAtLevel.push("")}getHeadingsForTaskGroup(e){let t=new Array;for(let n=0;n<e.length;n++){let s=e[n];if(s!=this.lastHeadingAtLevel[n]){t.push(new Vu(n,s));for(let a=n;a<e.length;a++)this.lastHeadingAtLevel[a]="";this.lastHeadingAtLevel[n]=s}}return t}};var Zu=class{constructor(e){this.children=new Map;this.values=[];this.values=e}generateAllPaths(e=[]){let t=new Map;if(this.children.size==0)return t.set([...e],this.values),t;for(let[n,s]of this.children)e.push(n),s.generateAllPaths(e).forEach((o,l)=>t.set(l,o)),e.pop();return t}};var Xu=class extends Map{},Qu=class extends Zu{},Ju=class{constructor(e,t){this.groups=new Xu;let n=this.buildGroupingTree(e,t);this.groups=n.generateAllPaths(),this.groups=this.getSortedGroups()}buildGroupingTree(e,t){let n=new Qu(t),s=[n];for(let a of e){let o=[];for(let l of s)for(let c of l.values){let f=a.grouper(c);for(let p of f){let g=l.children.get(p);g===void 0&&(g=new Qu([]),l.children.set(p,g),o.push(g)),g.values.push(c)}}s=o}return n}getSortedGroups(){return new Xu([...this.groups.entries()].sort())}};var el=class{constructor(e,t,n){this.groups=e,this.groupHeadings=t,this.tasks=n}tasksAsStringOfLines(){let e="";for(let t of this.tasks)e+=t.toFileLineString()+`
`;return e}toString(){let e=`
`;e+=`Group names: [${this.groups}]
`;for(let t of this.groupHeadings)e+=`${"#".repeat(4+t.nestingLevel)} ${t.name}
`;return e+=this.tasksAsStringOfLines(),e}};var tl=class{constructor(e,t){this._groups=new Array;this._totalTaskCount=0;this._totalTaskCount=t.length;let n=new Ju(e,t);this.addTasks(n)}get groups(){return this._groups}totalTasksCount(){return this._totalTaskCount}toString(){let e="";for(let n of this.groups)e+=n.toString(),e+=`
---
`;return e+=`
${this.totalTasksCount()} tasks
`,e}addTasks(e){let t=new Ku(e.groups);for(let[n,s]of e.groups){let a=t.getHeadingsForTaskGroup(n),o=new el(n,a,s);this.add(o)}}add(e){this._groups.push(e)}};var Ps=class extends ze{fieldName(){return"description"}value(e){return Fe.removeAsSubstringFrom(e.description)}supportsSorting(){return!0}comparator(){return(e,t)=>{let n=Ps.cleanDescription(e.description),s=Ps.cleanDescription(t.description);return n.localeCompare(s,void 0,{numeric:!0})}}static cleanDescription(e){e=Fe.removeAsSubstringFrom(e);let t=/^\[\[?([^\]]*)]]?/,n=e.match(t);if(n!==null){let s=n[1];e=s.substring(s.indexOf("|")+1)+e.replace(t,"")}return e=this.replaceFormatting(e,/^\*\*([^*]+)\*\*/),e=this.replaceFormatting(e,/^\*([^*]+)\*/),e=this.replaceFormatting(e,/^==([^=]+)==/),e=this.replaceFormatting(e,/^__([^_]+)__/),e=this.replaceFormatting(e,/^_([^_]+)_/),e}static replaceFormatting(e,t){let n=e.match(t);return n!==null&&(e=n[1]+e.replace(t,"")),e}};var rl=class extends qt{fieldName(){return"created"}date(e){return e.createdDate}filterResultIfFieldMissing(){return!1}};var nl=class extends qt{fieldName(){return"done"}date(e){return e.doneDate}filterResultIfFieldMissing(){return!1}};var sl=class extends Zn{constructor(){super(),this._filters.add("exclude sub-items",e=>{if(e.indentation==="")return!0;let t=e.indentation.lastIndexOf(">");return t===-1?!1:/^ ?$/.test(e.indentation.slice(t+1))})}fieldName(){return"exclude"}};var Si=class extends ze{fieldName(){return"heading"}value(e){return e.precedingHeader?e.precedingHeader:""}supportsSorting(){return!0}supportsGrouping(){return!0}grouper(){return e=>e.precedingHeader===null||e.precedingHeader.length===0?["(No heading)"]:[e.precedingHeader]}};var il=class extends qt{fieldName(){return"scheduled"}date(e){return e.scheduledDate}filterResultIfFieldMissing(){return!1}};var al=class extends qt{fieldName(){return"start"}fieldNameForFilterInstruction(){return"starts"}date(e){return e.startDate}filterResultIfFieldMissing(){return!0}};var Oi=class extends qt{constructor(){let e=new Vr;e.add("has happens date",t=>this.dates(t).some(n=>n!==null)),e.add("no happens date",t=>!this.dates(t).some(n=>n!==null)),super(e)}fieldName(){return"happens"}fieldNameForExplanation(){return"due, start or scheduled"}date(e){return this.earliestDate(e)}dates(e){return Array.of(e.startDate,e.scheduledDate,e.dueDate)}earliestDate(e){return new Oi().dates(e).sort(Br)[0]}filterResultIfFieldMissing(){return!1}getFilter(e){return t=>this.dates(t).some(n=>e(n))}};var ol=class extends Zn{constructor(){super(),this._filters.add("is recurring",e=>e.recurrence!==null),this._filters.add("is not recurring",e=>e.recurrence===null)}fieldName(){return"recurring"}supportsGrouping(){return!0}grouper(){return e=>e.recurrence!==null?["Recurring"]:["Not Recurring"]}};var Mi=class extends ze{fieldNamePlural(){return this.fieldNameSingular()+"s"}fieldName(){return`${this.fieldNameSingular()}/${this.fieldNamePlural()}`}fieldPattern(){return`${this.fieldNameSingular()}|${this.fieldNamePlural()}`}filterOperatorPattern(){return`${super.filterOperatorPattern()}|include|do not include`}value(e){return this.values(e).join(", ")}getFilter(e,t){return n=>{let s=e.matchesAnyOf(this.values(n));return t?!s:s}}createGrouper(){return new _i(this.fieldNamePlural(),this.grouper())}};var As=class extends Mi{constructor(){super();this.filterInstructions=new Vr,this.filterInstructions.add(`has ${this.fieldNameSingular()}`,t=>this.values(t).length>0),this.filterInstructions.add(`has ${this.fieldNamePlural()}`,t=>this.values(t).length>0),this.filterInstructions.add(`no ${this.fieldNameSingular()}`,t=>this.values(t).length===0),this.filterInstructions.add(`no ${this.fieldNamePlural()}`,t=>this.values(t).length===0)}createFilterOrErrorMessage(t){let n=this.filterInstructions.createFilterOrErrorMessage(t);return n.filter!==void 0?n:super.createFilterOrErrorMessage(t)}canCreateFilterForLine(t){return this.filterInstructions.canCreateFilterForLine(t)?!0:super.canCreateFilterForLine(t)}fieldNameSingular(){return"tag"}values(t){return t.tags}supportsSorting(){return!0}createSorterFromLine(t){let n=t.match(this.sorterRegExp());if(n===null)return null;let s=!!n[1],a=isNaN(+n[2])?1:+n[2],o=As.makeCompareByTagComparator(a);return new vn(this.fieldNameSingular(),o,s)}sorterRegExp(){return/^sort by tag( reverse)?[\s]*(\d+)?/}comparator(){return As.makeCompareByTagComparator(1)}static makeCompareByTagComparator(t){return(n,s)=>{if(n.tags.length===0&&s.tags.length===0)return 0;if(n.tags.length===0)return 1;if(s.tags.length===0)return-1;let a=t-1;if(n.tags.length<t&&s.tags.length>=t)return 1;if(s.tags.length<t&&n.tags.length>=t)return-1;if(n.tags.length<t&&s.tags.length<t)return 0;let o=n.tags[a],l=s.tags[a];return o.localeCompare(l,void 0,{numeric:!0})}}supportsGrouping(){return!0}grouper(){return t=>t.tags.length==0?["(No tags)"]:t.tags}};var Fv=Cn(Iv());var dl=class extends Ze{constructor(){super(...arguments);this.basicBooleanRegexp=/(.*(AND|OR|XOR|NOT)\s*[("].*|\(.+\))/g;this.supportedOperators=["AND","OR","XOR","NOT"];this.subFields={}}filterRegExp(){return this.basicBooleanRegexp}createFilterOrErrorMessage(t){return this.parseLine(t)}fieldName(){return"boolean query"}parseLine(t){let n=new Be(t);if(t.length===0)return n.error="empty line",n;let s=this.preprocessExpression(t);try{let a=(0,Fv.parse)(s);for(let c of a)if(c.name==="IDENTIFIER"&&c.value){let f=c.value.trim();if(!(f in this.subFields)){let p=fl(f);if(p===null)return n.error=`couldn't parse sub-expression '${f}'`,n;if(p.error)return n.error=`couldn't parse sub-expression '${f}': ${p.error}`,n;p.filter&&(this.subFields[f]=p.filter)}}else if(c.name==="OPERATOR"){if(c.value==null)return n.error="empty operator in boolean query",n;if(!this.supportedOperators.includes(c.value))return n.error=`unknown boolean operator '${c.value}'`,n}let o=c=>this.filterTaskWithParsedQuery(c,a),l=this.constructExplanation(a);return n.filter=new er(t,o,l),n}catch(a){let o=a instanceof Error?a.message:"unknown error type";return n.error=`malformed boolean query -- ${o} (check the documentation for guidelines)`,n}return n}preprocessExpression(t){return t.replace(/\(([^()]+)\)/g,'("$1")')}filterTaskWithParsedQuery(t,n){let s=l=>l==="true",a=l=>l?"true":"false",o=[];for(let l of n)if(l.name==="IDENTIFIER"){if(l.value==null)throw Error("null token value");let f=this.subFields[l.value.trim()].filterFunction(t);o.push(a(f))}else if(l.name==="OPERATOR")if(l.value==="NOT"){let c=s(o.pop());o.push(a(!c))}else if(l.value==="OR"){let c=s(o.pop()),f=s(o.pop());o.push(a(c||f))}else if(l.value==="AND"){let c=s(o.pop()),f=s(o.pop());o.push(a(c&&f))}else if(l.value==="XOR"){let c=s(o.pop()),f=s(o.pop());o.push(a(c&&!f||!c&&f))}else throw Error("Unsupported operator: "+l.value);else throw Error("Unsupported token type: "+l);return s(o[0])}constructExplanation(t){let n=[];for(let s of t)if(s.name==="IDENTIFIER"){if(s.value==null)throw Error("null token value");let a=this.subFields[s.value.trim()];n.push(a.explanation)}else if(s.name==="OPERATOR")if(s.value==="NOT"){let a=n.pop();n.push(Xe.booleanNot([a]))}else if(s.value==="OR"){let a=n.pop(),o=n.pop();n.push(Xe.booleanOr([o,a]))}else if(s.value==="AND"){let a=n.pop(),o=n.pop();n.push(Xe.booleanAnd([o,a]))}else if(s.value==="XOR"){let a=n.pop(),o=n.pop();n.push(Xe.booleanXor([o,a]))}else throw Error("Unsupported operator: "+s.value);else throw Error("Unsupported token type: "+s);return n[0]}};var hl=class extends ze{fieldName(){return"filename"}value(e){let t=e.filename;return t===null?"":t+".md"}supportsSorting(){return!0}supportsGrouping(){return!0}grouper(){return e=>{let t=e.filename;return t===null?["Unknown Location"]:["[["+t+"]]"]}}};var pl=class extends ze{constructor(){super()}fieldName(){return"status.name"}value(e){return e.status.name}supportsSorting(){return!0}supportsGrouping(){return!0}};var Qn=class extends Ze{canCreateFilterForLine(e){let t=new RegExp(`^(?:${this.fieldNameSingularEscaped()})`);return Ze.lineMatchesFilter(t,e)}createFilterOrErrorMessage(e){let t=Ze.getMatch(this.filterRegExp(),e);if(t===null)return this.helpMessage(e);let[n,s,a]=t,o=Dr[a.toUpperCase()];if(!o)return this.helpMessage(e);let l;switch(s){case"is":l=c=>c.status.type===o;break;case"is not":l=c=>c.status.type!==o;break;default:return this.helpMessage(e)}return Be.fromFilter(new er(e,l,new Xe(e)))}filterRegExp(){return new RegExp(`^(?:${this.fieldNameSingularEscaped()}) (is|is not) ([^ ]+)$`)}helpMessage(e){let t=Object.values(Dr).filter(s=>s!=="EMPTY").join(" "),n=`Invalid ${this.fieldNameSingular()} instruction: '${e}'.
    Allowed options: 'is' and 'is not' (without quotes).
    Allowed values:  ${t}
                     Note: values are case-insensitive,
                           so 'in_progress' works too, for example.
    Example:         ${this.fieldNameSingular()} is not NON_TASK`;return Be.fromError(e,n)}fieldName(){return"status.type"}value(e){return e.status.type}supportsSorting(){return!0}comparator(){return(e,t)=>{let n=Qn.groupName(e),s=Qn.groupName(t);return n.localeCompare(s,void 0,{numeric:!0})}}supportsGrouping(){return!0}grouper(){return e=>[Qn.groupName(e)]}static groupName(e){let t;switch(e.status.type){case"IN_PROGRESS":t="1";break;case"TODO":t="2";break;case"DONE":t="3";break;case"CANCELLED":t="4";break;case"NON_TASK":t="5";break;case"EMPTY":t="6";break}return t+" "+e.status.type}};var ml=class extends ze{fieldName(){return"recurrence"}value(e){return e.recurrence!==null?e.recurrence.toText():""}supportsGrouping(){return!0}grouper(){return e=>e.recurrence!==null?[e.recurrence.toText()]:["None"]}};var yl=class extends ze{fieldName(){return"folder"}value(e){let t=e.path,n=e.filename+".md",s=t.substring(0,t.lastIndexOf(n));return s===""?"/":s}supportsGrouping(){return!0}grouper(){return e=>[ze.escapeMarkdownCharacters(this.value(e))]}};var gl=class extends ze{fieldName(){return"root"}value(e){let t=e.path.replace(/\\/g,"/");t.charAt(0)==="/"&&(t=t.substring(1));let n=t.indexOf("/");return n==-1?"/":t.substring(0,n+1)}supportsGrouping(){return!0}grouper(){return e=>[ze.escapeMarkdownCharacters(this.value(e))]}};var _l=class extends ze{fieldName(){return"backlink"}value(e){if(e.getLinkText({isFilenameUnique:!0})===null)return"Unknown Location";let n="Unknown Location";if(e.filename!==null&&(n=e.filename),e.precedingHeader===null||e.precedingHeader.length===0)return n;let s=new Si().createGrouper().grouper,a=s(e)[0];return n===a?n:`${n} > ${a}`}createFilterOrErrorMessage(e){return Be.fromError(e,"backlink field does not support filtering")}canCreateFilterForLine(e){return!1}supportsGrouping(){return!0}grouper(){return e=>{let t=e.filename;if(t!==null){let n=this.value(e);if(t!==n)return[ze.escapeMarkdownCharacters(t)+n.substring(t.length)]}return[ze.escapeMarkdownCharacters(this.value(e))]}}};var Tp=[()=>new pl,()=>new Qn,()=>new Kr,()=>new ol,()=>new xs,()=>new Oi,()=>new rl,()=>new al,()=>new il,()=>new Ti,()=>new nl,()=>new ki,()=>new yl,()=>new gl,()=>new _l,()=>new Ps,()=>new As,()=>new Si,()=>new sl,()=>new hl,()=>new Ei,()=>new ml,()=>new dl];function fl(r){for(let e of Tp){let t=e();if(t.canCreateFilterForLine(r))return t.createFilterOrErrorMessage(r)}return null}function Lv(r){let e=/^sort by /;if(r.match(e)===null)return null;for(let t of Tp){let s=t().parseSortLine(r);if(s)return s}return null}function Yv(r){let e=/^group by /;if(r.match(e)===null)return null;for(let t of Tp){let n=t(),s=n.fieldNameSingular();if(n.supportsGrouping()&&(r===`group by ${s}`||n instanceof Mi&&r===`group by ${n.fieldNamePlural()}`))return n.createGrouper()}return null}var Ci=class{constructor({source:e}){this._limit=void 0;this._layoutOptions=new Qa;this._filters=[];this._error=void 0;this._sorting=[];this._grouping=[];this.hideOptionsRegexp=/^(hide|show) (task count|backlink|priority|created date|start date|scheduled date|done date|due date|recurrence rule|edit button|urgency)/;this.shortModeRegexp=/^short/;this.explainQueryRegexp=/^explain/;this.limitRegexp=/^limit (to )?(\d+)( tasks?)?/;this.commentRegexp=/^#.*/;this.source=e,e.split(`
`).map(t=>t.trim()).forEach(t=>{switch(!0){case t==="":break;case this.shortModeRegexp.test(t):this._layoutOptions.shortMode=!0;break;case this.explainQueryRegexp.test(t):this._layoutOptions.explainQuery=!0;break;case this.limitRegexp.test(t):this.parseLimit({line:t});break;case this.parseSortBy({line:t}):break;case this.parseGroupBy({line:t}):break;case this.hideOptionsRegexp.test(t):this.parseHideOptions({line:t});break;case this.commentRegexp.test(t):break;case this.parseFilter(t):break;default:this._error=`do not understand query: ${t}`}})}explainQuery(){return`Explanation of this Tasks code block query:

`+this.explainQueryWithoutIntroduction()}explainQueryWithoutIntroduction(){let e="";Fe.isEmpty()||(e+=`Only tasks containing the global filter '${Fe.get()}'.

`);let t=this.filters.length;if(t===0)e+="No filters supplied. All tasks will match the query.";else for(let s=0;s<t;s++)s>0&&(e+=`
`),e+=this.filters[s].explainFilterIndented("");this._limit!==void 0&&(e+=`

At most ${this._limit} task`,this._limit!==1&&(e+="s"),e+=`.
`);let{debugSettings:n}=de();return n.ignoreSortInstructions&&(e+=`

NOTE: All sort instructions, including default sort order, are disabled, due to 'ignoreSortInstructions' setting.`),e}get limit(){return this._limit}get layoutOptions(){return this._layoutOptions}get filters(){return this._filters}get sorting(){return this._sorting}get grouping(){return this._grouping}get error(){return this._error}applyQueryToTasks(e){this.filters.forEach(a=>{e=e.filter(a.filterFunction)});let{debugSettings:t}=de(),s=(t.ignoreSortInstructions?e:Di.by(this.sorting,e)).slice(0,this.limit);return new tl(this.grouping,s)}parseHideOptions({line:e}){let t=e.match(this.hideOptionsRegexp);if(t!==null){let n=t[1]==="hide";switch(t[2]){case"task count":this._layoutOptions.hideTaskCount=n;break;case"backlink":this._layoutOptions.hideBacklinks=n;break;case"priority":this._layoutOptions.hidePriority=n;break;case"created date":this._layoutOptions.hideCreatedDate=n;break;case"start date":this._layoutOptions.hideStartDate=n;break;case"scheduled date":this._layoutOptions.hideScheduledDate=n;break;case"due date":this._layoutOptions.hideDueDate=n;break;case"done date":this._layoutOptions.hideDoneDate=n;break;case"recurrence rule":this._layoutOptions.hideRecurrenceRule=n;break;case"edit button":this._layoutOptions.hideEditButton=n;break;case"urgency":this._layoutOptions.hideUrgency=n;break;default:this._error="do not understand hide/show option"}}}parseFilter(e){let t=fl(e);return t!=null?(t.filter?this._filters.push(t.filter):this._error=t.error,!0):!1}parseLimit({line:e}){let t=e.match(this.limitRegexp);t!==null?this._limit=Number.parseInt(t[2],10):this._error="do not understand query limit"}parseSortBy({line:e}){let t=Lv(e);return t?(this._sorting.push(t),!0):!1}parseGroupBy({line:e}){let t=Yv(e);return t?(this._grouping.push(t),!0):!1}};var Tl=class{constructor({plugin:e,events:t}){this.addQueryRenderChild=this._addQueryRenderChild.bind(this);this.app=e.app,this.events=t,e.registerMarkdownCodeBlockProcessor("tasks",this._addQueryRenderChild.bind(this))}_addQueryRenderChild(e,t,n){return Q(this,null,function*(){n.addChild(new bp({app:this.app,events:this.events,container:t,source:e,filePath:n.sourcePath}))})}},bp=class extends Ii.MarkdownRenderChild{constructor({app:t,events:n,container:s,source:a,filePath:o}){super(s);switch(this.app=t,this.events=n,this.source=a,this.filePath=o,this.containerEl.className){case"block-language-tasks":this.query=new Ci({source:a}),this.queryType="tasks";break;default:this.query=new Ci({source:a}),this.queryType="tasks";break}}onload(){this.events.triggerRequestCacheUpdate(this.render.bind(this)),this.renderEventRef=this.events.onCacheUpdate(this.render.bind(this)),this.reloadQueryAtMidnight()}onunload(){this.renderEventRef!==void 0&&this.events.off(this.renderEventRef),this.queryReloadTimeout!==void 0&&clearTimeout(this.queryReloadTimeout)}reloadQueryAtMidnight(){let t=new Date;t.setHours(24,0,0,0);let n=new Date,s=t.getTime()-n.getTime();this.queryReloadTimeout=setTimeout(()=>{this.query=new Ci({source:this.source}),this.events.triggerRequestCacheUpdate(this.render.bind(this)),this.reloadQueryAtMidnight()},s+1e3)}render(s){return Q(this,arguments,function*({tasks:t,state:n}){var o;let a=this.containerEl.createEl("div");if(n==="Warm"&&this.query.error===void 0){console.debug(`Render ${this.queryType} called for a block in active file "${this.filePath}", to select from ${t.length} tasks: plugin state: ${n}`),this.query.layoutOptions.explainQuery&&this.createExplanation(a);let l=this.query.applyQueryToTasks(t);for(let f of l.groups){this.addGroupHeadings(a,f.groupHeadings);let{taskList:p}=yield this.createTasksList({tasks:f.tasks,content:a});a.appendChild(p)}let c=l.totalTasksCount();console.debug(`${c} of ${t.length} tasks displayed in a block in "${this.filePath}"`),this.addTaskCount(a,c)}else this.query.error!==void 0?a.createDiv().innerHTML=`<pre>Tasks query: ${this.query.error.replace(/\n/g,"<br>")}</pre>`:a.setText("Loading Tasks ...");(o=this.containerEl.firstChild)==null||o.replaceWith(a)})}createExplanation(t){let n=this.query.explainQuery(),s=t.createEl("pre");s.addClasses(["plugin-tasks-query-explanation"]),s.setText(n),t.appendChild(s)}createTasksList(s){return Q(this,arguments,function*({tasks:t,content:n}){let a=t.length,o=new Hn(this.query.layoutOptions),l=n.createEl("ul");l.addClasses(["contains-task-list","plugin-tasks-query-result"]),l.addClasses(o.specificClasses);let c=this.getGroupingAttribute();c&&c.length>0&&(l.dataset.taskGroupBy=c);for(let f=0;f<a;f++){let p=t[f],g=this.isFilenameUnique({task:p}),T=yield p.toLi({parentUlElement:l,listIndex:f,layoutOptions:this.query.layoutOptions,isFilenameUnique:g,taskLayout:o});T.querySelectorAll("[data-footnote-id]").forEach(I=>I.remove());let b=this.query.layoutOptions.shortMode,x=T.createSpan("task-extras");this.query.layoutOptions.hideUrgency||this.addUrgency(x,p),this.query.layoutOptions.hideBacklinks||this.addBacklinks(x,p,b,g),this.query.layoutOptions.hideEditButton||this.addEditButton(x,p),l.appendChild(T)}return{taskList:l,tasksCount:a}})}addEditButton(t,n){t.createEl("a",{cls:"tasks-edit"}).onClickEvent(a=>{a.preventDefault();let o=c=>{Yu({originalTask:n,newTasks:Qt.removeInferredStatusIfNeeded(n,c)})};new Kn({app:this.app,task:n,onSubmit:o}).open()})}addUrgency(t,n){let s=new Intl.NumberFormat().format(n.urgency);t.createSpan({text:s,cls:"tasks-urgency"})}addGroupHeadings(t,n){for(let s of n)this.addGroupHeading(t,s)}addGroupHeading(t,n){return Q(this,null,function*(){let s;n.nestingLevel===0?s=t.createEl("h4",{cls:"tasks-group-heading"}):n.nestingLevel===1?s=t.createEl("h5",{cls:"tasks-group-heading"}):s=t.createEl("h6",{cls:"tasks-group-heading"}),yield Ii.MarkdownRenderer.renderMarkdown(n.name,s,this.filePath,this)})}addBacklinks(t,n,s,a){var p;let o=t.createSpan({cls:"tasks-backlink"});s||o.append(" (");let l=o.createEl("a");l.rel="noopener",l.target="_blank",l.addClass("internal-link"),s&&l.addClass("internal-link-short-mode");let c;s?c=" \u{1F517}":c=(p=n.getLinkText({isFilenameUnique:a}))!=null?p:"",l.setText(c);let f=this.app.vault;l.addEventListener("click",g=>Q(this,null,function*(){let T=yield Bh(n,f);if(T){let[O,b]=T;yield this.app.workspace.getLeaf(Ii.Keymap.isModEvent(g)).openFile(b,{eState:{line:O}})}})),l.addEventListener("mousedown",g=>Q(this,null,function*(){if(g.button===1){let T=yield Bh(n,f);if(T){let[O,b]=T;yield this.app.workspace.getLeaf("tab").openFile(b,{eState:{line:O}})}}})),s||o.append(")")}addTaskCount(t,n){this.query.layoutOptions.hideTaskCount||t.createDiv({text:`${n} task${n!==1?"s":""}`,cls:"tasks-count"})}isFilenameUnique({task:t}){let n=t.path.match(/([^/]*)\..+$/i);if(n===null)return;let s=n[1];return this.app.vault.getMarkdownFiles().filter(o=>{if(o.basename===s)return!0}).length<2}getGroupingAttribute(){let t=[];for(let n of this.query.grouping)t.push(n.property);return t.join(",")}};var We=require("obsidian");function Uv(){return[[" ","Unchecked","x","TODO"],["x","Checked"," ","DONE"],[">","Rescheduled","x","TODO"],["<","Scheduled","x","TODO"],["!","Important","x","TODO"],["-","Cancelled"," ","CANCELLED"],["/","In Progress","x","IN_PROGRESS"],["?","Question","x","TODO"],["*","Star","x","TODO"],["n","Note","x","TODO"],["l","Location","x","TODO"],["i","Information","x","TODO"],["I","Idea","x","TODO"],["S","Amount","x","TODO"],["p","Pro","x","TODO"],["c","Con","x","TODO"],["b","Bookmark","x","TODO"],['"',"Quote","x","TODO"],["0","Speech bubble 0","0","NON_TASK"],["1","Speech bubble 1","1","NON_TASK"],["2","Speech bubble 2","2","NON_TASK"],["3","Speech bubble 3","3","NON_TASK"],["4","Speech bubble 4","4","NON_TASK"],["5","Speech bubble 5","5","NON_TASK"],["6","Speech bubble 6","6","NON_TASK"],["7","Speech bubble 7","7","NON_TASK"],["8","Speech bubble 8","8","NON_TASK"],["9","Speech bubble 9","9","NON_TASK"]]}function Wv(){return[[" ","incomplete","x","TODO"],["x","complete / done"," ","DONE"],["-","cancelled"," ","CANCELLED"],[">","deferred","x","TODO"],["/","in progress, or half-done","x","IN_PROGRESS"],["!","Important","x","TODO"],["?","question","x","TODO"],["R","review","x","TODO"],["+","Inbox / task that should be processed later","x","TODO"],["b","bookmark","x","TODO"],["B","brainstorm","x","TODO"],["D","deferred or scheduled","x","TODO"],["I","Info","x","TODO"],["i","idea","x","TODO"],["N","note","x","TODO"],["Q","quote","x","TODO"],["W","win / success / reward","x","TODO"],["P","pro","x","TODO"],["C","con","x","TODO"]]}function qv(){return[[" ","Unchecked","x","TODO"],["x","Checked"," ","DONE"],["-","Cancelled"," ","CANCELLED"],["/","In Progress","x","IN_PROGRESS"],[">","Deferred","x","TODO"],["!","Important","x","TODO"],["?","Question","x","TODO"],["r","Review","x","TODO"]]}function jv(){return[[" ","Unchecked","x","TODO"],["x","Regular"," ","DONE"],["X","Checked"," ","DONE"],["-","Dropped"," ","CANCELLED"],[">","Forward","x","TODO"],["D","Date","x","TODO"],["?","Question","x","TODO"],["/","Half Done","x","IN_PROGRESS"],["+","Add","x","TODO"],["R","Research","x","TODO"],["!","Important","x","TODO"],["i","Idea","x","TODO"],["B","Brainstorm","x","TODO"],["P","Pro","x","TODO"],["C","Con","x","TODO"],["Q","Quote","x","TODO"],["N","Note","x","TODO"],["b","Bookmark","x","TODO"],["I","Information","x","TODO"],["p","Paraphrase","x","TODO"],["L","Location","x","TODO"],["E","Example","x","TODO"],["A","Answer","x","TODO"],["r","Reward","x","TODO"],["c","Choice","x","TODO"],["d","Doing","x","IN_PROGRESS"],["T","Time","x","TODO"],["@","Character / Person","x","TODO"],["t","Talk","x","TODO"],["O","Outline / Plot","x","TODO"],["~","Conflict","x","TODO"],["W","World","x","TODO"],["f","Clue / Find","x","TODO"],["F","Foreshadow","x","TODO"],["H","Favorite / Health","x","TODO"],["&","Symbolism","x","TODO"],["s","Secret","x","TODO"]]}function $v(){return[[" ","Unchecked","x","TODO"],["x","Checked"," ","DONE"],[">","Rescheduled","x","TODO"],["<","Scheduled","x","TODO"],["!","Important","x","TODO"],["-","Cancelled"," ","CANCELLED"],["/","In Progress","x","IN_PROGRESS"],["?","Question","x","TODO"],["*","Star","x","TODO"],["n","Note","x","TODO"],["l","Location","x","TODO"],["i","Information","x","TODO"],["I","Idea","x","TODO"],["S","Amount","x","TODO"],["p","Pro","x","TODO"],["c","Con","x","TODO"],["b","Bookmark","x","TODO"],["f","Fire","x","TODO"],["k","Key","x","TODO"],["w","Win","x","TODO"],["u","Up","x","TODO"],["d","Down","x","TODO"]]}function Gv(){return[[" ","to-do","x","TODO"],["/","incomplete","x","IN_PROGRESS"],["x","done"," ","DONE"],["-","canceled"," ","CANCELLED"],[">","forwarded","x","TODO"],["<","scheduling","x","TODO"],["?","question","x","TODO"],["!","important","x","TODO"],["*","star","x","TODO"],['"',"quote","x","TODO"],["l","location","x","TODO"],["b","bookmark","x","TODO"],["i","information","x","TODO"],["S","savings","x","TODO"],["I","idea","x","TODO"],["p","pros","x","TODO"],["c","cons","x","TODO"],["f","fire","x","TODO"],["k","key","x","TODO"],["w","win","x","TODO"],["u","up","x","TODO"],["d","down","x","TODO"]]}function Hv(){return[[" ","to-do","x","TODO"],["/","incomplete","x","IN_PROGRESS"],["x","done"," ","DONE"],["-","canceled"," ","CANCELLED"],[">","forwarded","x","TODO"],["<","scheduling","x","TODO"],["?","question","x","TODO"],["!","important","x","TODO"],["*","star","x","TODO"],['"',"quote","x","TODO"],["l","location","x","TODO"],["b","bookmark","x","TODO"],["i","information","x","TODO"],["S","savings","x","TODO"],["I","idea","x","TODO"],["p","pros","x","TODO"],["c","cons","x","TODO"],["f","fire","x","TODO"],["k","key","x","TODO"],["w","win","x","TODO"],["u","up","x","TODO"],["d","down","x","TODO"]]}var Bv=[{text:"Core Statuses",level:"h3",class:"",open:!0,notice:{class:"setting-item-description",text:null,html:"<p>These are the core statuses that Tasks supports natively, with no need for custom CSS styling or theming.</p><p>You can add edit and add your own custom statuses in the section below.</p>"},settings:[{name:"",description:"",type:"function",initialValue:"",placeholder:"",settingName:"insertTaskCoreStatusSettings",featureFlag:"",notice:null}]},{text:"Custom Statuses",level:"h3",class:"",open:!0,notice:{class:"setting-item-description",text:null,html:`<p>You should first <b>select and install a CSS Snippet or Theme</b> to style custom checkboxes.</p><p>Then, use the buttons below to set up your custom statuses, to match your chosen CSS checkboxes.</p><p><b>Note</b> Any statuses with the same symbol as any earlier statuses will be ignored. You can confirm the actually loaded statuses by running the 'Create or edit task' command and looking at the Status drop-down.</p><p></p><p>See the <a href="https://publish.obsidian.md/tasks/Getting+Started/Statuses">documentation</a> to get started!</p>`},settings:[{name:"",description:"",type:"function",initialValue:"",placeholder:"",settingName:"insertCustomTaskStatusSettings",featureFlag:"",notice:null}]}];var Yr=require("obsidian");var Fs=class{validate(e){let t=[];return t.push(...this.validateSymbol(e)),t.push(...this.validateName(e)),t.push(...this.validateNextSymbol(e)),t}validateStatusCollectionEntry(e){let[t,n,s,a]=e,o=[];if(o.push(...this.validateType(a)),t===s&&a!=="NON_TASK"&&o.push(`Status symbol '${t}' toggles to itself`),o.length>0)return o;let l=he.createFromImportedValue(e).configuration;return o.push(...this.validateSymbolTypeConventions(l)),o.push(...this.validate(l)),o}validateSymbol(e){return Fs.validateOneSymbol(e.symbol,"Task Status Symbol")}validateNextSymbol(e){return Fs.validateOneSymbol(e.nextStatusSymbol,"Task Next Status Symbol")}validateName(e){let t=[];return e.name.length===0&&t.push("Task Status Name cannot be empty."),t}validateType(e){let t=Dr[e],n=[];return t||n.push(`Status Type "${e}" is not a valid type`),t=="EMPTY"&&n.push('Status Type "EMPTY" is not permitted in user data'),n}validateSymbolTypeConventions(e){let t=[],n=e.symbol,s=new He,a=n==="X"?"x":n,o=s.bySymbol(a);return o.type!=="EMPTY"&&(e.nextStatusSymbol!==o.nextStatusSymbol&&t.push(`Next Status Symbol for symbol '${n}': '${e.nextStatusSymbol}' is inconsistent with convention '${o.nextStatusSymbol}'`),e.type!==o.type&&t.push(`Status Type for symbol '${n}': '${e.type}' is inconsistent with convention '${o.type}'`)),t}static validateOneSymbol(e,t){let n=[];return e.length===0&&n.push(`${t} cannot be empty.`),e.length>1&&n.push(`${t} ("${e}") must be a single character.`),n}};var Ls=new Fs,cr=class extends Yr.Modal{constructor(t,n,s){super(t.app);this.plugin=t;this.saved=!1;this.error=!1;this.statusSymbol=n.symbol,this.statusName=n.name,this.statusNextSymbol=n.nextStatusSymbol,this.statusAvailableAsCommand=n.availableAsCommand,this.type=n.type,this.isCoreStatus=s}statusConfiguration(){return new Mt(this.statusSymbol,this.statusName,this.statusNextSymbol,this.statusAvailableAsCommand,this.type)}display(){return Q(this,null,function*(){let{contentEl:t}=this;t.empty();let n=t.createDiv(),s;new Yr.Setting(n).setName("Task Status Symbol").setDesc("This is the character between the square braces. (It can only be edited for Custom statuses, and not Core statuses.)").addText(f=>{s=f,f.setValue(this.statusSymbol).onChange(p=>{this.statusSymbol=p,cr.setValid(f,Ls.validateSymbol(this.statusConfiguration()))})}).setDisabled(this.isCoreStatus).then(f=>{cr.setValid(s,Ls.validateSymbol(this.statusConfiguration()))});let a;new Yr.Setting(n).setName("Task Status Name").setDesc("This is the friendly name of the task status.").addText(f=>{a=f,f.setValue(this.statusName).onChange(p=>{this.statusName=p,cr.setValid(f,Ls.validateName(this.statusConfiguration()))})}).then(f=>{cr.setValid(a,Ls.validateName(this.statusConfiguration()))});let o;new Yr.Setting(n).setName("Task Next Status Symbol").setDesc("When clicked on this is the symbol that should be used next.").addText(f=>{o=f,f.setValue(this.statusNextSymbol).onChange(p=>{this.statusNextSymbol=p,cr.setValid(f,Ls.validateNextSymbol(this.statusConfiguration()))})}).then(f=>{cr.setValid(o,Ls.validateNextSymbol(this.statusConfiguration()))}),new Yr.Setting(n).setName("Task Status Type").setDesc("Control how the status behaves for searching and toggling.").addDropdown(f=>{["TODO","IN_PROGRESS","DONE","CANCELLED","NON_TASK"].forEach(g=>{f.addOption(g,g)}),f.setValue(this.type).onChange(g=>{this.type=he.getTypeFromStatusTypeString(g)})}),he.tasksPluginCanCreateCommandsForStatuses()&&new Yr.Setting(n).setName("Available as command").setDesc("If enabled this status will be available as a command so you can assign a hotkey and toggle the status using it.").addToggle(f=>{f.setValue(this.statusAvailableAsCommand).onChange(p=>Q(this,null,function*(){this.statusAvailableAsCommand=p}))});let l=t.createDiv(),c=new Yr.Setting(l);c.addButton(f=>(f.setTooltip("Save").setIcon("checkmark").onClick(()=>Q(this,null,function*(){let p=Ls.validate(this.statusConfiguration());if(p.length>0){let g=p.join(`
`)+`

Fix errors before saving.`;new Yr.Notice(g);return}this.saved=!0,this.close()})),f)),c.addExtraButton(f=>(f.setIcon("cross").setTooltip("Cancel").onClick(()=>{this.saved=!1,this.close()}),f))})}onOpen(){this.display()}static setValidationError(t){t.inputEl.addClass("tasks-settings-is-invalid")}static removeValidationError(t){t.inputEl.removeClass("tasks-settings-is-invalid")}static setValid(t,n){n.length===0?cr.removeValidationError(t):cr.setValidationError(t)}};var Ys=class extends We.PluginSettingTab{constructor({plugin:t}){super(t.app,t);this.customFunctions={insertTaskCoreStatusSettings:this.insertTaskCoreStatusSettings.bind(this),insertCustomTaskStatusSettings:this.insertCustomTaskStatusSettings.bind(this)};this.plugin=t}saveSettings(t){return Q(this,null,function*(){yield this.plugin.saveSettings(),t&&this.display()})}display(){let{containerEl:t}=this;t.empty(),this.containerEl.addClass("tasks-settings"),t.createEl("h3",{text:"Tasks Settings"}),t.createEl("p",{cls:"tasks-setting-important",text:"Changing any settings requires a restart of obsidian."}),t.createEl("h4",{text:"Task Format Settings"}),new We.Setting(t).setName("Task Format").setDesc(Ys.createFragmentWithHTML('<p>The format that Tasks uses to read and write tasks.</p><p><b>Important:</b> Tasks currently only supports one format at a time. Selecting Dataview will currently <b>stop Tasks reading its own emoji signifiers</b>.</p><p>See the <a href="https://publish.obsidian.md/tasks/Reference/Formats/About+Formats">documentation</a>.</p>')).addDropdown(s=>{for(let a of Object.keys(_n))s.addOption(a,_n[a].displayName);s.setValue(de().taskFormat).onChange(a=>Q(this,null,function*(){Rt({taskFormat:a}),yield this.plugin.saveSettings()}))}),t.createEl("h4",{text:"Global filter Settings"}),new We.Setting(t).setName("Global task filter").setDesc(Ys.createFragmentWithHTML('<p><b>Recommended: Leave empty if you want all checklist items in your vault to be tasks managed by this plugin.</b></p><p>Use a global filter if you want Tasks to only act on a subset of your "<code>- [ ]</code>" checklist items, so that a checklist item must include the specified string in its description in order to be considered a task.<p><p>For example, if you set the global filter to <code>#task</code>, the Tasks plugin will only handle checklist items tagged with <code>#task</code>.</br>Other checklist items will remain normal checklist items and not appear in queries or get a done date set.</p><p>See the <a href="https://publish.obsidian.md/tasks/Getting+Started/Global+Filter">documentation</a>.</p>')).addText(s=>{s.setPlaceholder("e.g. #task or TODO").setValue(Fe.get()).onChange(a=>Q(this,null,function*(){Fe.set(a),yield this.plugin.saveSettings()}))}),new We.Setting(t).setName("Remove global filter from description").setDesc("Enabling this removes the string that you set as global filter from the task description when displaying a task.").addToggle(s=>{let a=de();s.setValue(a.removeGlobalFilter).onChange(o=>Q(this,null,function*(){Rt({removeGlobalFilter:o}),yield this.plugin.saveSettings()}))}),t.createEl("h4",{text:"Task Statuses"});let{headingOpened:n}=de();Bv.forEach(s=>{this.addOneSettingsBlock(t,s,n)}),t.createEl("h4",{text:"Date Settings"}),new We.Setting(t).setName("Set created date on every added task").setDesc("Enabling this will add a timestamp \u2795 YYYY-MM-DD before other date values, when a task is created with 'Create or edit task', or by completing a recurring task.").addToggle(s=>{let a=de();s.setValue(a.setCreatedDate).onChange(o=>Q(this,null,function*(){Rt({setCreatedDate:o}),yield this.plugin.saveSettings()}))}),new We.Setting(t).setName("Set done date on every completed task").setDesc("Enabling this will add a timestamp \u2705 YYYY-MM-DD at the end when a task is toggled to done.").addToggle(s=>{let a=de();s.setValue(a.setDoneDate).onChange(o=>Q(this,null,function*(){Rt({setDoneDate:o}),yield this.plugin.saveSettings()}))}),new We.Setting(t).setName("Use filename as Scheduled date for undated tasks").setDesc(Ys.createFragmentWithHTML('Save time entering Scheduled (\u23F3) dates.</br>If this option is enabled, any undated tasks will be given a default Scheduled date extracted from their file name.</br>The date in the file name must be in one of <code>YYYY-MM-DD</code> or <code>YYYYMMDD</code> formats.</br>Undated tasks have none of Due (\u{1F4C5} ), Scheduled (\u23F3) and Start (\u{1F6EB}) dates.</br><p>See the <a href="https://publish.obsidian.md/tasks/Getting+Started/Use+Filename+as+Default+Date">documentation</a>.</p>')).addToggle(s=>{let a=de();s.setValue(a.useFilenameAsScheduledDate).onChange(o=>Q(this,null,function*(){Rt({useFilenameAsScheduledDate:o}),yield this.plugin.saveSettings()}))}),new We.Setting(t).setName("Folders with default Scheduled dates").setDesc("Leave empty if you want to use default Scheduled dates everywhere, or enter a comma-separated list of folders.").addText(s=>Q(this,null,function*(){let a=de();yield this.plugin.saveSettings(),s.setValue(Ys.renderFolderArray(a.filenameAsDateFolders)).onChange(o=>Q(this,null,function*(){let l=Ys.parseCommaSeparatedFolders(o);Rt({filenameAsDateFolders:l}),yield this.plugin.saveSettings()}))})),t.createEl("h4",{text:"Auto-suggest Settings"}),new We.Setting(t).setName("Auto-suggest task content").setDesc("Enabling this will open an intelligent suggest menu while typing inside a recognized task line.").addToggle(s=>{let a=de();s.setValue(a.autoSuggestInEditor).onChange(o=>Q(this,null,function*(){Rt({autoSuggestInEditor:o}),yield this.plugin.saveSettings()}))}),new We.Setting(t).setName("Minimum match length for auto-suggest").setDesc("If higher than 0, auto-suggest will be triggered only when the beginning of any supported keywords is recognized.").addSlider(s=>{let a=de();s.setLimits(0,3,1).setValue(a.autoSuggestMinMatch).setDynamicTooltip().onChange(o=>Q(this,null,function*(){Rt({autoSuggestMinMatch:o}),yield this.plugin.saveSettings()}))}),new We.Setting(t).setName("Maximum number of auto-suggestions to show").setDesc('How many suggestions should be shown when an auto-suggest menu pops up (including the "\u23CE" option).').addSlider(s=>{let a=de();s.setLimits(3,12,1).setValue(a.autoSuggestMaxItems).setDynamicTooltip().onChange(o=>Q(this,null,function*(){Rt({autoSuggestMaxItems:o}),yield this.plugin.saveSettings()}))}),t.createEl("h4",{text:"Dialog Settings"}),new We.Setting(t).setName("Provide access keys in dialogs").setDesc("If the access keys (keyboard shortcuts) for various controls in dialog boxes conflict with system keyboard shortcuts or assistive technology functionality that is important for you, you may want to deactivate them here.").addToggle(s=>{let a=de();s.setValue(a.provideAccessKeys).onChange(o=>Q(this,null,function*(){Rt({provideAccessKeys:o}),yield this.plugin.saveSettings()}))})}addOneSettingsBlock(t,n,s){let a=t.createEl("details",{cls:"tasks-nested-settings",attr:Ae({},n.open||s[n.text]?{open:!0}:{})});a.empty(),a.ontoggle=()=>{s[n.text]=a.open,Rt({headingOpened:s}),this.plugin.saveSettings()};let o=a.createEl("summary");if(new We.Setting(o).setHeading().setName(n.text),o.createDiv("collapser").createDiv("handle"),n.notice!==null){let l=a.createEl("div",{cls:n.notice.class,text:n.notice.text});n.notice.html!==null&&l.insertAdjacentHTML("beforeend",n.notice.html)}n.settings.forEach(l=>{if(!(l.featureFlag!==""&&!jb(l.featureFlag))&&(l.type==="checkbox"?new We.Setting(a).setName(l.name).setDesc(l.description).addToggle(c=>{let f=de();f.generalSettings[l.settingName]||Es(l.settingName,l.initialValue),c.setValue(f.generalSettings[l.settingName]).onChange(p=>Q(this,null,function*(){Es(l.settingName,p),yield this.plugin.saveSettings()}))}):l.type==="text"?new We.Setting(a).setName(l.name).setDesc(l.description).addText(c=>{let f=de();f.generalSettings[l.settingName]||Es(l.settingName,l.initialValue);let p=g=>Q(this,null,function*(){Es(l.settingName,g),yield this.plugin.saveSettings()});c.setPlaceholder(l.placeholder.toString()).setValue(f.generalSettings[l.settingName].toString()).onChange((0,We.debounce)(p,500,!0))}):l.type==="textarea"?new We.Setting(a).setName(l.name).setDesc(l.description).addTextArea(c=>{let f=de();f.generalSettings[l.settingName]||Es(l.settingName,l.initialValue);let p=g=>Q(this,null,function*(){Es(l.settingName,g),yield this.plugin.saveSettings()});c.setPlaceholder(l.placeholder.toString()).setValue(f.generalSettings[l.settingName].toString()).onChange((0,We.debounce)(p,500,!0)),c.inputEl.rows=8,c.inputEl.cols=40}):l.type==="function"&&this.customFunctions[l.settingName](a,this),l.notice!==null)){let c=a.createEl("p",{cls:l.notice.class,text:l.notice.text});l.notice.html!==null&&c.insertAdjacentHTML("beforeend",l.notice.html)}})}static parseCommaSeparatedFolders(t){return t.split(",").map(n=>n.trim()).map(n=>n.replace(/^\/|\/$/g,"")).filter(n=>n!=="")}static renderFolderArray(t){return t.join(",")}insertTaskCoreStatusSettings(t,n){let{statusSettings:s}=de();s.coreStatuses.forEach(a=>{zv(t,a,s.coreStatuses,s,n,n.plugin,!0)})}insertCustomTaskStatusSettings(t,n){let{statusSettings:s}=de();s.customStatuses.forEach(f=>{zv(t,f,s.customStatuses,s,n,n.plugin,!1)}),t.createEl("div"),new We.Setting(t).addButton(f=>{f.setButtonText("Add New Task Status").setCta().onClick(()=>Q(this,null,function*(){yt.addStatus(s.customStatuses,new Mt("","","",!1,"TODO")),yield Fi(s,n)}))}).infoEl.remove();let o=[["AnuPpuccin Theme",Uv()],["Aura Theme",Wv()],["Ebullientworks Theme",qv()],["ITS Theme & SlRvb Checkboxes",jv()],["Minimal Theme",Gv()],["Things Theme",Hv()],["LYT Mode Theme (Dark mode only)",$v()]];for(let[f,p]of o)new We.Setting(t).addButton(T=>{let O=`${f}: Add ${p.length} supported Statuses`;T.setButtonText(O).onClick(()=>Q(this,null,function*(){yield MF(p,s,n)}))}).infoEl.remove();new We.Setting(t).addButton(f=>{f.setButtonText("Add All Unknown Status Types").setCta().onClick(()=>Q(this,null,function*(){let g=this.plugin.getTasks().map(O=>O.status),T=He.getInstance().findUnknownStatuses(g);T.length!==0&&(T.forEach(O=>{yt.addStatus(s.customStatuses,O)}),yield Fi(s,n))}))}).infoEl.remove(),new We.Setting(t).addButton(f=>{f.setButtonText("Reset Custom Status Types to Defaults").setWarning().onClick(()=>Q(this,null,function*(){yt.resetAllCustomStatuses(s),yield Fi(s,n)}))}).infoEl.remove()}},po=Ys;po.createFragmentWithHTML=t=>createFragment(n=>n.createDiv().innerHTML=t);function zv(r,e,t,n,s,a,o){let l=r.createEl("pre");l.addClass("row-for-status"),l.textContent=new he(e).previewText();let c=new We.Setting(r);c.infoEl.replaceWith(l),o||c.addExtraButton(f=>{f.setIcon("cross").setTooltip("Delete").onClick(()=>Q(this,null,function*(){yt.deleteStatus(t,e)&&(yield Fi(n,s))}))}),c.addExtraButton(f=>{f.setIcon("pencil").setTooltip("Edit").onClick(()=>Q(this,null,function*(){let p=new cr(a,e,o);p.onClose=()=>Q(this,null,function*(){p.saved&&yt.replaceStatus(t,e,p.statusConfiguration())&&(yield Fi(n,s))}),p.open()}))}),c.infoEl.remove()}function MF(r,e,t){return Q(this,null,function*(){yt.bulkAddStatusCollection(e,r).forEach(s=>{new We.Notice(s)}),yield Fi(e,t)})}function Fi(r,e){return Q(this,null,function*(){Rt({statusSettings:r}),yt.applyToStatusRegistry(r,He.getInstance()),yield e.saveSettings(!0)})}var Vv=require("obsidian");var bl=class extends Vv.EditorSuggest{constructor(t,n){super(t);this.settings=n}onTrigger(t,n,s){if(!this.settings.autoSuggestInEditor)return null;let a=n.getLine(t.line);return Fe.includedIn(a)&&a.match(ie.taskRegex)?{start:{line:t.line,ch:0},end:{line:t.line,ch:a.length},query:a}:null}getSuggestions(t){var o,l,c;let n=t.query,s=t.editor.getCursor();return((c=(l=(o=eo()).buildSuggestions)==null?void 0:l.call(o,n,s.ch,this.settings))!=null?c:[]).map(f=>tr(Ae({},f),{context:t}))}renderSuggestion(t,n){n.setText(t.displayText)}selectSuggestion(t,n){var c,f,p;let s=t.context.editor;if(t.suggestionType==="empty"){this.close();let g=new KeyboardEvent("keydown",{code:"Enter",key:"Enter"});(f=(c=s==null?void 0:s.cm)==null?void 0:c.contentDOM)==null||f.dispatchEvent(g);return}let a=t.context.editor.getCursor(),o={line:a.line,ch:(p=t.insertAt)!=null?p:a.ch},l=t.insertSkip?{line:a.line,ch:o.ch+t.insertSkip}:void 0;t.context.editor.replaceRange(t.appendText,o,l),t.context.editor.setCursor({line:a.line,ch:o.ch+t.appendText.length})}};var Kv=(r,e)=>{let t,n=new Promise((o,l)=>{t=o});return e(r,o=>{let l=o.map(c=>c.toFileLineString()).join(`
`);t(l)}).open(),n};var Zv=(r,e)=>{let t=$u({line:"",path:""});return new Kn({app:r,task:t,onSubmit:e})};var Xv=r=>({createTaskLineModal:()=>Kv(r,Zv)});var vl=class extends Qv.Plugin{get apiV1(){return Xv(app)}onload(){return Q(this,null,function*(){Iu.registerConsoleLogger(),console.log('loading plugin "tasks"'),yield this.loadSettings(),this.addSettingTab(new po({plugin:this})),Vb({metadataCache:this.app.metadataCache,vault:this.app.vault,workspace:this.app.workspace}),yield this.loadTaskStatuses();let t=new Hu({obsidianEvents:this.app.workspace});this.cache=new Ds({metadataCache:this.app.metadataCache,vault:this.app.vault,events:t}),this.inlineRenderer=new Bu({plugin:this}),this.queryRenderer=new Tl({plugin:this,events:t}),this.registerEditorExtension(kv()),this.registerEditorSuggest(new bl(this.app,de())),new Gu({plugin:this})})}loadTaskStatuses(){return Q(this,null,function*(){let{statusSettings:t}=de();yt.applyToStatusRegistry(t,He.getInstance())})}onunload(){var t;console.log('unloading plugin "tasks"'),(t=this.cache)==null||t.unload()}loadSettings(){return Q(this,null,function*(){let t=yield this.loadData();Rt(t),yield this.loadTaskStatuses()})}saveSettings(){return Q(this,null,function*(){yield this.saveData(de())})}getTasks(){var t;return(t=this.cache)==null?void 0:t.getTasks()}};
/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! moment.js
//! momentjs.com
//! version : 2.29.4
